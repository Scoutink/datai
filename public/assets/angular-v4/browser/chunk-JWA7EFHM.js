import{e as K}from"./chunk-HUQBVWNM.js";import{b as W}from"./chunk-JB4URTUB.js";import{b as X}from"./chunk-TNLJ7CAF.js";import{a as J}from"./chunk-5HUZTPPR.js";import{J as $,K as z,k as Y}from"./chunk-VNAU6AHI.js";import{a as w,b as Q}from"./chunk-YTVNRIZ3.js";import{fa as F,ia as V,na as H}from"./chunk-NF46UI75.js";import{t as j,u as q}from"./chunk-SIUWMJOE.js";import{B as P,C as U,D as G,c as B,e as g,h as R,i as D,o as L,r as O,u as k}from"./chunk-TMWBOQE5.js";import{Ab as d,Ac as m,Ea as h,Ed as S,Gd as y,Hd as T,Jd as A,Kb as o,Lb as i,Mb as c,Tb as M,Vb as E,Zc as b,gc as a,hc as s,ib as t,ic as v,jd as N,rc as x,sc as I,tb as C,wb as f,za as _,zc as l}from"./chunk-EOQA7B6X.js";var Z=()=>["/client"];function ee(e,u){e&1&&(o(0,"span",23),a(1),l(2,"translate"),i()),e&2&&(t(),s(m(2,1,"ADD_CLIENT")))}function te(e,u){e&1&&(o(0,"span",23),a(1),l(2,"translate"),i()),e&2&&(t(),s(m(2,1,"EDIT_CLIENT")))}function ie(e,u){e&1&&(o(0,"div",25),a(1),l(2,"translate"),i()),e&2&&(t(),v(" ",m(2,1,"COMPANY_PERSON_NAME_IS_REQUIRED")," "))}function ne(e,u){if(e&1&&(o(0,"div"),f(1,ie,3,3,"div",24),i()),e&2){let n,r=E();t(),d("ngIf",(n=r.clientForm.get("companyName").errors)==null?null:n.required)}}function oe(e,u){e&1&&(o(0,"div",25),a(1),l(2,"translate"),i()),e&2&&(t(),v(" ",m(2,1,"PLEASE_ENTER_VALID_EMAIL")," "))}function ae(e,u){e&1&&(o(0,"div",25),a(1),l(2,"translate"),i()),e&2&&(t(),v(" ",m(2,1,"EMAIL_IS_REQUIRED")," "))}function re(e,u){if(e&1&&(o(0,"div"),f(1,oe,3,3,"div",24)(2,ae,3,3,"div",24),i()),e&2){let n,r,p=E();t(),d("ngIf",(n=p.clientForm.get("email").errors)==null?null:n.email),t(),d("ngIf",(r=p.clientForm.get("email").errors)==null?null:r.required)}}var Be=(()=>{class e extends V{constructor(){super(),this.isEditMode=!1,this.fb=_(P),this.router=_(y),this.activeRoute=_(S),this.clientStore=_(W),this.subscribeIsAddUpdate()}ngOnInit(){this.createUserForm(),this.sub$.sink=this.activeRoute.data.subscribe(n=>{n.client&&(this.isEditMode=!0,this.clientForm.patchValue(n.client),this.client=n.client)})}createUserForm(){this.clientForm=this.fb.group({id:[""],companyName:["",[g.required]],contactPerson:[""],lastName:[""],email:["",[g.required,g.email]],phoneNumber:[""],address:[""]})}markFormGroupTouched(n){Object.values(n.controls).forEach(r=>{r.markAsTouched(),r.controls&&this.markFormGroupTouched(r)})}saveClient(){if(this.clientForm.valid){let n=this.createBuildObject();this.isEditMode?this.clientStore.addUpdateClient(n):this.clientStore.addUpdateClient(n)}else this.markFormGroupTouched(this.clientForm)}subscribeIsAddUpdate(){J(this.clientStore.isAddUpdate).subscribe(n=>{n&&this.router.navigate(["/client"])})}createBuildObject(){return{id:this.clientForm.get("id").value,contactPerson:this.clientForm.get("contactPerson").value,email:this.clientForm.get("email").value,phoneNumber:this.clientForm.get("phoneNumber").value,address:this.clientForm.get("address").value,companyName:this.clientForm.get("companyName").value}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=h({type:e,selectors:[["app-manage-client"]],standalone:!0,features:[C,x],decls:53,vars:29,consts:[[1,"content"],[1,"container-fluid"],[1,"row","align-items-center"],[1,"col-md-6","mb-2"],["class","mb-0 page-title",4,"ngIf"],[3,"code"],[1,"card"],[1,"body"],[3,"formGroup"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["formControlName","companyName","type","text",1,"form-control"],[4,"ngIf"],["formControlName","contactPerson","type","text",1,"form-control"],["formControlName","email","type","email",1,"form-control"],["formControlName","phoneNumber","type","text",1,"form-control"],["formControlName","address",1,"form-control"],[1,"m-top-10","col-md-12"],["cdkFocusInitial","",1,"btn","btn-success","btn-sm","me-2",3,"click"],["name","save",1,"small-icon"],["type","button",1,"btn","btn-danger","btn-sm",3,"routerLink"],["name","x-circle",1,"small-icon"],[1,"mb-0","page-title"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(r,p){r&1&&(o(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),f(4,ee,3,3,"span",4)(5,te,3,3,"span",4),c(6,"app-page-help-text",5),i()(),o(7,"div",6)(8,"div",7)(9,"form",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"label"),a(14),l(15,"translate"),i(),c(16,"input",12),f(17,ne,2,1,"div",13),i()(),o(18,"div",10)(19,"div",11)(20,"label"),a(21),l(22,"translate"),i(),c(23,"input",14),i()(),o(24,"div",10)(25,"div",11)(26,"label"),a(27),l(28,"translate"),i(),c(29,"input",15),f(30,re,3,2,"div",13),i()(),o(31,"div",10)(32,"div",11)(33,"label"),a(34),l(35,"translate"),i(),c(36,"input",16),i()(),o(37,"div",10)(38,"div",11)(39,"label"),a(40),l(41,"translate"),i(),o(42,"textarea",17),a(43,"                "),i()()(),o(44,"div",18)(45,"button",19),M("click",function(){return p.saveClient()}),c(46,"i-feather",20),a(47),l(48,"translate"),i(),o(49,"button",21),c(50,"i-feather",22),a(51),l(52,"translate"),i()()()()()()()()),r&2&&(t(4),d("ngIf",!p.isEditMode),t(),d("ngIf",p.isEditMode),t(),d("code","MANAGE_CLIENT"),t(3),d("formGroup",p.clientForm),t(5),s(m(15,14,"COMPANY_PERSON_NAME")),t(3),d("ngIf",p.clientForm.get("companyName").touched&&p.clientForm.get("companyName").errors),t(4),s(m(22,16,"CONTACT_PERSON")),t(6),s(m(28,18,"EMAIL")),t(3),d("ngIf",p.clientForm.get("email").touched&&p.clientForm.get("email").errors),t(4),s(m(35,20,"MOBILE_NUMBER")),t(6),s(m(41,22,"ADDRESS")),t(7),v(" ",m(48,24,"SAVE")," "),t(2),d("routerLink",I(28,Z)),t(2),v(" ",m(52,26,"CANCEL")," "))},dependencies:[U,L,B,R,D,q,j,N,b,A,T,H,G,O,k,X,F,Q,w,Y,K,z,$]})}}return e})();export{Be as a};
