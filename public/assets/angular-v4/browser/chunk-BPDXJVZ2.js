import{c as vf,d as yf,g as rs,j as xf}from"./chunk-AWIVOLPG.js";import{$ as af,$a as $e,$b as D,B as Uo,Ba as uf,Ca as Yo,Cb as ge,Fb as Q,Gb as F,Hb as Wn,Ib as or,Ka as ff,La as Xo,Ma as Wo,N as sf,Pc as pf,Qb as Y,Rb as ee,Sa as cf,Sb as ct,Ta as ke,Ua as Ne,Va as K,Vb as ht,Wb as sr,Zb as Oe,a as ue,ab as Ko,ac as hf,b as Re,bc as lf,c as nr,cd as df,db as Zo,dd as gf,e as d,ec as ar,f as Vo,fc as Qo,g as nf,gc as lt,hc as pt,id as mf,j as jo,m as Ho,mc as Jo,nb as ir,o as Xn,ob as G,oc as es,pb as Nt,pd as ts,ua as Rr,x as of,zc as Ot}from"./chunk-SXJN2XK6.js";var jh=d((sX,Vh)=>{function zq(){this.__data__=[],this.size=0}Vh.exports=zq});var Ut=d((aX,Hh)=>{function Vq(e,t){return e===t||e!==e&&t!==t}Hh.exports=Vq});var fn=d((uX,Uh)=>{var jq=Ut();function Hq(e,t){for(var r=e.length;r--;)if(jq(e[r][0],t))return r;return-1}Uh.exports=Hq});var Xh=d((fX,Yh)=>{var Uq=fn(),Yq=Array.prototype,Xq=Yq.splice;function Wq(e){var t=this.__data__,r=Uq(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Xq.call(t,r,1),--this.size,!0}Yh.exports=Wq});var Kh=d((cX,Wh)=>{var Kq=fn();function Zq(e){var t=this.__data__,r=Kq(t,e);return r<0?void 0:t[r][1]}Wh.exports=Zq});var Qh=d((hX,Zh)=>{var Qq=fn();function Jq(e){return Qq(this.__data__,e)>-1}Zh.exports=Jq});var el=d((lX,Jh)=>{var eM=fn();function tM(e,t){var r=this.__data__,n=eM(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}Jh.exports=tM});var cn=d((pX,tl)=>{var rM=jh(),nM=Xh(),iM=Kh(),oM=Qh(),sM=el();function vr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}vr.prototype.clear=rM;vr.prototype.delete=nM;vr.prototype.get=iM;vr.prototype.has=oM;vr.prototype.set=sM;tl.exports=vr});var nl=d((dX,rl)=>{var aM=cn();function uM(){this.__data__=new aM,this.size=0}rl.exports=uM});var ol=d((gX,il)=>{function fM(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}il.exports=fM});var al=d((mX,sl)=>{function cM(e){return this.__data__.get(e)}sl.exports=cM});var fl=d((vX,ul)=>{function hM(e){return this.__data__.has(e)}ul.exports=hM});var Ws=d((yX,cl)=>{var lM=typeof global=="object"&&global&&global.Object===Object&&global;cl.exports=lM});var Me=d((xX,hl)=>{var pM=Ws(),dM=typeof self=="object"&&self&&self.Object===Object&&self,gM=pM||dM||Function("return this")();hl.exports=gM});var Yt=d((_X,ll)=>{var mM=Me(),vM=mM.Symbol;ll.exports=vM});var ml=d((bX,gl)=>{var pl=Yt(),dl=Object.prototype,yM=dl.hasOwnProperty,xM=dl.toString,hn=pl?pl.toStringTag:void 0;function _M(e){var t=yM.call(e,hn),r=e[hn];try{e[hn]=void 0;var n=!0}catch{}var i=xM.call(e);return n&&(t?e[hn]=r:delete e[hn]),i}gl.exports=_M});var yl=d((wX,vl)=>{var bM=Object.prototype,wM=bM.toString;function EM(e){return wM.call(e)}vl.exports=EM});var _t=d((EX,bl)=>{var xl=Yt(),qM=ml(),MM=yl(),CM="[object Null]",AM="[object Undefined]",_l=xl?xl.toStringTag:void 0;function SM(e){return e==null?e===void 0?AM:CM:_l&&_l in Object(e)?qM(e):MM(e)}bl.exports=SM});var ve=d((qX,wl)=>{function TM(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}wl.exports=TM});var yr=d((MX,El)=>{var kM=_t(),NM=ve(),OM="[object AsyncFunction]",IM="[object Function]",PM="[object GeneratorFunction]",LM="[object Proxy]";function DM(e){if(!NM(e))return!1;var t=kM(e);return t==IM||t==PM||t==OM||t==LM}El.exports=DM});var Ml=d((CX,ql)=>{var GM=Me(),FM=GM["__core-js_shared__"];ql.exports=FM});var Sl=d((AX,Al)=>{var Ks=Ml(),Cl=function(){var e=/[^.]+$/.exec(Ks&&Ks.keys&&Ks.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function RM(e){return!!Cl&&Cl in e}Al.exports=RM});var Zs=d((SX,Tl)=>{var $M=Function.prototype,BM=$M.toString;function zM(e){if(e!=null){try{return BM.call(e)}catch{}try{return e+""}catch{}}return""}Tl.exports=zM});var Nl=d((TX,kl)=>{var VM=yr(),jM=Sl(),HM=ve(),UM=Zs(),YM=/[\\^$.*+?()[\]{}|]/g,XM=/^\[object .+?Constructor\]$/,WM=Function.prototype,KM=Object.prototype,ZM=WM.toString,QM=KM.hasOwnProperty,JM=RegExp("^"+ZM.call(QM).replace(YM,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eC(e){if(!HM(e)||jM(e))return!1;var t=VM(e)?JM:XM;return t.test(UM(e))}kl.exports=eC});var Il=d((kX,Ol)=>{function tC(e,t){return e?.[t]}Ol.exports=tC});var bt=d((NX,Pl)=>{var rC=Nl(),nC=Il();function iC(e,t){var r=nC(e,t);return rC(r)?r:void 0}Pl.exports=iC});var Li=d((OX,Ll)=>{var oC=bt(),sC=Me(),aC=oC(sC,"Map");Ll.exports=aC});var ln=d((IX,Dl)=>{var uC=bt(),fC=uC(Object,"create");Dl.exports=fC});var Rl=d((PX,Fl)=>{var Gl=ln();function cC(){this.__data__=Gl?Gl(null):{},this.size=0}Fl.exports=cC});var Bl=d((LX,$l)=>{function hC(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}$l.exports=hC});var Vl=d((DX,zl)=>{var lC=ln(),pC="__lodash_hash_undefined__",dC=Object.prototype,gC=dC.hasOwnProperty;function mC(e){var t=this.__data__;if(lC){var r=t[e];return r===pC?void 0:r}return gC.call(t,e)?t[e]:void 0}zl.exports=mC});var Hl=d((GX,jl)=>{var vC=ln(),yC=Object.prototype,xC=yC.hasOwnProperty;function _C(e){var t=this.__data__;return vC?t[e]!==void 0:xC.call(t,e)}jl.exports=_C});var Yl=d((FX,Ul)=>{var bC=ln(),wC="__lodash_hash_undefined__";function EC(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=bC&&t===void 0?wC:t,this}Ul.exports=EC});var Wl=d((RX,Xl)=>{var qC=Rl(),MC=Bl(),CC=Vl(),AC=Hl(),SC=Yl();function xr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xr.prototype.clear=qC;xr.prototype.delete=MC;xr.prototype.get=CC;xr.prototype.has=AC;xr.prototype.set=SC;Xl.exports=xr});var Ql=d(($X,Zl)=>{var Kl=Wl(),TC=cn(),kC=Li();function NC(){this.size=0,this.__data__={hash:new Kl,map:new(kC||TC),string:new Kl}}Zl.exports=NC});var ep=d((BX,Jl)=>{function OC(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}Jl.exports=OC});var pn=d((zX,tp)=>{var IC=ep();function PC(e,t){var r=e.__data__;return IC(t)?r[typeof t=="string"?"string":"hash"]:r.map}tp.exports=PC});var np=d((VX,rp)=>{var LC=pn();function DC(e){var t=LC(this,e).delete(e);return this.size-=t?1:0,t}rp.exports=DC});var op=d((jX,ip)=>{var GC=pn();function FC(e){return GC(this,e).get(e)}ip.exports=FC});var ap=d((HX,sp)=>{var RC=pn();function $C(e){return RC(this,e).has(e)}sp.exports=$C});var fp=d((UX,up)=>{var BC=pn();function zC(e,t){var r=BC(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}up.exports=zC});var Di=d((YX,cp)=>{var VC=Ql(),jC=np(),HC=op(),UC=ap(),YC=fp();function _r(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_r.prototype.clear=VC;_r.prototype.delete=jC;_r.prototype.get=HC;_r.prototype.has=UC;_r.prototype.set=YC;cp.exports=_r});var lp=d((XX,hp)=>{var XC=cn(),WC=Li(),KC=Di(),ZC=200;function QC(e,t){var r=this.__data__;if(r instanceof XC){var n=r.__data__;if(!WC||n.length<ZC-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new KC(n)}return r.set(e,t),this.size=r.size,this}hp.exports=QC});var dn=d((WX,pp)=>{var JC=cn(),eA=nl(),tA=ol(),rA=al(),nA=fl(),iA=lp();function br(e){var t=this.__data__=new JC(e);this.size=t.size}br.prototype.clear=eA;br.prototype.delete=tA;br.prototype.get=rA;br.prototype.has=nA;br.prototype.set=iA;pp.exports=br});var Gi=d((KX,dp)=>{function oA(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}dp.exports=oA});var Qs=d((ZX,gp)=>{var sA=bt(),aA=function(){try{var e=sA(Object,"defineProperty");return e({},"",{}),e}catch{}}();gp.exports=aA});var gn=d((QX,vp)=>{var mp=Qs();function uA(e,t,r){t=="__proto__"&&mp?mp(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}vp.exports=uA});var mn=d((JX,yp)=>{var fA=gn(),cA=Ut(),hA=Object.prototype,lA=hA.hasOwnProperty;function pA(e,t,r){var n=e[t];(!(lA.call(e,t)&&cA(n,r))||r===void 0&&!(t in e))&&fA(e,t,r)}yp.exports=pA});var wr=d((e7,xp)=>{var dA=mn(),gA=gn();function mA(e,t,r,n){var i=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var a=t[o],u=n?n(r[a],e[a],a,r,e):void 0;u===void 0&&(u=e[a]),i?gA(r,a,u):dA(r,a,u)}return r}xp.exports=mA});var bp=d((t7,_p)=>{function vA(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}_p.exports=vA});var De=d((r7,wp)=>{function yA(e){return e!=null&&typeof e=="object"}wp.exports=yA});var qp=d((n7,Ep)=>{var xA=_t(),_A=De(),bA="[object Arguments]";function wA(e){return _A(e)&&xA(e)==bA}Ep.exports=wA});var Er=d((i7,Ap)=>{var Mp=qp(),EA=De(),Cp=Object.prototype,qA=Cp.hasOwnProperty,MA=Cp.propertyIsEnumerable,CA=Mp(function(){return arguments}())?Mp:function(e){return EA(e)&&qA.call(e,"callee")&&!MA.call(e,"callee")};Ap.exports=CA});var J=d((o7,Sp)=>{var AA=Array.isArray;Sp.exports=AA});var kp=d((s7,Tp)=>{function SA(){return!1}Tp.exports=SA});var Xt=d((vn,qr)=>{var TA=Me(),kA=kp(),Ip=typeof vn=="object"&&vn&&!vn.nodeType&&vn,Np=Ip&&typeof qr=="object"&&qr&&!qr.nodeType&&qr,NA=Np&&Np.exports===Ip,Op=NA?TA.Buffer:void 0,OA=Op?Op.isBuffer:void 0,IA=OA||kA;qr.exports=IA});var yn=d((a7,Pp)=>{var PA=9007199254740991,LA=/^(?:0|[1-9]\d*)$/;function DA(e,t){var r=typeof e;return t=t??PA,!!t&&(r=="number"||r!="symbol"&&LA.test(e))&&e>-1&&e%1==0&&e<t}Pp.exports=DA});var Fi=d((u7,Lp)=>{var GA=9007199254740991;function FA(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=GA}Lp.exports=FA});var Gp=d((f7,Dp)=>{var RA=_t(),$A=Fi(),BA=De(),zA="[object Arguments]",VA="[object Array]",jA="[object Boolean]",HA="[object Date]",UA="[object Error]",YA="[object Function]",XA="[object Map]",WA="[object Number]",KA="[object Object]",ZA="[object RegExp]",QA="[object Set]",JA="[object String]",eS="[object WeakMap]",tS="[object ArrayBuffer]",rS="[object DataView]",nS="[object Float32Array]",iS="[object Float64Array]",oS="[object Int8Array]",sS="[object Int16Array]",aS="[object Int32Array]",uS="[object Uint8Array]",fS="[object Uint8ClampedArray]",cS="[object Uint16Array]",hS="[object Uint32Array]",V={};V[nS]=V[iS]=V[oS]=V[sS]=V[aS]=V[uS]=V[fS]=V[cS]=V[hS]=!0;V[zA]=V[VA]=V[tS]=V[jA]=V[rS]=V[HA]=V[UA]=V[YA]=V[XA]=V[WA]=V[KA]=V[ZA]=V[QA]=V[JA]=V[eS]=!1;function lS(e){return BA(e)&&$A(e.length)&&!!V[RA(e)]}Dp.exports=lS});var xn=d((c7,Fp)=>{function pS(e){return function(t){return e(t)}}Fp.exports=pS});var Ri=d((_n,Mr)=>{var dS=Ws(),Rp=typeof _n=="object"&&_n&&!_n.nodeType&&_n,bn=Rp&&typeof Mr=="object"&&Mr&&!Mr.nodeType&&Mr,gS=bn&&bn.exports===Rp,Js=gS&&dS.process,mS=function(){try{var e=bn&&bn.require&&bn.require("util").types;return e||Js&&Js.binding&&Js.binding("util")}catch{}}();Mr.exports=mS});var Cr=d((h7,zp)=>{var vS=Gp(),yS=xn(),$p=Ri(),Bp=$p&&$p.isTypedArray,xS=Bp?yS(Bp):vS;zp.exports=xS});var ea=d((l7,Vp)=>{var _S=bp(),bS=Er(),wS=J(),ES=Xt(),qS=yn(),MS=Cr(),CS=Object.prototype,AS=CS.hasOwnProperty;function SS(e,t){var r=wS(e),n=!r&&bS(e),i=!r&&!n&&ES(e),o=!r&&!n&&!i&&MS(e),s=r||n||i||o,a=s?_S(e.length,String):[],u=a.length;for(var f in e)(t||AS.call(e,f))&&!(s&&(f=="length"||i&&(f=="offset"||f=="parent")||o&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||qS(f,u)))&&a.push(f);return a}Vp.exports=SS});var wn=d((p7,jp)=>{var TS=Object.prototype;function kS(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||TS;return e===r}jp.exports=kS});var ta=d((d7,Hp)=>{function NS(e,t){return function(r){return e(t(r))}}Hp.exports=NS});var Yp=d((g7,Up)=>{var OS=ta(),IS=OS(Object.keys,Object);Up.exports=IS});var $i=d((m7,Xp)=>{var PS=wn(),LS=Yp(),DS=Object.prototype,GS=DS.hasOwnProperty;function FS(e){if(!PS(e))return LS(e);var t=[];for(var r in Object(e))GS.call(e,r)&&r!="constructor"&&t.push(r);return t}Xp.exports=FS});var je=d((v7,Wp)=>{var RS=yr(),$S=Fi();function BS(e){return e!=null&&$S(e.length)&&!RS(e)}Wp.exports=BS});var tt=d((y7,Kp)=>{var zS=ea(),VS=$i(),jS=je();function HS(e){return jS(e)?zS(e):VS(e)}Kp.exports=HS});var Qp=d((x7,Zp)=>{var US=wr(),YS=tt();function XS(e,t){return e&&US(t,YS(t),e)}Zp.exports=XS});var ed=d((_7,Jp)=>{function WS(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}Jp.exports=WS});var rd=d((b7,td)=>{var KS=ve(),ZS=wn(),QS=ed(),JS=Object.prototype,eT=JS.hasOwnProperty;function tT(e){if(!KS(e))return QS(e);var t=ZS(e),r=[];for(var n in e)n=="constructor"&&(t||!eT.call(e,n))||r.push(n);return r}td.exports=tT});var wt=d((w7,nd)=>{var rT=ea(),nT=rd(),iT=je();function oT(e){return iT(e)?rT(e,!0):nT(e)}nd.exports=oT});var od=d((E7,id)=>{var sT=wr(),aT=wt();function uT(e,t){return e&&sT(t,aT(t),e)}id.exports=uT});var ra=d((En,Ar)=>{var fT=Me(),fd=typeof En=="object"&&En&&!En.nodeType&&En,sd=fd&&typeof Ar=="object"&&Ar&&!Ar.nodeType&&Ar,cT=sd&&sd.exports===fd,ad=cT?fT.Buffer:void 0,ud=ad?ad.allocUnsafe:void 0;function hT(e,t){if(t)return e.slice();var r=e.length,n=ud?ud(r):new e.constructor(r);return e.copy(n),n}Ar.exports=hT});var na=d((q7,cd)=>{function lT(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}cd.exports=lT});var ia=d((M7,hd)=>{function pT(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}hd.exports=pT});var oa=d((C7,ld)=>{function dT(){return[]}ld.exports=dT});var Bi=d((A7,dd)=>{var gT=ia(),mT=oa(),vT=Object.prototype,yT=vT.propertyIsEnumerable,pd=Object.getOwnPropertySymbols,xT=pd?function(e){return e==null?[]:(e=Object(e),gT(pd(e),function(t){return yT.call(e,t)}))}:mT;dd.exports=xT});var md=d((S7,gd)=>{var _T=wr(),bT=Bi();function wT(e,t){return _T(e,bT(e),t)}gd.exports=wT});var zi=d((T7,vd)=>{function ET(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}vd.exports=ET});var qn=d((k7,yd)=>{var qT=ta(),MT=qT(Object.getPrototypeOf,Object);yd.exports=MT});var sa=d((N7,xd)=>{var CT=zi(),AT=qn(),ST=Bi(),TT=oa(),kT=Object.getOwnPropertySymbols,NT=kT?function(e){for(var t=[];e;)CT(t,ST(e)),e=AT(e);return t}:TT;xd.exports=NT});var bd=d((O7,_d)=>{var OT=wr(),IT=sa();function PT(e,t){return OT(e,IT(e),t)}_d.exports=PT});var aa=d((I7,wd)=>{var LT=zi(),DT=J();function GT(e,t,r){var n=t(e);return DT(e)?n:LT(n,r(e))}wd.exports=GT});var ua=d((P7,Ed)=>{var FT=aa(),RT=Bi(),$T=tt();function BT(e){return FT(e,$T,RT)}Ed.exports=BT});var Md=d((L7,qd)=>{var zT=aa(),VT=sa(),jT=wt();function HT(e){return zT(e,jT,VT)}qd.exports=HT});var Ad=d((D7,Cd)=>{var UT=bt(),YT=Me(),XT=UT(YT,"DataView");Cd.exports=XT});var Td=d((G7,Sd)=>{var WT=bt(),KT=Me(),ZT=WT(KT,"Promise");Sd.exports=ZT});var fa=d((F7,kd)=>{var QT=bt(),JT=Me(),ek=QT(JT,"Set");kd.exports=ek});var Od=d((R7,Nd)=>{var tk=bt(),rk=Me(),nk=tk(rk,"WeakMap");Nd.exports=nk});var Kt=d(($7,Rd)=>{var ca=Ad(),ha=Li(),la=Td(),pa=fa(),da=Od(),Fd=_t(),Sr=Zs(),Id="[object Map]",ik="[object Object]",Pd="[object Promise]",Ld="[object Set]",Dd="[object WeakMap]",Gd="[object DataView]",ok=Sr(ca),sk=Sr(ha),ak=Sr(la),uk=Sr(pa),fk=Sr(da),Wt=Fd;(ca&&Wt(new ca(new ArrayBuffer(1)))!=Gd||ha&&Wt(new ha)!=Id||la&&Wt(la.resolve())!=Pd||pa&&Wt(new pa)!=Ld||da&&Wt(new da)!=Dd)&&(Wt=function(e){var t=Fd(e),r=t==ik?e.constructor:void 0,n=r?Sr(r):"";if(n)switch(n){case ok:return Gd;case sk:return Id;case ak:return Pd;case uk:return Ld;case fk:return Dd}return t});Rd.exports=Wt});var Bd=d((B7,$d)=>{var ck=Object.prototype,hk=ck.hasOwnProperty;function lk(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&hk.call(e,"index")&&(r.index=e.index,r.input=e.input),r}$d.exports=lk});var ga=d((z7,zd)=>{var pk=Me(),dk=pk.Uint8Array;zd.exports=dk});var Vi=d((V7,jd)=>{var Vd=ga();function gk(e){var t=new e.constructor(e.byteLength);return new Vd(t).set(new Vd(e)),t}jd.exports=gk});var Ud=d((j7,Hd)=>{var mk=Vi();function vk(e,t){var r=t?mk(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}Hd.exports=vk});var Xd=d((H7,Yd)=>{var yk=/\w*$/;function xk(e){var t=new e.constructor(e.source,yk.exec(e));return t.lastIndex=e.lastIndex,t}Yd.exports=xk});var Jd=d((U7,Qd)=>{var Wd=Yt(),Kd=Wd?Wd.prototype:void 0,Zd=Kd?Kd.valueOf:void 0;function _k(e){return Zd?Object(Zd.call(e)):{}}Qd.exports=_k});var ma=d((Y7,eg)=>{var bk=Vi();function wk(e,t){var r=t?bk(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}eg.exports=wk});var rg=d((X7,tg)=>{var Ek=Vi(),qk=Ud(),Mk=Xd(),Ck=Jd(),Ak=ma(),Sk="[object Boolean]",Tk="[object Date]",kk="[object Map]",Nk="[object Number]",Ok="[object RegExp]",Ik="[object Set]",Pk="[object String]",Lk="[object Symbol]",Dk="[object ArrayBuffer]",Gk="[object DataView]",Fk="[object Float32Array]",Rk="[object Float64Array]",$k="[object Int8Array]",Bk="[object Int16Array]",zk="[object Int32Array]",Vk="[object Uint8Array]",jk="[object Uint8ClampedArray]",Hk="[object Uint16Array]",Uk="[object Uint32Array]";function Yk(e,t,r){var n=e.constructor;switch(t){case Dk:return Ek(e);case Sk:case Tk:return new n(+e);case Gk:return qk(e,r);case Fk:case Rk:case $k:case Bk:case zk:case Vk:case jk:case Hk:case Uk:return Ak(e,r);case kk:return new n;case Nk:case Pk:return new n(e);case Ok:return Mk(e);case Ik:return new n;case Lk:return Ck(e)}}tg.exports=Yk});var va=d((W7,ig)=>{var Xk=ve(),ng=Object.create,Wk=function(){function e(){}return function(t){if(!Xk(t))return{};if(ng)return ng(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();ig.exports=Wk});var ya=d((K7,og)=>{var Kk=va(),Zk=qn(),Qk=wn();function Jk(e){return typeof e.constructor=="function"&&!Qk(e)?Kk(Zk(e)):{}}og.exports=Jk});var ag=d((Z7,sg)=>{var eN=Kt(),tN=De(),rN="[object Map]";function nN(e){return tN(e)&&eN(e)==rN}sg.exports=nN});var hg=d((Q7,cg)=>{var iN=ag(),oN=xn(),ug=Ri(),fg=ug&&ug.isMap,sN=fg?oN(fg):iN;cg.exports=sN});var pg=d((J7,lg)=>{var aN=Kt(),uN=De(),fN="[object Set]";function cN(e){return uN(e)&&aN(e)==fN}lg.exports=cN});var vg=d((eW,mg)=>{var hN=pg(),lN=xn(),dg=Ri(),gg=dg&&dg.isSet,pN=gg?lN(gg):hN;mg.exports=pN});var xa=d((tW,bg)=>{var dN=dn(),gN=Gi(),mN=mn(),vN=Qp(),yN=od(),xN=ra(),_N=na(),bN=md(),wN=bd(),EN=ua(),qN=Md(),MN=Kt(),CN=Bd(),AN=rg(),SN=ya(),TN=J(),kN=Xt(),NN=hg(),ON=ve(),IN=vg(),PN=tt(),LN=wt(),DN=1,GN=2,FN=4,yg="[object Arguments]",RN="[object Array]",$N="[object Boolean]",BN="[object Date]",zN="[object Error]",xg="[object Function]",VN="[object GeneratorFunction]",jN="[object Map]",HN="[object Number]",_g="[object Object]",UN="[object RegExp]",YN="[object Set]",XN="[object String]",WN="[object Symbol]",KN="[object WeakMap]",ZN="[object ArrayBuffer]",QN="[object DataView]",JN="[object Float32Array]",eO="[object Float64Array]",tO="[object Int8Array]",rO="[object Int16Array]",nO="[object Int32Array]",iO="[object Uint8Array]",oO="[object Uint8ClampedArray]",sO="[object Uint16Array]",aO="[object Uint32Array]",z={};z[yg]=z[RN]=z[ZN]=z[QN]=z[$N]=z[BN]=z[JN]=z[eO]=z[tO]=z[rO]=z[nO]=z[jN]=z[HN]=z[_g]=z[UN]=z[YN]=z[XN]=z[WN]=z[iO]=z[oO]=z[sO]=z[aO]=!0;z[zN]=z[xg]=z[KN]=!1;function ji(e,t,r,n,i,o){var s,a=t&DN,u=t&GN,f=t&FN;if(r&&(s=i?r(e,n,i,o):r(e)),s!==void 0)return s;if(!ON(e))return e;var c=TN(e);if(c){if(s=CN(e),!a)return _N(e,s)}else{var h=MN(e),l=h==xg||h==VN;if(kN(e))return xN(e,a);if(h==_g||h==yg||l&&!i){if(s=u||l?{}:SN(e),!a)return u?wN(e,yN(s,e)):bN(e,vN(s,e))}else{if(!z[h])return i?e:{};s=AN(e,h,a)}}o||(o=new dN);var p=o.get(e);if(p)return p;o.set(e,s),IN(e)?e.forEach(function(v){s.add(ji(v,t,r,v,e,o))}):NN(e)&&e.forEach(function(v,y){s.set(y,ji(v,t,r,y,e,o))});var m=f?u?qN:EN:u?LN:PN,g=c?void 0:m(e);return gN(g||e,function(v,y){g&&(y=v,v=e[y]),mN(s,y,ji(v,t,r,y,e,o))}),s}bg.exports=ji});var Eg=d((rW,wg)=>{var uO=xa(),fO=4;function cO(e){return uO(e,fO)}wg.exports=cO});var Hi=d((nW,qg)=>{function hO(e){return function(){return e}}qg.exports=hO});var Cg=d((iW,Mg)=>{function lO(e){return function(t,r,n){for(var i=-1,o=Object(t),s=n(t),a=s.length;a--;){var u=s[e?a:++i];if(r(o[u],u,o)===!1)break}return t}}Mg.exports=lO});var Ui=d((oW,Ag)=>{var pO=Cg(),dO=pO();Ag.exports=dO});var Yi=d((sW,Sg)=>{var gO=Ui(),mO=tt();function vO(e,t){return e&&gO(e,t,mO)}Sg.exports=vO});var kg=d((aW,Tg)=>{var yO=je();function xO(e,t){return function(r,n){if(r==null)return r;if(!yO(r))return e(r,n);for(var i=r.length,o=t?i:-1,s=Object(r);(t?o--:++o<i)&&n(s[o],o,s)!==!1;);return r}}Tg.exports=xO});var Mn=d((uW,Ng)=>{var _O=Yi(),bO=kg(),wO=bO(_O);Ng.exports=wO});var Et=d((fW,Og)=>{function EO(e){return e}Og.exports=EO});var _a=d((cW,Ig)=>{var qO=Et();function MO(e){return typeof e=="function"?e:qO}Ig.exports=MO});var ba=d((hW,Pg)=>{var CO=Gi(),AO=Mn(),SO=_a(),TO=J();function kO(e,t){var r=TO(e)?CO:AO;return r(e,SO(t))}Pg.exports=kO});var wa=d((lW,Lg)=>{Lg.exports=ba()});var Gg=d((pW,Dg)=>{var NO=Mn();function OO(e,t){var r=[];return NO(e,function(n,i,o){t(n,i,o)&&r.push(n)}),r}Dg.exports=OO});var Rg=d((dW,Fg)=>{var IO="__lodash_hash_undefined__";function PO(e){return this.__data__.set(e,IO),this}Fg.exports=PO});var Bg=d((gW,$g)=>{function LO(e){return this.__data__.has(e)}$g.exports=LO});var Ea=d((mW,zg)=>{var DO=Di(),GO=Rg(),FO=Bg();function Xi(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new DO;++t<r;)this.add(e[t])}Xi.prototype.add=Xi.prototype.push=GO;Xi.prototype.has=FO;zg.exports=Xi});var jg=d((vW,Vg)=>{function RO(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}Vg.exports=RO});var qa=d((yW,Hg)=>{function $O(e,t){return e.has(t)}Hg.exports=$O});var Ma=d((xW,Ug)=>{var BO=Ea(),zO=jg(),VO=qa(),jO=1,HO=2;function UO(e,t,r,n,i,o){var s=r&jO,a=e.length,u=t.length;if(a!=u&&!(s&&u>a))return!1;var f=o.get(e),c=o.get(t);if(f&&c)return f==t&&c==e;var h=-1,l=!0,p=r&HO?new BO:void 0;for(o.set(e,t),o.set(t,e);++h<a;){var m=e[h],g=t[h];if(n)var v=s?n(g,m,h,t,e,o):n(m,g,h,e,t,o);if(v!==void 0){if(v)continue;l=!1;break}if(p){if(!zO(t,function(y,x){if(!VO(p,x)&&(m===y||i(m,y,r,n,o)))return p.push(x)})){l=!1;break}}else if(!(m===g||i(m,g,r,n,o))){l=!1;break}}return o.delete(e),o.delete(t),l}Ug.exports=UO});var Xg=d((_W,Yg)=>{function YO(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}Yg.exports=YO});var Wi=d((bW,Wg)=>{function XO(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}Wg.exports=XO});var em=d((wW,Jg)=>{var Kg=Yt(),Zg=ga(),WO=Ut(),KO=Ma(),ZO=Xg(),QO=Wi(),JO=1,e2=2,t2="[object Boolean]",r2="[object Date]",n2="[object Error]",i2="[object Map]",o2="[object Number]",s2="[object RegExp]",a2="[object Set]",u2="[object String]",f2="[object Symbol]",c2="[object ArrayBuffer]",h2="[object DataView]",Qg=Kg?Kg.prototype:void 0,Ca=Qg?Qg.valueOf:void 0;function l2(e,t,r,n,i,o,s){switch(r){case h2:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case c2:return!(e.byteLength!=t.byteLength||!o(new Zg(e),new Zg(t)));case t2:case r2:case o2:return WO(+e,+t);case n2:return e.name==t.name&&e.message==t.message;case s2:case u2:return e==t+"";case i2:var a=ZO;case a2:var u=n&JO;if(a||(a=QO),e.size!=t.size&&!u)return!1;var f=s.get(e);if(f)return f==t;n|=e2,s.set(e,t);var c=KO(a(e),a(t),n,i,o,s);return s.delete(e),c;case f2:if(Ca)return Ca.call(e)==Ca.call(t)}return!1}Jg.exports=l2});var nm=d((EW,rm)=>{var tm=ua(),p2=1,d2=Object.prototype,g2=d2.hasOwnProperty;function m2(e,t,r,n,i,o){var s=r&p2,a=tm(e),u=a.length,f=tm(t),c=f.length;if(u!=c&&!s)return!1;for(var h=u;h--;){var l=a[h];if(!(s?l in t:g2.call(t,l)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var g=!0;o.set(e,t),o.set(t,e);for(var v=s;++h<u;){l=a[h];var y=e[l],x=t[l];if(n)var b=s?n(x,y,l,t,e,o):n(y,x,l,e,t,o);if(!(b===void 0?y===x||i(y,x,r,n,o):b)){g=!1;break}v||(v=l=="constructor")}if(g&&!v){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(g=!1)}return o.delete(e),o.delete(t),g}rm.exports=m2});var hm=d((qW,cm)=>{var Aa=dn(),v2=Ma(),y2=em(),x2=nm(),im=Kt(),om=J(),sm=Xt(),_2=Cr(),b2=1,am="[object Arguments]",um="[object Array]",Ki="[object Object]",w2=Object.prototype,fm=w2.hasOwnProperty;function E2(e,t,r,n,i,o){var s=om(e),a=om(t),u=s?um:im(e),f=a?um:im(t);u=u==am?Ki:u,f=f==am?Ki:f;var c=u==Ki,h=f==Ki,l=u==f;if(l&&sm(e)){if(!sm(t))return!1;s=!0,c=!1}if(l&&!c)return o||(o=new Aa),s||_2(e)?v2(e,t,r,n,i,o):y2(e,t,u,r,n,i,o);if(!(r&b2)){var p=c&&fm.call(e,"__wrapped__"),m=h&&fm.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,v=m?t.value():t;return o||(o=new Aa),i(g,v,r,n,o)}}return l?(o||(o=new Aa),x2(e,t,r,n,i,o)):!1}cm.exports=E2});var Sa=d((MW,dm)=>{var q2=hm(),lm=De();function pm(e,t,r,n,i){return e===t?!0:e==null||t==null||!lm(e)&&!lm(t)?e!==e&&t!==t:q2(e,t,r,n,pm,i)}dm.exports=pm});var mm=d((CW,gm)=>{var M2=dn(),C2=Sa(),A2=1,S2=2;function T2(e,t,r,n){var i=r.length,o=i,s=!n;if(e==null)return!o;for(e=Object(e);i--;){var a=r[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=r[i];var u=a[0],f=e[u],c=a[1];if(s&&a[2]){if(f===void 0&&!(u in e))return!1}else{var h=new M2;if(n)var l=n(f,c,u,e,t,h);if(!(l===void 0?C2(c,f,A2|S2,n,h):l))return!1}}return!0}gm.exports=T2});var Ta=d((AW,vm)=>{var k2=ve();function N2(e){return e===e&&!k2(e)}vm.exports=N2});var xm=d((SW,ym)=>{var O2=Ta(),I2=tt();function P2(e){for(var t=I2(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,O2(i)]}return t}ym.exports=P2});var ka=d((TW,_m)=>{function L2(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}_m.exports=L2});var wm=d((kW,bm)=>{var D2=mm(),G2=xm(),F2=ka();function R2(e){var t=G2(e);return t.length==1&&t[0][2]?F2(t[0][0],t[0][1]):function(r){return r===e||D2(r,e,t)}}bm.exports=R2});var Zt=d((NW,Em)=>{var $2=_t(),B2=De(),z2="[object Symbol]";function V2(e){return typeof e=="symbol"||B2(e)&&$2(e)==z2}Em.exports=V2});var Zi=d((OW,qm)=>{var j2=J(),H2=Zt(),U2=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y2=/^\w*$/;function X2(e,t){if(j2(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||H2(e)?!0:Y2.test(e)||!U2.test(e)||t!=null&&e in Object(t)}qm.exports=X2});var Am=d((IW,Cm)=>{var Mm=Di(),W2="Expected a function";function Na(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(W2);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(Na.Cache||Mm),r}Na.Cache=Mm;Cm.exports=Na});var Tm=d((PW,Sm)=>{var K2=Am(),Z2=500;function Q2(e){var t=K2(e,function(n){return r.size===Z2&&r.clear(),n}),r=t.cache;return t}Sm.exports=Q2});var Nm=d((LW,km)=>{var J2=Tm(),eI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tI=/\\(\\)?/g,rI=J2(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(eI,function(r,n,i,o){t.push(i?o.replace(tI,"$1"):n||r)}),t});km.exports=rI});var Cn=d((DW,Om)=>{function nI(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}Om.exports=nI});var Fm=d((GW,Gm)=>{var Im=Yt(),iI=Cn(),oI=J(),sI=Zt(),aI=1/0,Pm=Im?Im.prototype:void 0,Lm=Pm?Pm.toString:void 0;function Dm(e){if(typeof e=="string")return e;if(oI(e))return iI(e,Dm)+"";if(sI(e))return Lm?Lm.call(e):"";var t=e+"";return t=="0"&&1/e==-aI?"-0":t}Gm.exports=Dm});var Oa=d((FW,Rm)=>{var uI=Fm();function fI(e){return e==null?"":uI(e)}Rm.exports=fI});var An=d((RW,$m)=>{var cI=J(),hI=Zi(),lI=Nm(),pI=Oa();function dI(e,t){return cI(e)?e:hI(e,t)?[e]:lI(pI(e))}$m.exports=dI});var Tr=d(($W,Bm)=>{var gI=Zt(),mI=1/0;function vI(e){if(typeof e=="string"||gI(e))return e;var t=e+"";return t=="0"&&1/e==-mI?"-0":t}Bm.exports=vI});var Sn=d((BW,zm)=>{var yI=An(),xI=Tr();function _I(e,t){t=yI(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[xI(t[r++])];return r&&r==n?e:void 0}zm.exports=_I});var jm=d((zW,Vm)=>{var bI=Sn();function wI(e,t,r){var n=e==null?void 0:bI(e,t);return n===void 0?r:n}Vm.exports=wI});var Um=d((VW,Hm)=>{function EI(e,t){return e!=null&&t in Object(e)}Hm.exports=EI});var Ia=d((jW,Ym)=>{var qI=An(),MI=Er(),CI=J(),AI=yn(),SI=Fi(),TI=Tr();function kI(e,t,r){t=qI(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var s=TI(t[n]);if(!(o=e!=null&&r(e,s)))break;e=e[s]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&SI(i)&&AI(s,i)&&(CI(e)||MI(e)))}Ym.exports=kI});var Pa=d((HW,Xm)=>{var NI=Um(),OI=Ia();function II(e,t){return e!=null&&OI(e,t,NI)}Xm.exports=II});var Km=d((UW,Wm)=>{var PI=Sa(),LI=jm(),DI=Pa(),GI=Zi(),FI=Ta(),RI=ka(),$I=Tr(),BI=1,zI=2;function VI(e,t){return GI(e)&&FI(t)?RI($I(e),t):function(r){var n=LI(r,e);return n===void 0&&n===t?DI(r,e):PI(t,n,BI|zI)}}Wm.exports=VI});var La=d((YW,Zm)=>{function jI(e){return function(t){return t?.[e]}}Zm.exports=jI});var Jm=d((XW,Qm)=>{var HI=Sn();function UI(e){return function(t){return HI(t,e)}}Qm.exports=UI});var tv=d((WW,ev)=>{var YI=La(),XI=Jm(),WI=Zi(),KI=Tr();function ZI(e){return WI(e)?YI(KI(e)):XI(e)}ev.exports=ZI});var He=d((KW,rv)=>{var QI=wm(),JI=Km(),eP=Et(),tP=J(),rP=tv();function nP(e){return typeof e=="function"?e:e==null?eP:typeof e=="object"?tP(e)?JI(e[0],e[1]):QI(e):rP(e)}rv.exports=nP});var Da=d((ZW,nv)=>{var iP=ia(),oP=Gg(),sP=He(),aP=J();function uP(e,t){var r=aP(e)?iP:oP;return r(e,sP(t,3))}nv.exports=uP});var ov=d((QW,iv)=>{var fP=Object.prototype,cP=fP.hasOwnProperty;function hP(e,t){return e!=null&&cP.call(e,t)}iv.exports=hP});var Ga=d((JW,sv)=>{var lP=ov(),pP=Ia();function dP(e,t){return e!=null&&pP(e,t,lP)}sv.exports=dP});var uv=d((eK,av)=>{var gP=$i(),mP=Kt(),vP=Er(),yP=J(),xP=je(),_P=Xt(),bP=wn(),wP=Cr(),EP="[object Map]",qP="[object Set]",MP=Object.prototype,CP=MP.hasOwnProperty;function AP(e){if(e==null)return!0;if(xP(e)&&(yP(e)||typeof e=="string"||typeof e.splice=="function"||_P(e)||wP(e)||vP(e)))return!e.length;var t=mP(e);if(t==EP||t==qP)return!e.size;if(bP(e))return!gP(e).length;for(var r in e)if(CP.call(e,r))return!1;return!0}av.exports=AP});var Fa=d((tK,fv)=>{function SP(e){return e===void 0}fv.exports=SP});var Ra=d((rK,cv)=>{var TP=Mn(),kP=je();function NP(e,t){var r=-1,n=kP(e)?Array(e.length):[];return TP(e,function(i,o,s){n[++r]=t(i,o,s)}),n}cv.exports=NP});var $a=d((nK,hv)=>{var OP=Cn(),IP=He(),PP=Ra(),LP=J();function DP(e,t){var r=LP(e)?OP:PP;return r(e,IP(t,3))}hv.exports=DP});var pv=d((iK,lv)=>{function GP(e,t,r,n){var i=-1,o=e==null?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}lv.exports=GP});var gv=d((oK,dv)=>{function FP(e,t,r,n,i){return i(e,function(o,s,a){r=n?(n=!1,o):t(r,o,s,a)}),r}dv.exports=FP});var Ba=d((sK,mv)=>{var RP=pv(),$P=Mn(),BP=He(),zP=gv(),VP=J();function jP(e,t,r){var n=VP(e)?RP:zP,i=arguments.length<3;return n(e,BP(t,4),r,i,$P)}mv.exports=jP});var yv=d((aK,vv)=>{var HP=_t(),UP=J(),YP=De(),XP="[object String]";function WP(e){return typeof e=="string"||!UP(e)&&YP(e)&&HP(e)==XP}vv.exports=WP});var _v=d((uK,xv)=>{var KP=La(),ZP=KP("length");xv.exports=ZP});var wv=d((fK,bv)=>{var QP="\\ud800-\\udfff",JP="\\u0300-\\u036f",eL="\\ufe20-\\ufe2f",tL="\\u20d0-\\u20ff",rL=JP+eL+tL,nL="\\ufe0e\\ufe0f",iL="\\u200d",oL=RegExp("["+iL+QP+rL+nL+"]");function sL(e){return oL.test(e)}bv.exports=sL});var Nv=d((cK,kv)=>{var qv="\\ud800-\\udfff",aL="\\u0300-\\u036f",uL="\\ufe20-\\ufe2f",fL="\\u20d0-\\u20ff",cL=aL+uL+fL,hL="\\ufe0e\\ufe0f",lL="["+qv+"]",za="["+cL+"]",Va="\\ud83c[\\udffb-\\udfff]",pL="(?:"+za+"|"+Va+")",Mv="[^"+qv+"]",Cv="(?:\\ud83c[\\udde6-\\uddff]){2}",Av="[\\ud800-\\udbff][\\udc00-\\udfff]",dL="\\u200d",Sv=pL+"?",Tv="["+hL+"]?",gL="(?:"+dL+"(?:"+[Mv,Cv,Av].join("|")+")"+Tv+Sv+")*",mL=Tv+Sv+gL,vL="(?:"+[Mv+za+"?",za,Cv,Av,lL].join("|")+")",Ev=RegExp(Va+"(?="+Va+")|"+vL+mL,"g");function yL(e){for(var t=Ev.lastIndex=0;Ev.test(e);)++t;return t}kv.exports=yL});var Iv=d((hK,Ov)=>{var xL=_v(),_L=wv(),bL=Nv();function wL(e){return _L(e)?bL(e):xL(e)}Ov.exports=wL});var Lv=d((lK,Pv)=>{var EL=$i(),qL=Kt(),ML=je(),CL=yv(),AL=Iv(),SL="[object Map]",TL="[object Set]";function kL(e){if(e==null)return 0;if(ML(e))return CL(e)?AL(e):e.length;var t=qL(e);return t==SL||t==TL?e.size:EL(e).length}Pv.exports=kL});var Gv=d((pK,Dv)=>{var NL=Gi(),OL=va(),IL=Yi(),PL=He(),LL=qn(),DL=J(),GL=Xt(),FL=yr(),RL=ve(),$L=Cr();function BL(e,t,r){var n=DL(e),i=n||GL(e)||$L(e);if(t=PL(t,4),r==null){var o=e&&e.constructor;i?r=n?new o:[]:RL(e)?r=FL(o)?OL(LL(e)):{}:r={}}return(i?NL:IL)(e,function(s,a,u){return t(r,s,a,u)}),r}Dv.exports=BL});var Bv=d((dK,$v)=>{var Fv=Yt(),zL=Er(),VL=J(),Rv=Fv?Fv.isConcatSpreadable:void 0;function jL(e){return VL(e)||zL(e)||!!(Rv&&e&&e[Rv])}$v.exports=jL});var Qi=d((gK,Vv)=>{var HL=zi(),UL=Bv();function zv(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=UL),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?zv(a,t-1,r,n,i):HL(i,a):n||(i[i.length]=a)}return i}Vv.exports=zv});var Hv=d((mK,jv)=>{function YL(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}jv.exports=YL});var ja=d((vK,Yv)=>{var XL=Hv(),Uv=Math.max;function WL(e,t,r){return t=Uv(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=Uv(n.length-t,0),s=Array(o);++i<o;)s[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(s),XL(e,this,a)}}Yv.exports=WL});var Kv=d((yK,Wv)=>{var KL=Hi(),Xv=Qs(),ZL=Et(),QL=Xv?function(e,t){return Xv(e,"toString",{configurable:!0,enumerable:!1,value:KL(t),writable:!0})}:ZL;Wv.exports=QL});var Qv=d((xK,Zv)=>{var JL=800,eD=16,tD=Date.now;function rD(e){var t=0,r=0;return function(){var n=tD(),i=eD-(n-r);if(r=n,i>0){if(++t>=JL)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}Zv.exports=rD});var Ha=d((_K,Jv)=>{var nD=Kv(),iD=Qv(),oD=iD(nD);Jv.exports=oD});var Tn=d((bK,e0)=>{var sD=Et(),aD=ja(),uD=Ha();function fD(e,t){return uD(aD(e,t,sD),e+"")}e0.exports=fD});var Ua=d((wK,t0)=>{function cD(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}t0.exports=cD});var n0=d((EK,r0)=>{function hD(e){return e!==e}r0.exports=hD});var o0=d((qK,i0)=>{function lD(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}i0.exports=lD});var a0=d((MK,s0)=>{var pD=Ua(),dD=n0(),gD=o0();function mD(e,t,r){return t===t?gD(e,t,r):pD(e,dD,r)}s0.exports=mD});var f0=d((CK,u0)=>{var vD=a0();function yD(e,t){var r=e==null?0:e.length;return!!r&&vD(e,t,0)>-1}u0.exports=yD});var h0=d((AK,c0)=>{function xD(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}c0.exports=xD});var p0=d((SK,l0)=>{function _D(){}l0.exports=_D});var g0=d((TK,d0)=>{var Ya=fa(),bD=p0(),wD=Wi(),ED=1/0,qD=Ya&&1/wD(new Ya([,-0]))[1]==ED?function(e){return new Ya(e)}:bD;d0.exports=qD});var v0=d((kK,m0)=>{var MD=Ea(),CD=f0(),AD=h0(),SD=qa(),TD=g0(),kD=Wi(),ND=200;function OD(e,t,r){var n=-1,i=CD,o=e.length,s=!0,a=[],u=a;if(r)s=!1,i=AD;else if(o>=ND){var f=t?null:TD(e);if(f)return kD(f);s=!1,i=SD,u=new MD}else u=t?[]:a;e:for(;++n<o;){var c=e[n],h=t?t(c):c;if(c=r||c!==0?c:0,s&&h===h){for(var l=u.length;l--;)if(u[l]===h)continue e;t&&u.push(h),a.push(c)}else i(u,h,r)||(u!==a&&u.push(h),a.push(c))}return a}m0.exports=OD});var Xa=d((NK,y0)=>{var ID=je(),PD=De();function LD(e){return PD(e)&&ID(e)}y0.exports=LD});var _0=d((OK,x0)=>{var DD=Qi(),GD=Tn(),FD=v0(),RD=Xa(),$D=GD(function(e){return FD(DD(e,1,RD,!0))});x0.exports=$D});var w0=d((IK,b0)=>{var BD=Cn();function zD(e,t){return BD(t,function(r){return e[r]})}b0.exports=zD});var Wa=d((PK,E0)=>{var VD=w0(),jD=tt();function HD(e){return e==null?[]:VD(e,jD(e))}E0.exports=HD});var ye=d((LK,q0)=>{var Ji;if(typeof nr=="function")try{Ji={clone:Eg(),constant:Hi(),each:wa(),filter:Da(),has:Ga(),isArray:J(),isEmpty:uv(),isFunction:yr(),isUndefined:Fa(),keys:tt(),map:$a(),reduce:Ba(),size:Lv(),transform:Gv(),union:_0(),values:Wa()}}catch{}Ji||(Ji=window._);q0.exports=Ji});var eo=d((GK,S0)=>{"use strict";var O=ye();S0.exports=L;var UD="\0",Qt="\0",M0="";function L(e){this._isDirected=O.has(e,"directed")?e.directed:!0,this._isMultigraph=O.has(e,"multigraph")?e.multigraph:!1,this._isCompound=O.has(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=O.constant(void 0),this._defaultEdgeLabelFn=O.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[Qt]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}L.prototype._nodeCount=0;L.prototype._edgeCount=0;L.prototype.isDirected=function(){return this._isDirected};L.prototype.isMultigraph=function(){return this._isMultigraph};L.prototype.isCompound=function(){return this._isCompound};L.prototype.setGraph=function(e){return this._label=e,this};L.prototype.graph=function(){return this._label};L.prototype.setDefaultNodeLabel=function(e){return O.isFunction(e)||(e=O.constant(e)),this._defaultNodeLabelFn=e,this};L.prototype.nodeCount=function(){return this._nodeCount};L.prototype.nodes=function(){return O.keys(this._nodes)};L.prototype.sources=function(){var e=this;return O.filter(this.nodes(),function(t){return O.isEmpty(e._in[t])})};L.prototype.sinks=function(){var e=this;return O.filter(this.nodes(),function(t){return O.isEmpty(e._out[t])})};L.prototype.setNodes=function(e,t){var r=arguments,n=this;return O.each(e,function(i){r.length>1?n.setNode(i,t):n.setNode(i)}),this};L.prototype.setNode=function(e,t){return O.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=Qt,this._children[e]={},this._children[Qt][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)};L.prototype.node=function(e){return this._nodes[e]};L.prototype.hasNode=function(e){return O.has(this._nodes,e)};L.prototype.removeNode=function(e){var t=this;if(O.has(this._nodes,e)){var r=function(n){t.removeEdge(t._edgeObjs[n])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],O.each(this.children(e),function(n){t.setParent(n)}),delete this._children[e]),O.each(O.keys(this._in[e]),r),delete this._in[e],delete this._preds[e],O.each(O.keys(this._out[e]),r),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this};L.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(O.isUndefined(t))t=Qt;else{t+="";for(var r=t;!O.isUndefined(r);r=this.parent(r))if(r===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this};L.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]};L.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==Qt)return t}};L.prototype.children=function(e){if(O.isUndefined(e)&&(e=Qt),this._isCompound){var t=this._children[e];if(t)return O.keys(t)}else{if(e===Qt)return this.nodes();if(this.hasNode(e))return[]}};L.prototype.predecessors=function(e){var t=this._preds[e];if(t)return O.keys(t)};L.prototype.successors=function(e){var t=this._sucs[e];if(t)return O.keys(t)};L.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return O.union(t,this.successors(e))};L.prototype.isLeaf=function(e){var t;return this.isDirected()?t=this.successors(e):t=this.neighbors(e),t.length===0};L.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var r=this;O.each(this._nodes,function(o,s){e(s)&&t.setNode(s,o)}),O.each(this._edgeObjs,function(o){t.hasNode(o.v)&&t.hasNode(o.w)&&t.setEdge(o,r.edge(o))});var n={};function i(o){var s=r.parent(o);return s===void 0||t.hasNode(s)?(n[o]=s,s):s in n?n[s]:i(s)}return this._isCompound&&O.each(t.nodes(),function(o){t.setParent(o,i(o))}),t};L.prototype.setDefaultEdgeLabel=function(e){return O.isFunction(e)||(e=O.constant(e)),this._defaultEdgeLabelFn=e,this};L.prototype.edgeCount=function(){return this._edgeCount};L.prototype.edges=function(){return O.values(this._edgeObjs)};L.prototype.setPath=function(e,t){var r=this,n=arguments;return O.reduce(e,function(i,o){return n.length>1?r.setEdge(i,o,t):r.setEdge(i,o),o}),this};L.prototype.setEdge=function(){var e,t,r,n,i=!1,o=arguments[0];typeof o=="object"&&o!==null&&"v"in o?(e=o.v,t=o.w,r=o.name,arguments.length===2&&(n=arguments[1],i=!0)):(e=o,t=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],i=!0)),e=""+e,t=""+t,O.isUndefined(r)||(r=""+r);var s=kn(this._isDirected,e,t,r);if(O.has(this._edgeLabels,s))return i&&(this._edgeLabels[s]=n),this;if(!O.isUndefined(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[s]=i?n:this._defaultEdgeLabelFn(e,t,r);var a=YD(this._isDirected,e,t,r);return e=a.v,t=a.w,Object.freeze(a),this._edgeObjs[s]=a,C0(this._preds[t],e),C0(this._sucs[e],t),this._in[t][s]=a,this._out[e][s]=a,this._edgeCount++,this};L.prototype.edge=function(e,t,r){var n=arguments.length===1?Ka(this._isDirected,arguments[0]):kn(this._isDirected,e,t,r);return this._edgeLabels[n]};L.prototype.hasEdge=function(e,t,r){var n=arguments.length===1?Ka(this._isDirected,arguments[0]):kn(this._isDirected,e,t,r);return O.has(this._edgeLabels,n)};L.prototype.removeEdge=function(e,t,r){var n=arguments.length===1?Ka(this._isDirected,arguments[0]):kn(this._isDirected,e,t,r),i=this._edgeObjs[n];return i&&(e=i.v,t=i.w,delete this._edgeLabels[n],delete this._edgeObjs[n],A0(this._preds[t],e),A0(this._sucs[e],t),delete this._in[t][n],delete this._out[e][n],this._edgeCount--),this};L.prototype.inEdges=function(e,t){var r=this._in[e];if(r){var n=O.values(r);return t?O.filter(n,function(i){return i.v===t}):n}};L.prototype.outEdges=function(e,t){var r=this._out[e];if(r){var n=O.values(r);return t?O.filter(n,function(i){return i.w===t}):n}};L.prototype.nodeEdges=function(e,t){var r=this.inEdges(e,t);if(r)return r.concat(this.outEdges(e,t))};function C0(e,t){e[t]?e[t]++:e[t]=1}function A0(e,t){--e[t]||delete e[t]}function kn(e,t,r,n){var i=""+t,o=""+r;if(!e&&i>o){var s=i;i=o,o=s}return i+M0+o+M0+(O.isUndefined(n)?UD:n)}function YD(e,t,r,n){var i=""+t,o=""+r;if(!e&&i>o){var s=i;i=o,o=s}var a={v:i,w:o};return n&&(a.name=n),a}function Ka(e,t){return kn(e,t.v,t.w,t.name)}});var k0=d((FK,T0)=>{T0.exports="2.1.8"});var O0=d((RK,N0)=>{N0.exports={Graph:eo(),version:k0()}});var P0=d(($K,I0)=>{var Ue=ye(),XD=eo();I0.exports={write:WD,read:QD};function WD(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:KD(e),edges:ZD(e)};return Ue.isUndefined(e.graph())||(t.value=Ue.clone(e.graph())),t}function KD(e){return Ue.map(e.nodes(),function(t){var r=e.node(t),n=e.parent(t),i={v:t};return Ue.isUndefined(r)||(i.value=r),Ue.isUndefined(n)||(i.parent=n),i})}function ZD(e){return Ue.map(e.edges(),function(t){var r=e.edge(t),n={v:t.v,w:t.w};return Ue.isUndefined(t.name)||(n.name=t.name),Ue.isUndefined(r)||(n.value=r),n})}function QD(e){var t=new XD(e.options).setGraph(e.value);return Ue.each(e.nodes,function(r){t.setNode(r.v,r.value),r.parent&&t.setParent(r.v,r.parent)}),Ue.each(e.edges,function(r){t.setEdge({v:r.v,w:r.w,name:r.name},r.value)}),t}});var D0=d((BK,L0)=>{var to=ye();L0.exports=JD;function JD(e){var t={},r=[],n;function i(o){to.has(t,o)||(t[o]=!0,n.push(o),to.each(e.successors(o),i),to.each(e.predecessors(o),i))}return to.each(e.nodes(),function(o){n=[],i(o),n.length&&r.push(n)}),r}});var Za=d((zK,F0)=>{var G0=ye();F0.exports=Ce;function Ce(){this._arr=[],this._keyIndices={}}Ce.prototype.size=function(){return this._arr.length};Ce.prototype.keys=function(){return this._arr.map(function(e){return e.key})};Ce.prototype.has=function(e){return G0.has(this._keyIndices,e)};Ce.prototype.priority=function(e){var t=this._keyIndices[e];if(t!==void 0)return this._arr[t].priority};Ce.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key};Ce.prototype.add=function(e,t){var r=this._keyIndices;if(e=String(e),!G0.has(r,e)){var n=this._arr,i=n.length;return r[e]=i,n.push({key:e,priority:t}),this._decrease(i),!0}return!1};Ce.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key};Ce.prototype.decrease=function(e,t){var r=this._keyIndices[e];if(t>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[r].priority+" New: "+t);this._arr[r].priority=t,this._decrease(r)};Ce.prototype._heapify=function(e){var t=this._arr,r=2*e,n=r+1,i=e;r<t.length&&(i=t[r].priority<t[i].priority?r:i,n<t.length&&(i=t[n].priority<t[i].priority?n:i),i!==e&&(this._swap(e,i),this._heapify(i)))};Ce.prototype._decrease=function(e){for(var t=this._arr,r=t[e].priority,n;e!==0&&(n=e>>1,!(t[n].priority<r));)this._swap(e,n),e=n};Ce.prototype._swap=function(e,t){var r=this._arr,n=this._keyIndices,i=r[e],o=r[t];r[e]=o,r[t]=i,n[o.key]=e,n[i.key]=t}});var Qa=d((VK,R0)=>{var eG=ye(),tG=Za();R0.exports=nG;var rG=eG.constant(1);function nG(e,t,r,n){return iG(e,String(t),r||rG,n||function(i){return e.outEdges(i)})}function iG(e,t,r,n){var i={},o=new tG,s,a,u=function(f){var c=f.v!==s?f.v:f.w,h=i[c],l=r(f),p=a.distance+l;if(l<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+f+" Weight: "+l);p<h.distance&&(h.distance=p,h.predecessor=s,o.decrease(c,p))};for(e.nodes().forEach(function(f){var c=f===t?0:Number.POSITIVE_INFINITY;i[f]={distance:c},o.add(f,c)});o.size()>0&&(s=o.removeMin(),a=i[s],a.distance!==Number.POSITIVE_INFINITY);)n(s).forEach(u);return i}});var B0=d((jK,$0)=>{var oG=Qa(),sG=ye();$0.exports=aG;function aG(e,t,r){return sG.transform(e.nodes(),function(n,i){n[i]=oG(e,i,t,r)},{})}});var Ja=d((HK,V0)=>{var z0=ye();V0.exports=uG;function uG(e){var t=0,r=[],n={},i=[];function o(s){var a=n[s]={onStack:!0,lowlink:t,index:t++};if(r.push(s),e.successors(s).forEach(function(c){z0.has(n,c)?n[c].onStack&&(a.lowlink=Math.min(a.lowlink,n[c].index)):(o(c),a.lowlink=Math.min(a.lowlink,n[c].lowlink))}),a.lowlink===a.index){var u=[],f;do f=r.pop(),n[f].onStack=!1,u.push(f);while(s!==f);i.push(u)}}return e.nodes().forEach(function(s){z0.has(n,s)||o(s)}),i}});var H0=d((UK,j0)=>{var fG=ye(),cG=Ja();j0.exports=hG;function hG(e){return fG.filter(cG(e),function(t){return t.length>1||t.length===1&&e.hasEdge(t[0],t[0])})}});var Y0=d((YK,U0)=>{var lG=ye();U0.exports=dG;var pG=lG.constant(1);function dG(e,t,r){return gG(e,t||pG,r||function(n){return e.outEdges(n)})}function gG(e,t,r){var n={},i=e.nodes();return i.forEach(function(o){n[o]={},n[o][o]={distance:0},i.forEach(function(s){o!==s&&(n[o][s]={distance:Number.POSITIVE_INFINITY})}),r(o).forEach(function(s){var a=s.v===o?s.w:s.v,u=t(s);n[o][a]={distance:u,predecessor:o}})}),i.forEach(function(o){var s=n[o];i.forEach(function(a){var u=n[a];i.forEach(function(f){var c=u[o],h=s[f],l=u[f],p=c.distance+h.distance;p<l.distance&&(l.distance=p,l.predecessor=h.predecessor)})})}),n}});var eu=d((XK,W0)=>{var Nn=ye();W0.exports=X0;X0.CycleException=ro;function X0(e){var t={},r={},n=[];function i(o){if(Nn.has(r,o))throw new ro;Nn.has(t,o)||(r[o]=!0,t[o]=!0,Nn.each(e.predecessors(o),i),delete r[o],n.push(o))}if(Nn.each(e.sinks(),i),Nn.size(t)!==e.nodeCount())throw new ro;return n}function ro(){}ro.prototype=new Error});var Q0=d((WK,Z0)=>{var K0=eu();Z0.exports=mG;function mG(e){try{K0(e)}catch(t){if(t instanceof K0.CycleException)return!1;throw t}return!0}});var tu=d((KK,ey)=>{var no=ye();ey.exports=vG;function vG(e,t,r){no.isArray(t)||(t=[t]);var n=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],o={};return no.each(t,function(s){if(!e.hasNode(s))throw new Error("Graph does not have node: "+s);J0(e,s,r==="post",o,n,i)}),i}function J0(e,t,r,n,i,o){no.has(n,t)||(n[t]=!0,r||o.push(t),no.each(i(t),function(s){J0(e,s,r,n,i,o)}),r&&o.push(t))}});var ry=d((ZK,ty)=>{var yG=tu();ty.exports=xG;function xG(e,t){return yG(e,t,"post")}});var iy=d((QK,ny)=>{var _G=tu();ny.exports=bG;function bG(e,t){return _G(e,t,"pre")}});var ay=d((JK,sy)=>{var oy=ye(),wG=eo(),EG=Za();sy.exports=qG;function qG(e,t){var r=new wG,n={},i=new EG,o;function s(u){var f=u.v===o?u.w:u.v,c=i.priority(f);if(c!==void 0){var h=t(u);h<c&&(n[f]=o,i.decrease(f,h))}}if(e.nodeCount()===0)return r;oy.each(e.nodes(),function(u){i.add(u,Number.POSITIVE_INFINITY),r.setNode(u)}),i.decrease(e.nodes()[0],0);for(var a=!1;i.size()>0;){if(o=i.removeMin(),oy.has(n,o))r.setEdge(o,n[o]);else{if(a)throw new Error("Input graph is not connected: "+e);a=!0}e.nodeEdges(o).forEach(s)}return r}});var fy=d((eZ,uy)=>{uy.exports={components:D0(),dijkstra:Qa(),dijkstraAll:B0(),findCycles:H0(),floydWarshall:Y0(),isAcyclic:Q0(),postorder:ry(),preorder:iy(),prim:ay(),tarjan:Ja(),topsort:eu()}});var ly=d((tZ,hy)=>{var cy=O0();hy.exports={Graph:cy.Graph,json:P0(),alg:fy(),version:cy.version}});var Ae=d((rZ,py)=>{var io;if(typeof nr=="function")try{io=ly()}catch{}io||(io=window.graphlib);py.exports=io});var gy=d((iZ,dy)=>{var MG=xa(),CG=1,AG=4;function SG(e){return MG(e,CG|AG)}dy.exports=SG});var On=d((oZ,my)=>{var TG=Ut(),kG=je(),NG=yn(),OG=ve();function IG(e,t,r){if(!OG(r))return!1;var n=typeof t;return(n=="number"?kG(r)&&NG(t,r.length):n=="string"&&t in r)?TG(r[t],e):!1}my.exports=IG});var xy=d((sZ,yy)=>{var PG=Tn(),LG=Ut(),DG=On(),GG=wt(),vy=Object.prototype,FG=vy.hasOwnProperty,RG=PG(function(e,t){e=Object(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&DG(t[0],t[1],i)&&(n=1);++r<n;)for(var o=t[r],s=GG(o),a=-1,u=s.length;++a<u;){var f=s[a],c=e[f];(c===void 0||LG(c,vy[f])&&!FG.call(e,f))&&(e[f]=o[f])}return e});yy.exports=RG});var by=d((aZ,_y)=>{var $G=He(),BG=je(),zG=tt();function VG(e){return function(t,r,n){var i=Object(t);if(!BG(t)){var o=$G(r,3);t=zG(t),r=function(a){return o(i[a],a,i)}}var s=e(t,r,n);return s>-1?i[o?t[s]:s]:void 0}}_y.exports=VG});var Ey=d((uZ,wy)=>{var jG=/\s/;function HG(e){for(var t=e.length;t--&&jG.test(e.charAt(t)););return t}wy.exports=HG});var My=d((fZ,qy)=>{var UG=Ey(),YG=/^\s+/;function XG(e){return e&&e.slice(0,UG(e)+1).replace(YG,"")}qy.exports=XG});var Ty=d((cZ,Sy)=>{var WG=My(),Cy=ve(),KG=Zt(),Ay=NaN,ZG=/^[-+]0x[0-9a-f]+$/i,QG=/^0b[01]+$/i,JG=/^0o[0-7]+$/i,eF=parseInt;function tF(e){if(typeof e=="number")return e;if(KG(e))return Ay;if(Cy(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Cy(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=WG(e);var r=QG.test(e);return r||JG.test(e)?eF(e.slice(2),r?2:8):ZG.test(e)?Ay:+e}Sy.exports=tF});var ru=d((hZ,Ny)=>{var rF=Ty(),ky=1/0,nF=17976931348623157e292;function iF(e){if(!e)return e===0?e:0;if(e=rF(e),e===ky||e===-ky){var t=e<0?-1:1;return t*nF}return e===e?e:0}Ny.exports=iF});var Iy=d((lZ,Oy)=>{var oF=ru();function sF(e){var t=oF(e),r=t%1;return t===t?r?t-r:t:0}Oy.exports=sF});var Ly=d((pZ,Py)=>{var aF=Ua(),uF=He(),fF=Iy(),cF=Math.max;function hF(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:fF(r);return i<0&&(i=cF(n+i,0)),aF(e,uF(t,3),i)}Py.exports=hF});var Gy=d((dZ,Dy)=>{var lF=by(),pF=Ly(),dF=lF(pF);Dy.exports=dF});var nu=d((gZ,Fy)=>{var gF=Qi();function mF(e){var t=e==null?0:e.length;return t?gF(e,1):[]}Fy.exports=mF});var $y=d((mZ,Ry)=>{var vF=Ui(),yF=_a(),xF=wt();function _F(e,t){return e==null?e:vF(e,yF(t),xF)}Ry.exports=_F});var zy=d((vZ,By)=>{function bF(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}By.exports=bF});var jy=d((yZ,Vy)=>{var wF=gn(),EF=Yi(),qF=He();function MF(e,t){var r={};return t=qF(t,3),EF(e,function(n,i,o){wF(r,i,t(n,i,o))}),r}Vy.exports=MF});var oo=d((xZ,Hy)=>{var CF=Zt();function AF(e,t,r){for(var n=-1,i=e.length;++n<i;){var o=e[n],s=t(o);if(s!=null&&(a===void 0?s===s&&!CF(s):r(s,a)))var a=s,u=o}return u}Hy.exports=AF});var Yy=d((_Z,Uy)=>{function SF(e,t){return e>t}Uy.exports=SF});var Wy=d((bZ,Xy)=>{var TF=oo(),kF=Yy(),NF=Et();function OF(e){return e&&e.length?TF(e,NF,kF):void 0}Xy.exports=OF});var iu=d((wZ,Ky)=>{var IF=gn(),PF=Ut();function LF(e,t,r){(r!==void 0&&!PF(e[t],r)||r===void 0&&!(t in e))&&IF(e,t,r)}Ky.exports=LF});var Jy=d((EZ,Qy)=>{var DF=_t(),GF=qn(),FF=De(),RF="[object Object]",$F=Function.prototype,BF=Object.prototype,Zy=$F.toString,zF=BF.hasOwnProperty,VF=Zy.call(Object);function jF(e){if(!FF(e)||DF(e)!=RF)return!1;var t=GF(e);if(t===null)return!0;var r=zF.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Zy.call(r)==VF}Qy.exports=jF});var ou=d((qZ,ex)=>{function HF(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}ex.exports=HF});var rx=d((MZ,tx)=>{var UF=wr(),YF=wt();function XF(e){return UF(e,YF(e))}tx.exports=XF});var ux=d((CZ,ax)=>{var nx=iu(),WF=ra(),KF=ma(),ZF=na(),QF=ya(),ix=Er(),ox=J(),JF=Xa(),e3=Xt(),t3=yr(),r3=ve(),n3=Jy(),i3=Cr(),sx=ou(),o3=rx();function s3(e,t,r,n,i,o,s){var a=sx(e,r),u=sx(t,r),f=s.get(u);if(f){nx(e,r,f);return}var c=o?o(a,u,r+"",e,t,s):void 0,h=c===void 0;if(h){var l=ox(u),p=!l&&e3(u),m=!l&&!p&&i3(u);c=u,l||p||m?ox(a)?c=a:JF(a)?c=ZF(a):p?(h=!1,c=WF(u,!0)):m?(h=!1,c=KF(u,!0)):c=[]:n3(u)||ix(u)?(c=a,ix(a)?c=o3(a):(!r3(a)||t3(a))&&(c=QF(u))):h=!1}h&&(s.set(u,c),i(c,u,n,o,s),s.delete(u)),nx(e,r,c)}ax.exports=s3});var hx=d((AZ,cx)=>{var a3=dn(),u3=iu(),f3=Ui(),c3=ux(),h3=ve(),l3=wt(),p3=ou();function fx(e,t,r,n,i){e!==t&&f3(t,function(o,s){if(i||(i=new a3),h3(o))c3(e,t,s,r,fx,n,i);else{var a=n?n(p3(e,s),o,s+"",e,t,i):void 0;a===void 0&&(a=o),u3(e,s,a)}},l3)}cx.exports=fx});var px=d((SZ,lx)=>{var g3=Tn(),m3=On();function v3(e){return g3(function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,s&&m3(r[0],r[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var a=r[n];a&&e(t,a,n,o)}return t})}lx.exports=v3});var gx=d((TZ,dx)=>{var y3=hx(),x3=px(),_3=x3(function(e,t,r){y3(e,t,r)});dx.exports=_3});var su=d((kZ,mx)=>{function b3(e,t){return e<t}mx.exports=b3});var yx=d((NZ,vx)=>{var w3=oo(),E3=su(),q3=Et();function M3(e){return e&&e.length?w3(e,q3,E3):void 0}vx.exports=M3});var _x=d((OZ,xx)=>{var C3=oo(),A3=He(),S3=su();function T3(e,t){return e&&e.length?C3(e,A3(t,2),S3):void 0}xx.exports=T3});var wx=d((IZ,bx)=>{var k3=Me(),N3=function(){return k3.Date.now()};bx.exports=N3});var Mx=d((PZ,qx)=>{var O3=mn(),I3=An(),P3=yn(),Ex=ve(),L3=Tr();function D3(e,t,r,n){if(!Ex(e))return e;t=I3(t,e);for(var i=-1,o=t.length,s=o-1,a=e;a!=null&&++i<o;){var u=L3(t[i]),f=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(i!=s){var c=a[u];f=n?n(c,u,a):void 0,f===void 0&&(f=Ex(c)?c:P3(t[i+1])?[]:{})}O3(a,u,f),a=a[u]}return e}qx.exports=D3});var Ax=d((LZ,Cx)=>{var G3=Sn(),F3=Mx(),R3=An();function $3(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var s=t[n],a=G3(e,s);r(a,s)&&F3(o,R3(s,e),a)}return o}Cx.exports=$3});var Tx=d((DZ,Sx)=>{var B3=Ax(),z3=Pa();function V3(e,t){return B3(e,t,function(r,n){return z3(e,n)})}Sx.exports=V3});var Nx=d((GZ,kx)=>{var j3=nu(),H3=ja(),U3=Ha();function Y3(e){return U3(H3(e,void 0,j3),e+"")}kx.exports=Y3});var Ix=d((FZ,Ox)=>{var X3=Tx(),W3=Nx(),K3=W3(function(e,t){return e==null?{}:X3(e,t)});Ox.exports=K3});var Lx=d((RZ,Px)=>{var Z3=Math.ceil,Q3=Math.max;function J3(e,t,r,n){for(var i=-1,o=Q3(Z3((t-e)/(r||1)),0),s=Array(o);o--;)s[n?o:++i]=e,e+=r;return s}Px.exports=J3});var Gx=d(($Z,Dx)=>{var eR=Lx(),tR=On(),au=ru();function rR(e){return function(t,r,n){return n&&typeof n!="number"&&tR(t,r,n)&&(r=n=void 0),t=au(t),r===void 0?(r=t,t=0):r=au(r),n=n===void 0?t<r?1:-1:au(n),eR(t,r,n,e)}}Dx.exports=rR});var Rx=d((BZ,Fx)=>{var nR=Gx(),iR=nR();Fx.exports=iR});var Bx=d((zZ,$x)=>{function oR(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}$x.exports=oR});var jx=d((VZ,Vx)=>{var zx=Zt();function sR(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,o=zx(e),s=t!==void 0,a=t===null,u=t===t,f=zx(t);if(!a&&!f&&!o&&e>t||o&&s&&u&&!a&&!f||n&&s&&u||!r&&u||!i)return 1;if(!n&&!o&&!f&&e<t||f&&r&&i&&!n&&!o||a&&r&&i||!s&&i||!u)return-1}return 0}Vx.exports=sR});var Ux=d((jZ,Hx)=>{var aR=jx();function uR(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,s=i.length,a=r.length;++n<s;){var u=aR(i[n],o[n]);if(u){if(n>=a)return u;var f=r[n];return u*(f=="desc"?-1:1)}}return e.index-t.index}Hx.exports=uR});var Xx=d((HZ,Yx)=>{var uu=Cn(),fR=Sn(),cR=He(),hR=Ra(),lR=Bx(),pR=xn(),dR=Ux(),gR=Et(),mR=J();function vR(e,t,r){t.length?t=uu(t,function(o){return mR(o)?function(s){return fR(s,o.length===1?o[0]:o)}:o}):t=[gR];var n=-1;t=uu(t,pR(cR));var i=hR(e,function(o,s,a){var u=uu(t,function(f){return f(o)});return{criteria:u,index:++n,value:o}});return lR(i,function(o,s){return dR(o,s,r)})}Yx.exports=vR});var Zx=d((UZ,Kx)=>{var yR=Qi(),xR=Xx(),_R=Tn(),Wx=On(),bR=_R(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Wx(e,t[0],t[1])?t=[]:r>2&&Wx(t[0],t[1],t[2])&&(t=[t[0]]),xR(e,yR(t,1),[])});Kx.exports=bR});var Jx=d((YZ,Qx)=>{var wR=Oa(),ER=0;function qR(e){var t=++ER;return wR(e)+t}Qx.exports=qR});var t_=d((XZ,e_)=>{function MR(e,t,r){for(var n=-1,i=e.length,o=t.length,s={};++n<i;){var a=n<o?t[n]:void 0;r(s,e[n],a)}return s}e_.exports=MR});var n_=d((WZ,r_)=>{var CR=mn(),AR=t_();function SR(e,t){return AR(e||[],t||[],CR)}r_.exports=SR});var j=d((KZ,i_)=>{var so;if(typeof nr=="function")try{so={cloneDeep:gy(),constant:Hi(),defaults:xy(),each:wa(),filter:Da(),find:Gy(),flatten:nu(),forEach:ba(),forIn:$y(),has:Ga(),isUndefined:Fa(),last:zy(),map:$a(),mapValues:jy(),max:Wy(),merge:gx(),min:yx(),minBy:_x(),now:wx(),pick:Ix(),range:Rx(),reduce:Ba(),sortBy:Zx(),uniqueId:Jx(),values:Wa(),zipObject:n_()}}catch{}so||(so=window._);i_.exports=so});var a_=d((QZ,s_)=>{s_.exports=ao;function ao(){var e={};e._next=e._prev=e,this._sentinel=e}ao.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return o_(t),t};ao.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&o_(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};ao.prototype.toString=function(){for(var e=[],t=this._sentinel,r=t._prev;r!==t;)e.push(JSON.stringify(r,TR)),r=r._prev;return"["+e.join(", ")+"]"};function o_(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function TR(e,t){if(e!=="_next"&&e!=="_prev")return t}});var f_=d((JZ,u_)=>{var rt=j(),kR=Ae().Graph,NR=a_();u_.exports=IR;var OR=rt.constant(1);function IR(e,t){if(e.nodeCount()<=1)return[];var r=LR(e,t||OR),n=PR(r.graph,r.buckets,r.zeroIdx);return rt.flatten(rt.map(n,function(i){return e.outEdges(i.v,i.w)}),!0)}function PR(e,t,r){for(var n=[],i=t[t.length-1],o=t[0],s;e.nodeCount();){for(;s=o.dequeue();)fu(e,t,r,s);for(;s=i.dequeue();)fu(e,t,r,s);if(e.nodeCount()){for(var a=t.length-2;a>0;--a)if(s=t[a].dequeue(),s){n=n.concat(fu(e,t,r,s,!0));break}}}return n}function fu(e,t,r,n,i){var o=i?[]:void 0;return rt.forEach(e.inEdges(n.v),function(s){var a=e.edge(s),u=e.node(s.v);i&&o.push({v:s.v,w:s.w}),u.out-=a,cu(t,r,u)}),rt.forEach(e.outEdges(n.v),function(s){var a=e.edge(s),u=s.w,f=e.node(u);f.in-=a,cu(t,r,f)}),e.removeNode(n.v),o}function LR(e,t){var r=new kR,n=0,i=0;rt.forEach(e.nodes(),function(a){r.setNode(a,{v:a,in:0,out:0})}),rt.forEach(e.edges(),function(a){var u=r.edge(a.v,a.w)||0,f=t(a),c=u+f;r.setEdge(a.v,a.w,c),i=Math.max(i,r.node(a.v).out+=f),n=Math.max(n,r.node(a.w).in+=f)});var o=rt.range(i+n+3).map(function(){return new NR}),s=n+1;return rt.forEach(r.nodes(),function(a){cu(o,s,r.node(a))}),{graph:r,buckets:o,zeroIdx:s}}function cu(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}});var h_=d((eQ,c_)=>{"use strict";var Jt=j(),DR=f_();c_.exports={run:GR,undo:RR};function GR(e){var t=e.graph().acyclicer==="greedy"?DR(e,r(e)):FR(e);Jt.forEach(t,function(n){var i=e.edge(n);e.removeEdge(n),i.forwardName=n.name,i.reversed=!0,e.setEdge(n.w,n.v,i,Jt.uniqueId("rev"))});function r(n){return function(i){return n.edge(i).weight}}}function FR(e){var t=[],r={},n={};function i(o){Jt.has(n,o)||(n[o]=!0,r[o]=!0,Jt.forEach(e.outEdges(o),function(s){Jt.has(r,s.w)?t.push(s):i(s.w)}),delete r[o])}return Jt.forEach(e.nodes(),i),t}function RR(e){Jt.forEach(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}});var he=d((tQ,g_)=>{"use strict";var R=j(),l_=Ae().Graph;g_.exports={addDummyNode:p_,simplify:$R,asNonCompoundGraph:BR,successorWeights:zR,predecessorWeights:VR,intersectRect:jR,buildLayerMatrix:HR,normalizeRanks:UR,removeEmptyRanks:YR,addBorderNode:XR,maxRank:d_,partition:WR,time:KR,notime:ZR};function p_(e,t,r,n){var i;do i=R.uniqueId(n);while(e.hasNode(i));return r.dummy=t,e.setNode(i,r),i}function $R(e){var t=new l_().setGraph(e.graph());return R.forEach(e.nodes(),function(r){t.setNode(r,e.node(r))}),R.forEach(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},i=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),t}function BR(e){var t=new l_({multigraph:e.isMultigraph()}).setGraph(e.graph());return R.forEach(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),R.forEach(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}function zR(e){var t=R.map(e.nodes(),function(r){var n={};return R.forEach(e.outEdges(r),function(i){n[i.w]=(n[i.w]||0)+e.edge(i).weight}),n});return R.zipObject(e.nodes(),t)}function VR(e){var t=R.map(e.nodes(),function(r){var n={};return R.forEach(e.inEdges(r),function(i){n[i.v]=(n[i.v]||0)+e.edge(i).weight}),n});return R.zipObject(e.nodes(),t)}function jR(e,t){var r=e.x,n=e.y,i=t.x-r,o=t.y-n,s=e.width/2,a=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var u,f;return Math.abs(o)*s>Math.abs(i)*a?(o<0&&(a=-a),u=a*i/o,f=a):(i<0&&(s=-s),u=s,f=s*o/i),{x:r+u,y:n+f}}function HR(e){var t=R.map(R.range(d_(e)+1),function(){return[]});return R.forEach(e.nodes(),function(r){var n=e.node(r),i=n.rank;R.isUndefined(i)||(t[i][n.order]=r)}),t}function UR(e){var t=R.min(R.map(e.nodes(),function(r){return e.node(r).rank}));R.forEach(e.nodes(),function(r){var n=e.node(r);R.has(n,"rank")&&(n.rank-=t)})}function YR(e){var t=R.min(R.map(e.nodes(),function(o){return e.node(o).rank})),r=[];R.forEach(e.nodes(),function(o){var s=e.node(o).rank-t;r[s]||(r[s]=[]),r[s].push(o)});var n=0,i=e.graph().nodeRankFactor;R.forEach(r,function(o,s){R.isUndefined(o)&&s%i!==0?--n:n&&R.forEach(o,function(a){e.node(a).rank+=n})})}function XR(e,t,r,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=r,i.order=n),p_(e,"border",i,t)}function d_(e){return R.max(R.map(e.nodes(),function(t){var r=e.node(t).rank;if(!R.isUndefined(r))return r}))}function WR(e,t){var r={lhs:[],rhs:[]};return R.forEach(e,function(n){t(n)?r.lhs.push(n):r.rhs.push(n)}),r}function KR(e,t){var r=R.now();try{return t()}finally{console.log(e+" time: "+(R.now()-r)+"ms")}}function ZR(e,t){return t()}});var y_=d((rQ,v_)=>{"use strict";var m_=j(),QR=he();v_.exports={run:JR,undo:t$};function JR(e){e.graph().dummyChains=[],m_.forEach(e.edges(),function(t){e$(e,t)})}function e$(e,t){var r=t.v,n=e.node(r).rank,i=t.w,o=e.node(i).rank,s=t.name,a=e.edge(t),u=a.labelRank;if(o!==n+1){e.removeEdge(t);var f,c,h;for(h=0,++n;n<o;++h,++n)a.points=[],c={width:0,height:0,edgeLabel:a,edgeObj:t,rank:n},f=QR.addDummyNode(e,"edge",c,"_d"),n===u&&(c.width=a.width,c.height=a.height,c.dummy="edge-label",c.labelpos=a.labelpos),e.setEdge(r,f,{weight:a.weight},s),h===0&&e.graph().dummyChains.push(f),r=f;e.setEdge(r,i,{weight:a.weight},s)}}function t$(e){m_.forEach(e.graph().dummyChains,function(t){var r=e.node(t),n=r.edgeLabel,i;for(e.setEdge(r.edgeObj,n);r.dummy;)i=e.successors(t)[0],e.removeNode(t),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),t=i,r=e.node(t)})}});var In=d((nQ,x_)=>{"use strict";var uo=j();x_.exports={longestPath:r$,slack:n$};function r$(e){var t={};function r(n){var i=e.node(n);if(uo.has(t,n))return i.rank;t[n]=!0;var o=uo.min(uo.map(e.outEdges(n),function(s){return r(s.w)-e.edge(s).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}uo.forEach(e.sources(),r)}function n$(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}});var hu=d((iQ,__)=>{"use strict";var fo=j(),i$=Ae().Graph,co=In().slack;__.exports=o$;function o$(e){var t=new i$({directed:!1}),r=e.nodes()[0],n=e.nodeCount();t.setNode(r,{});for(var i,o;s$(t,e)<n;)i=a$(t,e),o=t.hasNode(i.v)?co(e,i):-co(e,i),u$(t,e,o);return t}function s$(e,t){function r(n){fo.forEach(t.nodeEdges(n),function(i){var o=i.v,s=n===o?i.w:o;!e.hasNode(s)&&!co(t,i)&&(e.setNode(s,{}),e.setEdge(n,s,{}),r(s))})}return fo.forEach(e.nodes(),r),e.nodeCount()}function a$(e,t){return fo.minBy(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return co(t,r)})}function u$(e,t,r){fo.forEach(e.nodes(),function(n){t.node(n).rank+=r})}});var S_=d((oQ,A_)=>{"use strict";var nt=j(),f$=hu(),c$=In().slack,h$=In().longestPath,l$=Ae().alg.preorder,p$=Ae().alg.postorder,d$=he().simplify;A_.exports=er;er.initLowLimValues=pu;er.initCutValues=lu;er.calcCutValue=w_;er.leaveEdge=q_;er.enterEdge=M_;er.exchangeEdges=C_;function er(e){e=d$(e),h$(e);var t=f$(e);pu(t),lu(t,e);for(var r,n;r=q_(t);)n=M_(t,e,r),C_(t,e,r,n)}function lu(e,t){var r=p$(e,e.nodes());r=r.slice(0,r.length-1),nt.forEach(r,function(n){g$(e,t,n)})}function g$(e,t,r){var n=e.node(r),i=n.parent;e.edge(r,i).cutvalue=w_(e,t,r)}function w_(e,t,r){var n=e.node(r),i=n.parent,o=!0,s=t.edge(r,i),a=0;return s||(o=!1,s=t.edge(i,r)),a=s.weight,nt.forEach(t.nodeEdges(r),function(u){var f=u.v===r,c=f?u.w:u.v;if(c!==i){var h=f===o,l=t.edge(u).weight;if(a+=h?l:-l,v$(e,r,c)){var p=e.edge(r,c).cutvalue;a+=h?-p:p}}}),a}function pu(e,t){arguments.length<2&&(t=e.nodes()[0]),E_(e,{},1,t)}function E_(e,t,r,n,i){var o=r,s=e.node(n);return t[n]=!0,nt.forEach(e.neighbors(n),function(a){nt.has(t,a)||(r=E_(e,t,r,a,n))}),s.low=o,s.lim=r++,i?s.parent=i:delete s.parent,r}function q_(e){return nt.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function M_(e,t,r){var n=r.v,i=r.w;t.hasEdge(n,i)||(n=r.w,i=r.v);var o=e.node(n),s=e.node(i),a=o,u=!1;o.lim>s.lim&&(a=s,u=!0);var f=nt.filter(t.edges(),function(c){return u===b_(e,e.node(c.v),a)&&u!==b_(e,e.node(c.w),a)});return nt.minBy(f,function(c){return c$(t,c)})}function C_(e,t,r,n){var i=r.v,o=r.w;e.removeEdge(i,o),e.setEdge(n.v,n.w,{}),pu(e),lu(e,t),m$(e,t)}function m$(e,t){var r=nt.find(e.nodes(),function(i){return!t.node(i).parent}),n=l$(e,r);n=n.slice(1),nt.forEach(n,function(i){var o=e.node(i).parent,s=t.edge(i,o),a=!1;s||(s=t.edge(o,i),a=!0),t.node(i).rank=t.node(o).rank+(a?s.minlen:-s.minlen)})}function v$(e,t,r){return e.hasEdge(t,r)}function b_(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}});var O_=d((sQ,N_)=>{"use strict";var y$=In(),k_=y$.longestPath,x$=hu(),_$=S_();N_.exports=b$;function b$(e){switch(e.graph().ranker){case"network-simplex":T_(e);break;case"tight-tree":E$(e);break;case"longest-path":w$(e);break;default:T_(e)}}var w$=k_;function E$(e){k_(e),x$(e)}function T_(e){_$(e)}});var P_=d((aQ,I_)=>{var du=j();I_.exports=q$;function q$(e){var t=C$(e);du.forEach(e.graph().dummyChains,function(r){for(var n=e.node(r),i=n.edgeObj,o=M$(e,t,i.v,i.w),s=o.path,a=o.lca,u=0,f=s[u],c=!0;r!==i.w;){if(n=e.node(r),c){for(;(f=s[u])!==a&&e.node(f).maxRank<n.rank;)u++;f===a&&(c=!1)}if(!c){for(;u<s.length-1&&e.node(f=s[u+1]).minRank<=n.rank;)u++;f=s[u]}e.setParent(r,f),r=e.successors(r)[0]}})}function M$(e,t,r,n){var i=[],o=[],s=Math.min(t[r].low,t[n].low),a=Math.max(t[r].lim,t[n].lim),u,f;u=r;do u=e.parent(u),i.push(u);while(u&&(t[u].low>s||a>t[u].lim));for(f=u,u=n;(u=e.parent(u))!==f;)o.push(u);return{path:i.concat(o.reverse()),lca:f}}function C$(e){var t={},r=0;function n(i){var o=r;du.forEach(e.children(i),n),t[i]={low:o,lim:r++}}return du.forEach(e.children(),n),t}});var G_=d((uQ,D_)=>{var it=j(),gu=he();D_.exports={run:A$,cleanup:k$};function A$(e){var t=gu.addDummyNode(e,"root",{},"_root"),r=S$(e),n=it.max(it.values(r))-1,i=2*n+1;e.graph().nestingRoot=t,it.forEach(e.edges(),function(s){e.edge(s).minlen*=i});var o=T$(e)+1;it.forEach(e.children(),function(s){L_(e,t,i,o,n,r,s)}),e.graph().nodeRankFactor=i}function L_(e,t,r,n,i,o,s){var a=e.children(s);if(!a.length){s!==t&&e.setEdge(t,s,{weight:0,minlen:r});return}var u=gu.addBorderNode(e,"_bt"),f=gu.addBorderNode(e,"_bb"),c=e.node(s);e.setParent(u,s),c.borderTop=u,e.setParent(f,s),c.borderBottom=f,it.forEach(a,function(h){L_(e,t,r,n,i,o,h);var l=e.node(h),p=l.borderTop?l.borderTop:h,m=l.borderBottom?l.borderBottom:h,g=l.borderTop?n:2*n,v=p!==m?1:i-o[s]+1;e.setEdge(u,p,{weight:g,minlen:v,nestingEdge:!0}),e.setEdge(m,f,{weight:g,minlen:v,nestingEdge:!0})}),e.parent(s)||e.setEdge(t,u,{weight:0,minlen:i+o[s]})}function S$(e){var t={};function r(n,i){var o=e.children(n);o&&o.length&&it.forEach(o,function(s){r(s,i+1)}),t[n]=i}return it.forEach(e.children(),function(n){r(n,1)}),t}function T$(e){return it.reduce(e.edges(),function(t,r){return t+e.edge(r).weight},0)}function k$(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,it.forEach(e.edges(),function(r){var n=e.edge(r);n.nestingEdge&&e.removeEdge(r)})}});var $_=d((fQ,R_)=>{var mu=j(),N$=he();R_.exports=O$;function O$(e){function t(r){var n=e.children(r),i=e.node(r);if(n.length&&mu.forEach(n,t),mu.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,s=i.maxRank+1;o<s;++o)F_(e,"borderLeft","_bl",r,i,o),F_(e,"borderRight","_br",r,i,o)}}mu.forEach(e.children(),t)}function F_(e,t,r,n,i,o){var s={width:0,height:0,rank:o,borderType:t},a=i[t][o-1],u=N$.addDummyNode(e,"border",s,r);i[t][o]=u,e.setParent(u,n),a&&e.setEdge(a,u,{weight:1})}});var j_=d((cQ,V_)=>{"use strict";var Ye=j();V_.exports={adjust:I$,undo:P$};function I$(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&z_(e)}function P$(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&L$(e),(t==="lr"||t==="rl")&&(D$(e),z_(e))}function z_(e){Ye.forEach(e.nodes(),function(t){B_(e.node(t))}),Ye.forEach(e.edges(),function(t){B_(e.edge(t))})}function B_(e){var t=e.width;e.width=e.height,e.height=t}function L$(e){Ye.forEach(e.nodes(),function(t){vu(e.node(t))}),Ye.forEach(e.edges(),function(t){var r=e.edge(t);Ye.forEach(r.points,vu),Ye.has(r,"y")&&vu(r)})}function vu(e){e.y=-e.y}function D$(e){Ye.forEach(e.nodes(),function(t){yu(e.node(t))}),Ye.forEach(e.edges(),function(t){var r=e.edge(t);Ye.forEach(r.points,yu),Ye.has(r,"x")&&yu(r)})}function yu(e){var t=e.x;e.x=e.y,e.y=t}});var U_=d((hQ,H_)=>{"use strict";var ot=j();H_.exports=G$;function G$(e){var t={},r=ot.filter(e.nodes(),function(a){return!e.children(a).length}),n=ot.max(ot.map(r,function(a){return e.node(a).rank})),i=ot.map(ot.range(n+1),function(){return[]});function o(a){if(!ot.has(t,a)){t[a]=!0;var u=e.node(a);i[u.rank].push(a),ot.forEach(e.successors(a),o)}}var s=ot.sortBy(r,function(a){return e.node(a).rank});return ot.forEach(s,o),i}});var X_=d((lQ,Y_)=>{"use strict";var qt=j();Y_.exports=F$;function F$(e,t){for(var r=0,n=1;n<t.length;++n)r+=R$(e,t[n-1],t[n]);return r}function R$(e,t,r){for(var n=qt.zipObject(r,qt.map(r,function(f,c){return c})),i=qt.flatten(qt.map(t,function(f){return qt.sortBy(qt.map(e.outEdges(f),function(c){return{pos:n[c.w],weight:e.edge(c).weight}}),"pos")}),!0),o=1;o<r.length;)o<<=1;var s=2*o-1;o-=1;var a=qt.map(new Array(s),function(){return 0}),u=0;return qt.forEach(i.forEach(function(f){var c=f.pos+o;a[c]+=f.weight;for(var h=0;c>0;)c%2&&(h+=a[c+1]),c=c-1>>1,a[c]+=f.weight;u+=f.weight*h})),u}});var Z_=d((pQ,K_)=>{var W_=j();K_.exports=$$;function $$(e,t){return W_.map(t,function(r){var n=e.inEdges(r);if(n.length){var i=W_.reduce(n,function(o,s){var a=e.edge(s),u=e.node(s.v);return{sum:o.sum+a.weight*u.order,weight:o.weight+a.weight}},{sum:0,weight:0});return{v:r,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:r}})}});var J_=d((dQ,Q_)=>{"use strict";var xe=j();Q_.exports=B$;function B$(e,t){var r={};xe.forEach(e,function(i,o){var s=r[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};xe.isUndefined(i.barycenter)||(s.barycenter=i.barycenter,s.weight=i.weight)}),xe.forEach(t.edges(),function(i){var o=r[i.v],s=r[i.w];!xe.isUndefined(o)&&!xe.isUndefined(s)&&(s.indegree++,o.out.push(r[i.w]))});var n=xe.filter(r,function(i){return!i.indegree});return z$(n)}function z$(e){var t=[];function r(o){return function(s){s.merged||(xe.isUndefined(s.barycenter)||xe.isUndefined(o.barycenter)||s.barycenter>=o.barycenter)&&V$(o,s)}}function n(o){return function(s){s.in.push(o),--s.indegree===0&&e.push(s)}}for(;e.length;){var i=e.pop();t.push(i),xe.forEach(i.in.reverse(),r(i)),xe.forEach(i.out,n(i))}return xe.map(xe.filter(t,function(o){return!o.merged}),function(o){return xe.pick(o,["vs","i","barycenter","weight"])})}function V$(e,t){var r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}});var rb=d((gQ,tb)=>{var Pn=j(),j$=he();tb.exports=H$;function H$(e,t){var r=j$.partition(e,function(c){return Pn.has(c,"barycenter")}),n=r.lhs,i=Pn.sortBy(r.rhs,function(c){return-c.i}),o=[],s=0,a=0,u=0;n.sort(U$(!!t)),u=eb(o,i,u),Pn.forEach(n,function(c){u+=c.vs.length,o.push(c.vs),s+=c.barycenter*c.weight,a+=c.weight,u=eb(o,i,u)});var f={vs:Pn.flatten(o,!0)};return a&&(f.barycenter=s/a,f.weight=a),f}function eb(e,t,r){for(var n;t.length&&(n=Pn.last(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}function U$(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}});var ob=d((mQ,ib)=>{var Mt=j(),Y$=Z_(),X$=J_(),W$=rb();ib.exports=nb;function nb(e,t,r,n){var i=e.children(t),o=e.node(t),s=o?o.borderLeft:void 0,a=o?o.borderRight:void 0,u={};s&&(i=Mt.filter(i,function(m){return m!==s&&m!==a}));var f=Y$(e,i);Mt.forEach(f,function(m){if(e.children(m.v).length){var g=nb(e,m.v,r,n);u[m.v]=g,Mt.has(g,"barycenter")&&Z$(m,g)}});var c=X$(f,r);K$(c,u);var h=W$(c,n);if(s&&(h.vs=Mt.flatten([s,h.vs,a],!0),e.predecessors(s).length)){var l=e.node(e.predecessors(s)[0]),p=e.node(e.predecessors(a)[0]);Mt.has(h,"barycenter")||(h.barycenter=0,h.weight=0),h.barycenter=(h.barycenter*h.weight+l.order+p.order)/(h.weight+2),h.weight+=2}return h}function K$(e,t){Mt.forEach(e,function(r){r.vs=Mt.flatten(r.vs.map(function(n){return t[n]?t[n].vs:n}),!0)})}function Z$(e,t){Mt.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}});var ab=d((vQ,sb)=>{var Ln=j(),Q$=Ae().Graph;sb.exports=J$;function J$(e,t,r){var n=eB(e),i=new Q$({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(o){return e.node(o)});return Ln.forEach(e.nodes(),function(o){var s=e.node(o),a=e.parent(o);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(i.setNode(o),i.setParent(o,a||n),Ln.forEach(e[r](o),function(u){var f=u.v===o?u.w:u.v,c=i.edge(f,o),h=Ln.isUndefined(c)?0:c.weight;i.setEdge(f,o,{weight:e.edge(u).weight+h})}),Ln.has(s,"minRank")&&i.setNode(o,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),i}function eB(e){for(var t;e.hasNode(t=Ln.uniqueId("_root")););return t}});var fb=d((yQ,ub)=>{var tB=j();ub.exports=rB;function rB(e,t,r){var n={},i;tB.forEach(r,function(o){for(var s=e.parent(o),a,u;s;){if(a=e.parent(s),a?(u=n[a],n[a]=s):(u=i,i=s),u&&u!==s){t.setEdge(u,s);return}s=a}})}});var db=d((xQ,pb)=>{"use strict";var Ct=j(),nB=U_(),iB=X_(),oB=ob(),sB=ab(),aB=fb(),uB=Ae().Graph,cb=he();pb.exports=fB;function fB(e){var t=cb.maxRank(e),r=hb(e,Ct.range(1,t+1),"inEdges"),n=hb(e,Ct.range(t-1,-1,-1),"outEdges"),i=nB(e);lb(e,i);for(var o=Number.POSITIVE_INFINITY,s,a=0,u=0;u<4;++a,++u){cB(a%2?r:n,a%4>=2),i=cb.buildLayerMatrix(e);var f=iB(e,i);f<o&&(u=0,s=Ct.cloneDeep(i),o=f)}lb(e,s)}function hb(e,t,r){return Ct.map(t,function(n){return sB(e,n,r)})}function cB(e,t){var r=new uB;Ct.forEach(e,function(n){var i=n.graph().root,o=oB(n,i,r,t);Ct.forEach(o.vs,function(s,a){n.node(s).order=a}),aB(n,r,o.vs)})}function lb(e,t){Ct.forEach(t,function(r){Ct.forEach(r,function(n,i){e.node(n).order=i})})}});var qb=d((_Q,Eb)=>{"use strict";var I=j(),hB=Ae().Graph,lB=he();Eb.exports={positionX:gB,findType1Conflicts:gb,findType2Conflicts:mb,addConflict:xu,hasConflict:vb,verticalAlignment:yb,horizontalCompaction:xb,alignCoordinates:bb,findSmallestWidthAlignment:_b,balance:wb};function gb(e,t){var r={};function n(i,o){var s=0,a=0,u=i.length,f=I.last(o);return I.forEach(o,function(c,h){var l=pB(e,c),p=l?e.node(l).order:u;(l||c===f)&&(I.forEach(o.slice(a,h+1),function(m){I.forEach(e.predecessors(m),function(g){var v=e.node(g),y=v.order;(y<s||p<y)&&!(v.dummy&&e.node(m).dummy)&&xu(r,g,m)})}),a=h+1,s=p)}),o}return I.reduce(t,n),r}function mb(e,t){var r={};function n(o,s,a,u,f){var c;I.forEach(I.range(s,a),function(h){c=o[h],e.node(c).dummy&&I.forEach(e.predecessors(c),function(l){var p=e.node(l);p.dummy&&(p.order<u||p.order>f)&&xu(r,l,c)})})}function i(o,s){var a=-1,u,f=0;return I.forEach(s,function(c,h){if(e.node(c).dummy==="border"){var l=e.predecessors(c);l.length&&(u=e.node(l[0]).order,n(s,f,h,a,u),f=h,a=u)}n(s,f,s.length,u,o.length)}),s}return I.reduce(t,i),r}function pB(e,t){if(e.node(t).dummy)return I.find(e.predecessors(t),function(r){return e.node(r).dummy})}function xu(e,t,r){if(t>r){var n=t;t=r,r=n}var i=e[t];i||(e[t]=i={}),i[r]=!0}function vb(e,t,r){if(t>r){var n=t;t=r,r=n}return I.has(e[t],r)}function yb(e,t,r,n){var i={},o={},s={};return I.forEach(t,function(a){I.forEach(a,function(u,f){i[u]=u,o[u]=u,s[u]=f})}),I.forEach(t,function(a){var u=-1;I.forEach(a,function(f){var c=n(f);if(c.length){c=I.sortBy(c,function(g){return s[g]});for(var h=(c.length-1)/2,l=Math.floor(h),p=Math.ceil(h);l<=p;++l){var m=c[l];o[f]===f&&u<s[m]&&!vb(r,f,m)&&(o[m]=f,o[f]=i[f]=i[m],u=s[m])}}})}),{root:i,align:o}}function xb(e,t,r,n,i){var o={},s=dB(e,t,r,i),a=i?"borderLeft":"borderRight";function u(h,l){for(var p=s.nodes(),m=p.pop(),g={};m;)g[m]?h(m):(g[m]=!0,p.push(m),p=p.concat(l(m))),m=p.pop()}function f(h){o[h]=s.inEdges(h).reduce(function(l,p){return Math.max(l,o[p.v]+s.edge(p))},0)}function c(h){var l=s.outEdges(h).reduce(function(m,g){return Math.min(m,o[g.w]-s.edge(g))},Number.POSITIVE_INFINITY),p=e.node(h);l!==Number.POSITIVE_INFINITY&&p.borderType!==a&&(o[h]=Math.max(o[h],l))}return u(f,s.predecessors.bind(s)),u(c,s.successors.bind(s)),I.forEach(n,function(h){o[h]=o[r[h]]}),o}function dB(e,t,r,n){var i=new hB,o=e.graph(),s=mB(o.nodesep,o.edgesep,n);return I.forEach(t,function(a){var u;I.forEach(a,function(f){var c=r[f];if(i.setNode(c),u){var h=r[u],l=i.edge(h,c);i.setEdge(h,c,Math.max(s(e,f,u),l||0))}u=f})}),i}function _b(e,t){return I.minBy(I.values(t),function(r){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return I.forIn(r,function(o,s){var a=vB(e,s)/2;n=Math.max(o+a,n),i=Math.min(o-a,i)}),n-i})}function bb(e,t){var r=I.values(t),n=I.min(r),i=I.max(r);I.forEach(["u","d"],function(o){I.forEach(["l","r"],function(s){var a=o+s,u=e[a],f;if(u!==t){var c=I.values(u);f=s==="l"?n-I.min(c):i-I.max(c),f&&(e[a]=I.mapValues(u,function(h){return h+f}))}})})}function wb(e,t){return I.mapValues(e.ul,function(r,n){if(t)return e[t.toLowerCase()][n];var i=I.sortBy(I.map(e,n));return(i[1]+i[2])/2})}function gB(e){var t=lB.buildLayerMatrix(e),r=I.merge(gb(e,t),mb(e,t)),n={},i;I.forEach(["u","d"],function(s){i=s==="u"?t:I.values(t).reverse(),I.forEach(["l","r"],function(a){a==="r"&&(i=I.map(i,function(h){return I.values(h).reverse()}));var u=(s==="u"?e.predecessors:e.successors).bind(e),f=yb(e,i,r,u),c=xb(e,i,f.root,f.align,a==="r");a==="r"&&(c=I.mapValues(c,function(h){return-h})),n[s+a]=c})});var o=_b(e,n);return bb(n,o),wb(n,e.graph().align)}function mB(e,t,r){return function(n,i,o){var s=n.node(i),a=n.node(o),u=0,f;if(u+=s.width/2,I.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":f=-s.width/2;break;case"r":f=s.width/2;break}if(f&&(u+=r?f:-f),f=0,u+=(s.dummy?t:e)/2,u+=(a.dummy?t:e)/2,u+=a.width/2,I.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":f=a.width/2;break;case"r":f=-a.width/2;break}return f&&(u+=r?f:-f),f=0,u}}function vB(e,t){return e.node(t).width}});var Ab=d((bQ,Cb)=>{"use strict";var Dn=j(),Mb=he(),yB=qb().positionX;Cb.exports=xB;function xB(e){e=Mb.asNonCompoundGraph(e),_B(e),Dn.forEach(yB(e),function(t,r){e.node(r).x=t})}function _B(e){var t=Mb.buildLayerMatrix(e),r=e.graph().ranksep,n=0;Dn.forEach(t,function(i){var o=Dn.max(Dn.map(i,function(s){return e.node(s).height}));Dn.forEach(i,function(s){e.node(s).y=n+o/2}),n+=o+r})}});var Ib=d((wQ,Ob)=>{"use strict";var P=j(),Sb=h_(),Tb=y_(),bB=O_(),wB=he().normalizeRanks,EB=P_(),qB=he().removeEmptyRanks,kb=G_(),MB=$_(),Nb=j_(),CB=db(),AB=Ab(),At=he(),SB=Ae().Graph;Ob.exports=TB;function TB(e,t){var r=t&&t.debugTiming?At.time:At.notime;r("layout",function(){var n=r("  buildLayoutGraph",function(){return $B(e)});r("  runLayout",function(){kB(n,r)}),r("  updateInputGraph",function(){NB(e,n)})})}function kB(e,t){t("    makeSpaceForEdgeLabels",function(){BB(e)}),t("    removeSelfEdges",function(){KB(e)}),t("    acyclic",function(){Sb.run(e)}),t("    nestingGraph.run",function(){kb.run(e)}),t("    rank",function(){bB(At.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){zB(e)}),t("    removeEmptyRanks",function(){qB(e)}),t("    nestingGraph.cleanup",function(){kb.cleanup(e)}),t("    normalizeRanks",function(){wB(e)}),t("    assignRankMinMax",function(){VB(e)}),t("    removeEdgeLabelProxies",function(){jB(e)}),t("    normalize.run",function(){Tb.run(e)}),t("    parentDummyChains",function(){EB(e)}),t("    addBorderSegments",function(){MB(e)}),t("    order",function(){CB(e)}),t("    insertSelfEdges",function(){ZB(e)}),t("    adjustCoordinateSystem",function(){Nb.adjust(e)}),t("    position",function(){AB(e)}),t("    positionSelfEdges",function(){QB(e)}),t("    removeBorderNodes",function(){WB(e)}),t("    normalize.undo",function(){Tb.undo(e)}),t("    fixupEdgeLabelCoords",function(){YB(e)}),t("    undoCoordinateSystem",function(){Nb.undo(e)}),t("    translateGraph",function(){HB(e)}),t("    assignNodeIntersects",function(){UB(e)}),t("    reversePoints",function(){XB(e)}),t("    acyclic.undo",function(){Sb.undo(e)})}function NB(e,t){P.forEach(e.nodes(),function(r){var n=e.node(r),i=t.node(r);n&&(n.x=i.x,n.y=i.y,t.children(r).length&&(n.width=i.width,n.height=i.height))}),P.forEach(e.edges(),function(r){var n=e.edge(r),i=t.edge(r);n.points=i.points,P.has(i,"x")&&(n.x=i.x,n.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var OB=["nodesep","edgesep","ranksep","marginx","marginy"],IB={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},PB=["acyclicer","ranker","rankdir","align"],LB=["width","height"],DB={width:0,height:0},GB=["minlen","weight","width","height","labeloffset"],FB={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},RB=["labelpos"];function $B(e){var t=new SB({multigraph:!0,compound:!0}),r=bu(e.graph());return t.setGraph(P.merge({},IB,_u(r,OB),P.pick(r,PB))),P.forEach(e.nodes(),function(n){var i=bu(e.node(n));t.setNode(n,P.defaults(_u(i,LB),DB)),t.setParent(n,e.parent(n))}),P.forEach(e.edges(),function(n){var i=bu(e.edge(n));t.setEdge(n,P.merge({},FB,_u(i,GB),P.pick(i,RB)))}),t}function BB(e){var t=e.graph();t.ranksep/=2,P.forEach(e.edges(),function(r){var n=e.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function zB(e){P.forEach(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-n.rank)/2+n.rank,e:t};At.addDummyNode(e,"edge-proxy",o,"_ep")}})}function VB(e){var t=0;P.forEach(e.nodes(),function(r){var n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=P.max(t,n.maxRank))}),e.graph().maxRank=t}function jB(e){P.forEach(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}function HB(e){var t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,i=0,o=e.graph(),s=o.marginx||0,a=o.marginy||0;function u(f){var c=f.x,h=f.y,l=f.width,p=f.height;t=Math.min(t,c-l/2),r=Math.max(r,c+l/2),n=Math.min(n,h-p/2),i=Math.max(i,h+p/2)}P.forEach(e.nodes(),function(f){u(e.node(f))}),P.forEach(e.edges(),function(f){var c=e.edge(f);P.has(c,"x")&&u(c)}),t-=s,n-=a,P.forEach(e.nodes(),function(f){var c=e.node(f);c.x-=t,c.y-=n}),P.forEach(e.edges(),function(f){var c=e.edge(f);P.forEach(c.points,function(h){h.x-=t,h.y-=n}),P.has(c,"x")&&(c.x-=t),P.has(c,"y")&&(c.y-=n)}),o.width=r-t+s,o.height=i-n+a}function UB(e){P.forEach(e.edges(),function(t){var r=e.edge(t),n=e.node(t.v),i=e.node(t.w),o,s;r.points?(o=r.points[0],s=r.points[r.points.length-1]):(r.points=[],o=i,s=n),r.points.unshift(At.intersectRect(n,o)),r.points.push(At.intersectRect(i,s))})}function YB(e){P.forEach(e.edges(),function(t){var r=e.edge(t);if(P.has(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function XB(e){P.forEach(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}function WB(e){P.forEach(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),n=e.node(r.borderTop),i=e.node(r.borderBottom),o=e.node(P.last(r.borderLeft)),s=e.node(P.last(r.borderRight));r.width=Math.abs(s.x-o.x),r.height=Math.abs(i.y-n.y),r.x=o.x+r.width/2,r.y=n.y+r.height/2}}),P.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function KB(e){P.forEach(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function ZB(e){var t=At.buildLayerMatrix(e);P.forEach(t,function(r){var n=0;P.forEach(r,function(i,o){var s=e.node(i);s.order=o+n,P.forEach(s.selfEdges,function(a){At.addDummyNode(e,"selfedge",{width:a.label.width,height:a.label.height,rank:s.rank,order:o+ ++n,e:a.e,label:a.label},"_se")}),delete s.selfEdges})})}function QB(e){P.forEach(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),i=n.x+n.width/2,o=n.y,s=r.x-i,a=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:i+2*s/3,y:o-a},{x:i+5*s/6,y:o-a},{x:i+s,y:o},{x:i+5*s/6,y:o+a},{x:i+2*s/3,y:o+a}],r.label.x=r.x,r.label.y=r.y}})}function _u(e,t){return P.mapValues(P.pick(e,t),Number)}function bu(e){var t={};return P.forEach(e,function(r,n){t[n.toLowerCase()]=r}),t}});var Lb=d((EQ,Pb)=>{var ho=j(),JB=he(),e4=Ae().Graph;Pb.exports={debugOrdering:t4};function t4(e){var t=JB.buildLayerMatrix(e),r=new e4({compound:!0,multigraph:!0}).setGraph({});return ho.forEach(e.nodes(),function(n){r.setNode(n,{label:n}),r.setParent(n,"layer"+e.node(n).rank)}),ho.forEach(e.edges(),function(n){r.setEdge(n.v,n.w,{},n.name)}),ho.forEach(t,function(n,i){var o="layer"+i;r.setNode(o,{rank:"same"}),ho.reduce(n,function(s,a){return r.setEdge(s,a,{style:"invis"}),a})}),r}});var Gb=d((qQ,Db)=>{Db.exports="0.8.5"});var Rb=d((MQ,Fb)=>{Fb.exports={graphlib:Ae(),layout:Ib(),debug:Lb(),util:{time:he().time,notime:he().notime},version:Gb()}});var Mu=d(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});var qu=function(){function e(t,r,n){this.source=t,this.target=r,this.type=n}return e}();St.PowerEdge=qu;var lw=function(){function e(t,r,n,i){var o=this;if(this.linkAccessor=n,this.modules=new Array(t),this.roots=[],i)this.initModulesFromGroup(i);else{this.roots.push(new kr);for(var s=0;s<t;++s)this.roots[0].add(this.modules[s]=new Gn(s))}this.R=r.length,r.forEach(function(a){var u=o.modules[n.getSourceIndex(a)],f=o.modules[n.getTargetIndex(a)],c=n.getType(a);u.outgoing.add(c,f),f.incoming.add(c,u)})}return e.prototype.initModulesFromGroup=function(t){var r=new kr;this.roots.push(r);for(var n=0;n<t.leaves.length;++n){var i=t.leaves[n],o=new Gn(i.id);this.modules[i.id]=o,r.add(o)}if(t.groups)for(var s=0;s<t.groups.length;++s){var a=t.groups[s],u={};for(var f in a)f!=="leaves"&&f!=="groups"&&a.hasOwnProperty(f)&&(u[f]=a[f]);r.add(new Gn(-1-s,new Fn,new Fn,this.initModulesFromGroup(a),u))}return r},e.prototype.merge=function(t,r,n){n===void 0&&(n=0);var i=t.incoming.intersection(r.incoming),o=t.outgoing.intersection(r.outgoing),s=new kr;s.add(t),s.add(r);var a=new Gn(this.modules.length,o,i,s);this.modules.push(a);var u=function(f,c,h){f.forAll(function(l,p){l.forAll(function(m){var g=m[c];g.add(p,a),g.remove(p,t),g.remove(p,r),t[h].remove(p,m),r[h].remove(p,m)})})};return u(o,"incoming","outgoing"),u(i,"outgoing","incoming"),this.R-=i.count()+o.count(),this.roots[n].remove(t),this.roots[n].remove(r),this.roots[n].add(a),a},e.prototype.rootMerges=function(t){t===void 0&&(t=0);for(var r=this.roots[t].modules(),n=r.length,i=new Array(n*(n-1)),o=0,s=0,a=n-1;s<a;++s)for(var u=s+1;u<n;++u){var f=r[s],c=r[u];i[o]={id:o,nEdges:this.nEdges(f,c),a:f,b:c},o++}return i},e.prototype.greedyMerge=function(){for(var t=0;t<this.roots.length;++t)if(!(this.roots[t].modules().length<2)){var r=this.rootMerges(t).sort(function(i,o){return i.nEdges==o.nEdges?i.id-o.id:i.nEdges-o.nEdges}),n=r[0];if(!(n.nEdges>=this.R))return this.merge(n.a,n.b,t),!0}},e.prototype.nEdges=function(t,r){var n=t.incoming.intersection(r.incoming),i=t.outgoing.intersection(r.outgoing);return this.R-n.count()-i.count()},e.prototype.getGroupHierarchy=function(t){var r=this,n=[],i={};pw(this.roots[0],i,n);var o=this.allEdges();return o.forEach(function(s){var a=r.modules[s.source],u=r.modules[s.target];t.push(new qu(typeof a.gid>"u"?s.source:n[a.gid],typeof u.gid>"u"?s.target:n[u.gid],s.type))}),n},e.prototype.allEdges=function(){var t=[];return e.getEdges(this.roots[0],t),t},e.getEdges=function(t,r){t.forAll(function(n){n.getEdges(r),e.getEdges(n.children,r)})},e}();St.Configuration=lw;function pw(e,t,r){e.forAll(function(n){if(n.isLeaf())t.leaves||(t.leaves=[]),t.leaves.push(n.id);else{var i=t;if(n.gid=r.length,!n.isIsland()||n.isPredefined()){if(i={id:n.gid},n.isPredefined())for(var o in n.definition)i[o]=n.definition[o];t.groups||(t.groups=[]),t.groups.push(n.gid),r.push(i)}pw(n.children,i,r)}})}var Gn=function(){function e(t,r,n,i,o){r===void 0&&(r=new Fn),n===void 0&&(n=new Fn),i===void 0&&(i=new kr),this.id=t,this.outgoing=r,this.incoming=n,this.children=i,this.definition=o}return e.prototype.getEdges=function(t){var r=this;this.outgoing.forAll(function(n,i){n.forAll(function(o){t.push(new qu(r.id,o.id,i))})})},e.prototype.isLeaf=function(){return this.children.count()===0},e.prototype.isIsland=function(){return this.outgoing.count()===0&&this.incoming.count()===0},e.prototype.isPredefined=function(){return typeof this.definition<"u"},e}();St.Module=Gn;function a4(e,t){var r={};for(var n in e)n in t&&(r[n]=e[n]);return r}var kr=function(){function e(){this.table={}}return e.prototype.count=function(){return Object.keys(this.table).length},e.prototype.intersection=function(t){var r=new e;return r.table=a4(this.table,t.table),r},e.prototype.intersectionCount=function(t){return this.intersection(t).count()},e.prototype.contains=function(t){return t in this.table},e.prototype.add=function(t){this.table[t.id]=t},e.prototype.remove=function(t){delete this.table[t.id]},e.prototype.forAll=function(t){for(var r in this.table)t(this.table[r])},e.prototype.modules=function(){var t=[];return this.forAll(function(r){r.isPredefined()||t.push(r)}),t},e}();St.ModuleSet=kr;var Fn=function(){function e(){this.sets={},this.n=0}return e.prototype.count=function(){return this.n},e.prototype.contains=function(t){var r=!1;return this.forAllModules(function(n){!r&&n.id==t&&(r=!0)}),r},e.prototype.add=function(t,r){var n=t in this.sets?this.sets[t]:this.sets[t]=new kr;n.add(r),++this.n},e.prototype.remove=function(t,r){var n=this.sets[t];n.remove(r),n.count()===0&&delete this.sets[t],--this.n},e.prototype.forAll=function(t){for(var r in this.sets)t(this.sets[r],Number(r))},e.prototype.forAllModules=function(t){this.forAll(function(r,n){return r.forAll(t)})},e.prototype.intersection=function(t){var r=new e;return this.forAll(function(n,i){if(i in t.sets){var o=n.intersection(t.sets[i]),s=o.count();s>0&&(r.sets[i]=o,r.n+=s)}}),r},e}();St.LinkSets=Fn;function u4(e,t,r,n){for(var i=e.length,o=new lw(i,t,r,n);o.greedyMerge(););var s=[],a=o.getGroupHierarchy(s);return s.forEach(function(u){var f=function(c){var h=u[c];typeof h=="number"&&(u[c]=e[h])};f("source"),f("target")}),{groups:a,powerEdges:s}}St.getGroups=u4});var vo=d(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});function dw(e,t){var r={};for(var n in e)r[n]={};for(var n in t)r[n]={};return Object.keys(r).length}function gw(e,t){var r=0;for(var n in e)typeof t[n]<"u"&&++r;return r}function f4(e,t){var r={},n=function(i,o){typeof r[i]>"u"&&(r[i]={}),r[i][o]={}};return e.forEach(function(i){var o=t.getSourceIndex(i),s=t.getTargetIndex(i);n(o,s),n(s,o)}),r}function mw(e,t,r,n){var i=f4(e,n);e.forEach(function(o){var s=i[n.getSourceIndex(o)],a=i[n.getTargetIndex(o)];n.setLength(o,1+t*r(s,a))})}function c4(e,t,r){r===void 0&&(r=1),mw(e,r,function(n,i){return Math.sqrt(dw(n,i)-gw(n,i))},t)}Nr.symmetricDiffLinkLengths=c4;function h4(e,t,r){r===void 0&&(r=1),mw(e,r,function(n,i){return Math.min(Object.keys(n).length,Object.keys(i).length)<1.1?0:gw(n,i)/dw(n,i)},t)}Nr.jaccardLinkLengths=h4;function l4(e,t,r,n){var i=vw(e,t,n),o={};i.forEach(function(a,u){return a.forEach(function(f){return o[f]=u})});var s=[];return t.forEach(function(a){var u=n.getSourceIndex(a),f=n.getTargetIndex(a),c=o[u],h=o[f];c!==h&&s.push({axis:r,left:u,right:f,gap:n.getMinSeparation(a)})}),s}Nr.generateDirectedEdgeConstraints=l4;function vw(e,t,r){var n=[],i=0,o=[],s=[];function a(y){y.index=y.lowlink=i++,o.push(y),y.onStack=!0;for(var x=0,b=y.out;x<b.length;x++){var _=b[x];typeof _.index>"u"?(a(_),y.lowlink=Math.min(y.lowlink,_.lowlink)):_.onStack&&(y.lowlink=Math.min(y.lowlink,_.index))}if(y.lowlink===y.index){for(var w=[];o.length&&(_=o.pop(),_.onStack=!1,w.push(_),_!==y););s.push(w.map(function(A){return A.id}))}}for(var u=0;u<e;u++)n.push({id:u,out:[]});for(var f=0,c=t;f<c.length;f++){var h=c[f],l=n[r.getSourceIndex(h)],p=n[r.getTargetIndex(h)];l.out.push(p)}for(var m=0,g=n;m<g.length;m++){var v=g[m];typeof v.index>"u"&&a(v)}return s}Nr.stronglyConnectedComponents=vw});var yo=d(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});var yw=function(){function e(){this.locks={}}return e.prototype.add=function(t,r){this.locks[t]=r},e.prototype.clear=function(){this.locks={}},e.prototype.isEmpty=function(){for(var t in this.locks)return!1;return!0},e.prototype.apply=function(t){for(var r in this.locks)t(Number(r),this.locks[r])},e}();Rn.Locks=yw;var p4=function(){function e(t,r,n){n===void 0&&(n=null),this.D=r,this.G=n,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new xw,this.project=null,this.x=t,this.k=t.length;var i=this.n=t[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new yw,this.minD=Number.MAX_VALUE;for(var o=i,s;o--;)for(s=i;--s>o;){var a=r[o][s];a>0&&a<this.minD&&(this.minD=a)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),o=this.k;o--;){for(this.g[o]=new Array(i),this.H[o]=new Array(i),s=i;s--;)this.H[o][s]=new Array(i);this.Hd[o]=new Array(i),this.a[o]=new Array(i),this.b[o]=new Array(i),this.c[o]=new Array(i),this.d[o]=new Array(i),this.e[o]=new Array(i),this.ia[o]=new Array(i),this.ib[o]=new Array(i),this.xtmp[o]=new Array(i)}}return e.createSquareMatrix=function(t,r){for(var n=new Array(t),i=0;i<t;++i){n[i]=new Array(t);for(var o=0;o<t;++o)n[i][o]=r(i,o)}return n},e.prototype.offsetDir=function(){for(var t=this,r=new Array(this.k),n=0,i=0;i<this.k;++i){var o=r[i]=this.random.getNextBetween(.01,1)-.5;n+=o*o}return n=Math.sqrt(n),r.map(function(s){return s*=t.minD/n})},e.prototype.computeDerivatives=function(t){var r=this,n=this.n;if(!(n<1)){for(var i,o=new Array(this.k),s=new Array(this.k),a=new Array(this.k),u=0,f=0;f<n;++f){for(i=0;i<this.k;++i)a[i]=this.g[i][f]=0;for(var c=0;c<n;++c)if(f!==c){for(var h=n;h--;){var l=0;for(i=0;i<this.k;++i){var p=o[i]=t[i][f]-t[i][c];l+=s[i]=p*p}if(l>1e-9)break;var m=this.offsetDir();for(i=0;i<this.k;++i)t[i][c]+=m[i]}var g=Math.sqrt(l),v=this.D[f][c],y=this.G!=null?this.G[f][c]:1;if(y>1&&g>v||!isFinite(v)){for(i=0;i<this.k;++i)this.H[i][f][c]=0;continue}y>1&&(y=1);var x=v*v,b=2*y*(g-v)/(x*g),_=g*g*g,w=2*-y/(x*_);for(isFinite(b)||console.log(b),i=0;i<this.k;++i)this.g[i][f]+=o[i]*b,a[i]-=this.H[i][f][c]=w*(_+v*(s[i]-l)+g*l)}for(i=0;i<this.k;++i)u=Math.max(u,this.H[i][f][f]=a[i])}for(var A=this.snapGridSize/2,S=this.snapGridSize,M=this.snapStrength,k=M/(A*A),q=this.numGridSnapNodes,f=0;f<q;++f)for(i=0;i<this.k;++i){var E=this.x[i][f],T=E/S,C=T%1,N=T-C,$=Math.abs(C),p=$<=.5?E-N*S:E>0?E-(N+1)*S:E-(N-1)*S;-A<p&&p<=A&&(this.scaleSnapByMaxH?(this.g[i][f]+=u*k*p,this.H[i][f][f]+=u*k):(this.g[i][f]+=k*p,this.H[i][f][f]+=k))}this.locks.isEmpty()||this.locks.apply(function(B,W){for(i=0;i<r.k;++i)r.H[i][B][B]+=u,r.g[i][B]-=u*(W[i]-t[i][B])})}},e.dotProd=function(t,r){for(var n=0,i=t.length;i--;)n+=t[i]*r[i];return n},e.rightMultiply=function(t,r,n){for(var i=t.length;i--;)n[i]=e.dotProd(t[i],r)},e.prototype.computeStepSize=function(t){for(var r=0,n=0,i=0;i<this.k;++i)r+=e.dotProd(this.g[i],t[i]),e.rightMultiply(this.H[i],t[i],this.Hd[i]),n+=e.dotProd(t[i],this.Hd[i]);return n===0||!isFinite(n)?0:1*r/n},e.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var t=this.computeStepSize(this.g),r=0;r<this.k;++r)this.takeDescentStep(this.x[r],this.g[r],t);return this.computeStress()},e.copy=function(t,r){for(var n=t.length,i=r[0].length,o=0;o<n;++o)for(var s=0;s<i;++s)r[o][s]=t[o][s]},e.prototype.stepAndProject=function(t,r,n,i){e.copy(t,r),this.takeDescentStep(r[0],n[0],i),this.project&&this.project[0](t[0],t[1],r[0]),this.takeDescentStep(r[1],n[1],i),this.project&&this.project[1](r[0],t[1],r[1]);for(var o=2;o<this.k;o++)this.takeDescentStep(r[o],n[o],i)},e.mApply=function(t,r,n){for(var i=t;i-- >0;)for(var o=r;o-- >0;)n(i,o)},e.prototype.matrixApply=function(t){e.mApply(this.k,this.n,t)},e.prototype.computeNextPosition=function(t,r){var n=this;this.computeDerivatives(t);var i=this.computeStepSize(this.g);if(this.stepAndProject(t,r,this.g,i),this.project){this.matrixApply(function(s,a){return n.e[s][a]=t[s][a]-r[s][a]});var o=this.computeStepSize(this.e);o=Math.max(.2,Math.min(o,1)),this.stepAndProject(t,r,this.e,o)}},e.prototype.run=function(t){for(var r=Number.MAX_VALUE,n=!1;!n&&t-- >0;){var i=this.rungeKutta();n=Math.abs(r/i-1)<this.threshold,r=i}return r},e.prototype.rungeKutta=function(){var t=this;this.computeNextPosition(this.x,this.a),e.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),e.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var r=0;return this.matrixApply(function(n,i){var o=(t.a[n][i]+2*t.b[n][i]+2*t.c[n][i]+t.d[n][i])/6,s=t.x[n][i]-o;r+=s*s,t.x[n][i]=o}),r},e.mid=function(t,r,n){e.mApply(t.length,t[0].length,function(i,o){return n[i][o]=t[i][o]+(r[i][o]-t[i][o])/2})},e.prototype.takeDescentStep=function(t,r,n){for(var i=0;i<this.n;++i)t[i]=t[i]-n*r[i]},e.prototype.computeStress=function(){for(var t=0,r=0,n=this.n-1;r<n;++r)for(var i=r+1,o=this.n;i<o;++i){for(var s=0,a=0;a<this.k;++a){var u=this.x[a][r]-this.x[a][i];s+=u*u}s=Math.sqrt(s);var f=this.D[r][i];if(isFinite(f)){var c=f-s,h=f*f;t+=c*c/h}}return t},e.zeroDistance=1e-10,e}();Rn.Descent=p4;var xw=function(){function e(t){t===void 0&&(t=1),this.seed=t,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return e.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},e.prototype.getNextBetween=function(t,r){return t+this.getNext()*(r-t)},e}();Rn.PseudoRandom=xw});var bo=d(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});var _w=function(){function e(t){this.scale=t,this.AB=0,this.AD=0,this.A2=0}return e.prototype.addVariable=function(t){var r=this.scale/t.scale,n=t.offset/t.scale,i=t.weight;this.AB+=i*r*n,this.AD+=i*r*t.desiredPosition,this.A2+=i*r*r},e.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},e}();st.PositionStats=_w;var xo=function(){function e(t,r,n,i){i===void 0&&(i=!1),this.left=t,this.right=r,this.gap=n,this.equality=i,this.active=!1,this.unsatisfiable=!1,this.left=t,this.right=r,this.gap=n,this.equality=i}return e.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},e}();st.Constraint=xo;var _o=function(){function e(t,r,n){r===void 0&&(r=1),n===void 0&&(n=1),this.desiredPosition=t,this.weight=r,this.scale=n,this.offset=0}return e.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},e.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},e.prototype.visitNeighbours=function(t,r){var n=function(i,o){return i.active&&t!==o&&r(i,o)};this.cOut.forEach(function(i){return n(i,i.right)}),this.cIn.forEach(function(i){return n(i,i.left)})},e}();st.Variable=_o;var Cu=function(){function e(t){this.vars=[],t.offset=0,this.ps=new _w(t.scale),this.addVariable(t)}return e.prototype.addVariable=function(t){t.block=this,this.vars.push(t),this.ps.addVariable(t),this.posn=this.ps.getPosn()},e.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var t=0,r=this.vars.length;t<r;++t)this.ps.addVariable(this.vars[t]);this.posn=this.ps.getPosn()},e.prototype.compute_lm=function(t,r,n){var i=this,o=t.dfdv();return t.visitNeighbours(r,function(s,a){var u=i.compute_lm(a,t,n);a===s.right?(o+=u*s.left.scale,s.lm=u):(o+=u*s.right.scale,s.lm=-u),n(s)}),o/t.scale},e.prototype.populateSplitBlock=function(t,r){var n=this;t.visitNeighbours(r,function(i,o){o.offset=t.offset+(o===i.right?i.gap:-i.gap),n.addVariable(o),n.populateSplitBlock(o,t)})},e.prototype.traverse=function(t,r,n,i){var o=this;n===void 0&&(n=this.vars[0]),i===void 0&&(i=null),n.visitNeighbours(i,function(s,a){r.push(t(s)),o.traverse(t,r,a,n)})},e.prototype.findMinLM=function(){var t=null;return this.compute_lm(this.vars[0],null,function(r){!r.equality&&(t===null||r.lm<t.lm)&&(t=r)}),t},e.prototype.findMinLMBetween=function(t,r){this.compute_lm(t,null,function(){});var n=null;return this.findPath(t,null,r,function(i,o){!i.equality&&i.right===o&&(n===null||i.lm<n.lm)&&(n=i)}),n},e.prototype.findPath=function(t,r,n,i){var o=this,s=!1;return t.visitNeighbours(r,function(a,u){!s&&(u===n||o.findPath(u,t,n,i))&&(s=!0,i(a,u))}),s},e.prototype.isActiveDirectedPathBetween=function(t,r){if(t===r)return!0;for(var n=t.cOut.length;n--;){var i=t.cOut[n];if(i.active&&this.isActiveDirectedPathBetween(i.right,r))return!0}return!1},e.split=function(t){return t.active=!1,[e.createSplitBlock(t.left),e.createSplitBlock(t.right)]},e.createSplitBlock=function(t){var r=new e(t);return r.populateSplitBlock(t,null),r},e.prototype.splitBetween=function(t,r){var n=this.findMinLMBetween(t,r);if(n!==null){var i=e.split(n);return{constraint:n,lb:i[0],rb:i[1]}}return null},e.prototype.mergeAcross=function(t,r,n){r.active=!0;for(var i=0,o=t.vars.length;i<o;++i){var s=t.vars[i];s.offset+=n,this.addVariable(s)}this.posn=this.ps.getPosn()},e.prototype.cost=function(){for(var t=0,r=this.vars.length;r--;){var n=this.vars[r],i=n.position()-n.desiredPosition;t+=i*i*n.weight}return t},e}();st.Block=Cu;var Au=function(){function e(t){this.vs=t;var r=t.length;for(this.list=new Array(r);r--;){var n=new Cu(t[r]);this.list[r]=n,n.blockInd=r}}return e.prototype.cost=function(){for(var t=0,r=this.list.length;r--;)t+=this.list[r].cost();return t},e.prototype.insert=function(t){t.blockInd=this.list.length,this.list.push(t)},e.prototype.remove=function(t){var r=this.list.length-1,n=this.list[r];this.list.length=r,t!==n&&(this.list[t.blockInd]=n,n.blockInd=t.blockInd)},e.prototype.merge=function(t){var r=t.left.block,n=t.right.block,i=t.right.offset-t.left.offset-t.gap;r.vars.length<n.vars.length?(n.mergeAcross(r,t,i),this.remove(r)):(r.mergeAcross(n,t,-i),this.remove(n))},e.prototype.forEach=function(t){this.list.forEach(t)},e.prototype.updateBlockPositions=function(){this.list.forEach(function(t){return t.updateWeightedPosition()})},e.prototype.split=function(t){var r=this;this.updateBlockPositions(),this.list.forEach(function(n){var i=n.findMinLM();i!==null&&i.lm<Su.LAGRANGIAN_TOLERANCE&&(n=i.left.block,Cu.split(i).forEach(function(o){return r.insert(o)}),r.remove(n),t.push(i))})},e}();st.Blocks=Au;var Su=function(){function e(t,r){this.vs=t,this.cs=r,this.vs=t,t.forEach(function(n){n.cIn=[],n.cOut=[]}),this.cs=r,r.forEach(function(n){n.left.cOut.push(n),n.right.cIn.push(n)}),this.inactive=r.map(function(n){return n.active=!1,n}),this.bs=null}return e.prototype.cost=function(){return this.bs.cost()},e.prototype.setStartingPositions=function(t){this.inactive=this.cs.map(function(r){return r.active=!1,r}),this.bs=new Au(this.vs),this.bs.forEach(function(r,n){return r.posn=t[n]})},e.prototype.setDesiredPositions=function(t){this.vs.forEach(function(r,n){return r.desiredPosition=t[n]})},e.prototype.mostViolated=function(){for(var t=Number.MAX_VALUE,r=null,n=this.inactive,i=n.length,o=i,s=0;s<i;++s){var a=n[s];if(!a.unsatisfiable){var u=a.slack();if((a.equality||u<t)&&(t=u,r=a,o=s,a.equality))break}}return o!==i&&(t<e.ZERO_UPPERBOUND&&!r.active||r.equality)&&(n[o]=n[i-1],n.length=i-1),r},e.prototype.satisfy=function(){this.bs==null&&(this.bs=new Au(this.vs)),this.bs.split(this.inactive);for(var t=null;(t=this.mostViolated())&&(t.equality||t.slack()<e.ZERO_UPPERBOUND&&!t.active);){var r=t.left.block,n=t.right.block;if(r!==n)this.bs.merge(t);else{if(r.isActiveDirectedPathBetween(t.right,t.left)){t.unsatisfiable=!0;continue}var i=r.splitBetween(t.left,t.right);if(i!==null)this.bs.insert(i.lb),this.bs.insert(i.rb),this.bs.remove(r),this.inactive.push(i.constraint);else{t.unsatisfiable=!0;continue}t.slack()>=0?this.inactive.push(t):this.bs.merge(t)}}},e.prototype.solve=function(){this.satisfy();for(var t=Number.MAX_VALUE,r=this.bs.cost();Math.abs(t-r)>1e-4;)this.satisfy(),t=r,r=this.bs.cost();return r},e.LAGRANGIAN_TOLERANCE=-1e-4,e.ZERO_UPPERBOUND=-1e-10,e}();st.Solver=Su;function d4(e,t,r){for(var n=e.map(function(v){return new _o(v.desiredCenter)}),i=[],o=e.length,s=0;s<o-1;s++){var a=e[s],u=e[s+1];i.push(new xo(n[s],n[s+1],(a.size+u.size)/2))}var f=n[0],c=n[o-1],h=e[0].size/2,l=e[o-1].size/2,p=null,m=null;t&&(p=new _o(t,f.weight*1e3),n.push(p),i.push(new xo(p,f,h))),r&&(m=new _o(r,c.weight*1e3),n.push(m),i.push(new xo(c,m,l)));var g=new Su(n,i);return g.solve(),{newCenters:n.slice(0,e.length).map(function(v){return v.position()}),lowerBound:p?p.position():f.position()-h,upperBound:m?m.position():c.position()+l}}st.removeOverlapInOneDimension=d4});var Tu=d(rr=>{"use strict";var g4=rr&&rr.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(rr,"__esModule",{value:!0});var bw=function(){function e(){this.findIter=function(t){for(var r=this._root,n=this.iterator();r!==null;){var i=this._comparator(t,r.data);if(i===0)return n._cursor=r,n;n._ancestors.push(r),r=r.get_child(i>0)}return null}}return e.prototype.clear=function(){this._root=null,this.size=0},e.prototype.find=function(t){for(var r=this._root;r!==null;){var n=this._comparator(t,r.data);if(n===0)return r.data;r=r.get_child(n>0)}return null},e.prototype.lowerBound=function(t){return this._bound(t,this._comparator)},e.prototype.upperBound=function(t){var r=this._comparator;function n(i,o){return r(o,i)}return this._bound(t,n)},e.prototype.min=function(){var t=this._root;if(t===null)return null;for(;t.left!==null;)t=t.left;return t.data},e.prototype.max=function(){var t=this._root;if(t===null)return null;for(;t.right!==null;)t=t.right;return t.data},e.prototype.iterator=function(){return new ww(this)},e.prototype.each=function(t){for(var r=this.iterator(),n;(n=r.next())!==null;)t(n)},e.prototype.reach=function(t){for(var r=this.iterator(),n;(n=r.prev())!==null;)t(n)},e.prototype._bound=function(t,r){for(var n=this._root,i=this.iterator();n!==null;){var o=this._comparator(t,n.data);if(o===0)return i._cursor=n,i;i._ancestors.push(n),n=n.get_child(o>0)}for(var s=i._ancestors.length-1;s>=0;--s)if(n=i._ancestors[s],r(t,n.data)>0)return i._cursor=n,i._ancestors.length=s,i;return i._ancestors.length=0,i},e}();rr.TreeBase=bw;var ww=function(){function e(t){this._tree=t,this._ancestors=[],this._cursor=null}return e.prototype.data=function(){return this._cursor!==null?this._cursor.data:null},e.prototype.next=function(){if(this._cursor===null){var t=this._tree._root;t!==null&&this._minNode(t)}else if(this._cursor.right===null){var r;do if(r=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.right===r)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return this._cursor!==null?this._cursor.data:null},e.prototype.prev=function(){if(this._cursor===null){var t=this._tree._root;t!==null&&this._maxNode(t)}else if(this._cursor.left===null){var r;do if(r=this._cursor,this._ancestors.length)this._cursor=this._ancestors.pop();else{this._cursor=null;break}while(this._cursor.left===r)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return this._cursor!==null?this._cursor.data:null},e.prototype._minNode=function(t){for(;t.left!==null;)this._ancestors.push(t),t=t.left;this._cursor=t},e.prototype._maxNode=function(t){for(;t.right!==null;)this._ancestors.push(t),t=t.right;this._cursor=t},e}();rr.Iterator=ww;var wo=function(){function e(t){this.data=t,this.left=null,this.right=null,this.red=!0}return e.prototype.get_child=function(t){return t?this.right:this.left},e.prototype.set_child=function(t,r){t?this.right=r:this.left=r},e}(),m4=function(e){g4(t,e);function t(r){var n=e.call(this)||this;return n._root=null,n._comparator=r,n.size=0,n}return t.prototype.insert=function(r){var n=!1;if(this._root===null)this._root=new wo(r),n=!0,this.size++;else{var i=new wo(void 0),o=!1,s=!1,a=null,u=i,f=null,c=this._root;for(u.right=this._root;;){if(c===null?(c=new wo(r),f.set_child(o,c),n=!0,this.size++):t.is_red(c.left)&&t.is_red(c.right)&&(c.red=!0,c.left.red=!1,c.right.red=!1),t.is_red(c)&&t.is_red(f)){var h=u.right===a;c===f.get_child(s)?u.set_child(h,t.single_rotate(a,!s)):u.set_child(h,t.double_rotate(a,!s))}var l=this._comparator(c.data,r);if(l===0)break;s=o,o=l<0,a!==null&&(u=a),a=f,f=c,c=c.get_child(o)}this._root=i.right}return this._root.red=!1,n},t.prototype.remove=function(r){if(this._root===null)return!1;var n=new wo(void 0),i=n;i.right=this._root;for(var o=null,s=null,a=null,u=!0;i.get_child(u)!==null;){var f=u;s=o,o=i,i=i.get_child(u);var c=this._comparator(r,i.data);if(u=c>0,c===0&&(a=i),!t.is_red(i)&&!t.is_red(i.get_child(u))){if(t.is_red(i.get_child(!u))){var h=t.single_rotate(i,u);o.set_child(f,h),o=h}else if(!t.is_red(i.get_child(!u))){var l=o.get_child(!f);if(l!==null)if(!t.is_red(l.get_child(!f))&&!t.is_red(l.get_child(f)))o.red=!1,l.red=!0,i.red=!0;else{var p=s.right===o;t.is_red(l.get_child(f))?s.set_child(p,t.double_rotate(o,f)):t.is_red(l.get_child(!f))&&s.set_child(p,t.single_rotate(o,f));var m=s.get_child(p);m.red=!0,i.red=!0,m.left.red=!1,m.right.red=!1}}}}return a!==null&&(a.data=i.data,o.set_child(o.right===i,i.get_child(i.left===null)),this.size--),this._root=n.right,this._root!==null&&(this._root.red=!1),a!==null},t.is_red=function(r){return r!==null&&r.red},t.single_rotate=function(r,n){var i=r.get_child(!n);return r.set_child(!n,i.get_child(n)),i.set_child(n,r),r.red=!0,i.red=!1,i},t.double_rotate=function(r,n){return r.set_child(!n,t.single_rotate(r.get_child(!n),!n)),t.single_rotate(r,n)},t}(bw);rr.RBTree=m4});var Or=d(pe=>{"use strict";var v4=pe&&pe.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(pe,"__esModule",{value:!0});var at=bo(),y4=Tu();function $n(e){return e.bounds=typeof e.leaves<"u"?e.leaves.reduce(function(t,r){return r.bounds.union(t)},Tt.empty()):Tt.empty(),typeof e.groups<"u"&&(e.bounds=e.groups.reduce(function(t,r){return $n(r).union(t)},e.bounds)),e.bounds=e.bounds.inflate(e.padding),e.bounds}pe.computeGroupBounds=$n;var Tt=function(){function e(t,r,n,i){this.x=t,this.X=r,this.y=n,this.Y=i}return e.empty=function(){return new e(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},e.prototype.cx=function(){return(this.x+this.X)/2},e.prototype.cy=function(){return(this.y+this.Y)/2},e.prototype.overlapX=function(t){var r=this.cx(),n=t.cx();return r<=n&&t.x<this.X?this.X-t.x:n<=r&&this.x<t.X?t.X-this.x:0},e.prototype.overlapY=function(t){var r=this.cy(),n=t.cy();return r<=n&&t.y<this.Y?this.Y-t.y:n<=r&&this.y<t.Y?t.Y-this.y:0},e.prototype.setXCentre=function(t){var r=t-this.cx();this.x+=r,this.X+=r},e.prototype.setYCentre=function(t){var r=t-this.cy();this.y+=r,this.Y+=r},e.prototype.width=function(){return this.X-this.x},e.prototype.height=function(){return this.Y-this.y},e.prototype.union=function(t){return new e(Math.min(this.x,t.x),Math.max(this.X,t.X),Math.min(this.y,t.y),Math.max(this.Y,t.Y))},e.prototype.lineIntersections=function(t,r,n,i){for(var o=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],s=[],a=0;a<4;++a){var u=e.lineIntersection(t,r,n,i,o[a][0],o[a][1],o[a][2],o[a][3]);u!==null&&s.push({x:u.x,y:u.y})}return s},e.prototype.rayIntersection=function(t,r){var n=this.lineIntersections(this.cx(),this.cy(),t,r);return n.length>0?n[0]:null},e.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},e.lineIntersection=function(t,r,n,i,o,s,a,u){var f=n-t,c=a-o,h=i-r,l=u-s,p=l*f-c*h;if(p==0)return null;var m=t-o,g=r-s,v=c*g-l*m,y=v/p,x=f*g-h*m,b=x/p;return y>=0&&y<=1&&b>=0&&b<=1?{x:t+y*f,y:r+y*h}:null},e.prototype.inflate=function(t){return new e(this.x-t,this.X+t,this.y-t,this.Y+t)},e}();pe.Rectangle=Tt;function x4(e,t,r){var n=e.rayIntersection(t.cx(),t.cy())||{x:e.cx(),y:e.cy()},i=t.rayIntersection(e.cx(),e.cy())||{x:t.cx(),y:t.cy()},o=i.x-n.x,s=i.y-n.y,a=Math.sqrt(o*o+s*s),u=a-r;return{sourceIntersection:n,targetIntersection:i,arrowStart:{x:n.x+u*o/a,y:n.y+u*s/a}}}pe.makeEdgeBetween=x4;function _4(e,t,r){var n=t.rayIntersection(e.x,e.y);n||(n={x:t.cx(),y:t.cy()});var i=n.x-e.x,o=n.y-e.y,s=Math.sqrt(i*i+o*o);return{x:n.x-r*i/s,y:n.y-r*o/s}}pe.makeEdgeTo=_4;var b4=function(){function e(t,r,n){this.v=t,this.r=r,this.pos=n,this.prev=ku(),this.next=ku()}return e}(),Ew=function(){function e(t,r,n){this.isOpen=t,this.v=r,this.pos=n}return e}();function w4(e,t){return e.pos>t.pos?1:e.pos<t.pos||e.isOpen?-1:t.isOpen?1:0}function ku(){return new y4.RBTree(function(e,t){return e.pos-t.pos})}var qw={getCentre:function(e){return e.cx()},getOpen:function(e){return e.y},getClose:function(e){return e.Y},getSize:function(e){return e.width()},makeRect:function(e,t,r,n){return new Tt(r-n/2,r+n/2,e,t)},findNeighbours:E4},Mw={getCentre:function(e){return e.cy()},getOpen:function(e){return e.x},getClose:function(e){return e.X},getSize:function(e){return e.height()},makeRect:function(e,t,r,n){return new Tt(e,t,r-n/2,r+n/2)},findNeighbours:q4};function Nu(e,t,r,n){n===void 0&&(n=!1);var i=e.padding,o=typeof e.groups<"u"?e.groups.length:0,s=typeof e.leaves<"u"?e.leaves.length:0,a=o?e.groups.reduce(function(w,A){return w.concat(Nu(A,t,r,!0))},[]):[],u=(n?2:0)+s+o,f=new Array(u),c=new Array(u),h=0,l=function(w,A){c[h]=w,f[h++]=A};if(n){var p=e.bounds,m=t.getCentre(p),g=t.getSize(p)/2,v=t.getOpen(p),y=t.getClose(p),x=m-g+i/2,b=m+g-i/2;e.minVar.desiredPosition=x,l(t.makeRect(v,y,x,i),e.minVar),e.maxVar.desiredPosition=b,l(t.makeRect(v,y,b,i),e.maxVar)}s&&e.leaves.forEach(function(w){return l(w.bounds,w.variable)}),o&&e.groups.forEach(function(w){var A=w.bounds;l(t.makeRect(t.getOpen(A),t.getClose(A),t.getCentre(A),t.getSize(A)),w.minVar)});var _=Ou(c,f,t,r);return o&&(f.forEach(function(w){w.cOut=[],w.cIn=[]}),_.forEach(function(w){w.left.cOut.push(w),w.right.cIn.push(w)}),e.groups.forEach(function(w){var A=(w.padding-t.getSize(w.bounds))/2;w.minVar.cIn.forEach(function(S){return S.gap+=A}),w.minVar.cOut.forEach(function(S){S.left=w.maxVar,S.gap+=A})})),a.concat(_)}function Ou(e,t,r,n){var i,o=e.length,s=2*o;console.assert(t.length>=o);var a=new Array(s);for(i=0;i<o;++i){var u=e[i],f=new b4(t[i],u,r.getCentre(u));a[i]=new Ew(!0,f,r.getOpen(u)),a[i+o]=new Ew(!1,f,r.getClose(u))}a.sort(w4);var c=new Array,h=ku();for(i=0;i<s;++i){var l=a[i],f=l.v;if(l.isOpen)h.insert(f),r.findNeighbours(f,h);else{h.remove(f);var p=function(v,y){var x=(r.getSize(v.r)+r.getSize(y.r))/2+n;c.push(new at.Constraint(v.v,y.v,x))},m=function(v,y,x){for(var b,_=f[v].iterator();(b=_[v]())!==null;)x(b,f),b[y].remove(f)};m("prev","next",function(v,y){return p(v,y)}),m("next","prev",function(v,y){return p(y,v)})}}return console.assert(h.size===0),c}function E4(e,t){var r=function(n,i){for(var o=t.findIter(e),s;(s=o[n]())!==null;){var a=s.r.overlapX(e.r);if((a<=0||a<=s.r.overlapY(e.r))&&(e[n].insert(s),s[i].insert(e)),a<=0)break}};r("next","prev"),r("prev","next")}function q4(e,t){var r=function(n,i){var o=t.findIter(e)[n]();o!==null&&o.r.overlapX(e.r)>0&&(e[n].insert(o),o[i].insert(e))};r("next","prev"),r("prev","next")}function Cw(e,t){return Ou(e,t,qw,1e-6)}pe.generateXConstraints=Cw;function Aw(e,t){return Ou(e,t,Mw,1e-6)}pe.generateYConstraints=Aw;function Sw(e){return Nu(e,qw,1e-6)}pe.generateXGroupConstraints=Sw;function Tw(e){return Nu(e,Mw,1e-6)}pe.generateYGroupConstraints=Tw;function M4(e){var t=e.map(function(i){return new at.Variable(i.cx())}),r=Cw(e,t),n=new at.Solver(t,r);n.solve(),t.forEach(function(i,o){return e[o].setXCentre(i.position())}),t=e.map(function(i){return new at.Variable(i.cy())}),r=Aw(e,t),n=new at.Solver(t,r),n.solve(),t.forEach(function(i,o){return e[o].setYCentre(i.position())})}pe.removeOverlaps=M4;var Eo=function(e){v4(t,e);function t(r,n){var i=e.call(this,0,n)||this;return i.index=r,i}return t}(at.Variable);pe.IndexedVariable=Eo;var C4=function(){function e(t,r,n,i,o){var s=this;if(n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=!1),this.nodes=t,this.groups=r,this.rootGroup=n,this.avoidOverlaps=o,this.variables=t.map(function(u,f){return u.variable=new Eo(f,1)}),i&&this.createConstraints(i),o&&n&&typeof n.groups<"u"){t.forEach(function(u){if(!u.width||!u.height){u.bounds=new Tt(u.x,u.x,u.y,u.y);return}var f=u.width/2,c=u.height/2;u.bounds=new Tt(u.x-f,u.x+f,u.y-c,u.y+c)}),$n(n);var a=t.length;r.forEach(function(u){s.variables[a]=u.minVar=new Eo(a++,typeof u.stiffness<"u"?u.stiffness:.01),s.variables[a]=u.maxVar=new Eo(a++,typeof u.stiffness<"u"?u.stiffness:.01)})}}return e.prototype.createSeparation=function(t){return new at.Constraint(this.nodes[t.left].variable,this.nodes[t.right].variable,t.gap,typeof t.equality<"u"?t.equality:!1)},e.prototype.makeFeasible=function(t){var r=this;if(this.avoidOverlaps){var n="x",i="width";t.axis==="x"&&(n="y",i="height");var o=t.offsets.map(function(a){return r.nodes[a.node]}).sort(function(a,u){return a[n]-u[n]}),s=null;o.forEach(function(a){if(s){var u=s[n]+s[i];u>a[n]&&(a[n]=u)}s=a})}},e.prototype.createAlignment=function(t){var r=this,n=this.nodes[t.offsets[0].node].variable;this.makeFeasible(t);var i=t.axis==="x"?this.xConstraints:this.yConstraints;t.offsets.slice(1).forEach(function(o){var s=r.nodes[o.node].variable;i.push(new at.Constraint(n,s,o.offset,!0))})},e.prototype.createConstraints=function(t){var r=this,n=function(i){return typeof i.type>"u"||i.type==="separation"};this.xConstraints=t.filter(function(i){return i.axis==="x"&&n(i)}).map(function(i){return r.createSeparation(i)}),this.yConstraints=t.filter(function(i){return i.axis==="y"&&n(i)}).map(function(i){return r.createSeparation(i)}),t.filter(function(i){return i.type==="alignment"}).forEach(function(i){return r.createAlignment(i)})},e.prototype.setupVariablesAndBounds=function(t,r,n,i){this.nodes.forEach(function(o,s){o.fixed?(o.variable.weight=o.fixedWeight?o.fixedWeight:1e3,n[s]=i(o)):o.variable.weight=1;var a=(o.width||0)/2,u=(o.height||0)/2,f=t[s],c=r[s];o.bounds=new Tt(f-a,f+a,c-u,c+u)})},e.prototype.xProject=function(t,r,n){!this.rootGroup&&!(this.avoidOverlaps||this.xConstraints)||this.project(t,r,t,n,function(i){return i.px},this.xConstraints,Sw,function(i){return i.bounds.setXCentre(n[i.variable.index]=i.variable.position())},function(i){var o=n[i.minVar.index]=i.minVar.position(),s=n[i.maxVar.index]=i.maxVar.position(),a=i.padding/2;i.bounds.x=o-a,i.bounds.X=s+a})},e.prototype.yProject=function(t,r,n){!this.rootGroup&&!this.yConstraints||this.project(t,r,r,n,function(i){return i.py},this.yConstraints,Tw,function(i){return i.bounds.setYCentre(n[i.variable.index]=i.variable.position())},function(i){var o=n[i.minVar.index]=i.minVar.position(),s=n[i.maxVar.index]=i.maxVar.position(),a=i.padding/2;i.bounds.y=o-a,i.bounds.Y=s+a})},e.prototype.projectFunctions=function(){var t=this;return[function(r,n,i){return t.xProject(r,n,i)},function(r,n,i){return t.yProject(r,n,i)}]},e.prototype.project=function(t,r,n,i,o,s,a,u,f){this.setupVariablesAndBounds(t,r,i,o),this.rootGroup&&this.avoidOverlaps&&($n(this.rootGroup),s=s.concat(a(this.rootGroup))),this.solve(this.variables,s,n,i),this.nodes.forEach(u),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(f),$n(this.rootGroup))},e.prototype.solve=function(t,r,n,i){var o=new at.Solver(t,r);o.setStartingPositions(n),o.setDesiredPositions(i),o.solve()},e}();pe.Projection=C4});var Iu=d(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});var kw=function(){function e(t){this.elem=t,this.subheaps=[]}return e.prototype.toString=function(t){for(var r="",n=!1,i=0;i<this.subheaps.length;++i){var o=this.subheaps[i];if(!o.elem){n=!1;continue}n&&(r=r+","),r=r+o.toString(t),n=!0}return r!==""&&(r="("+r+")"),(this.elem?t(this.elem):"")+r},e.prototype.forEach=function(t){this.empty()||(t(this.elem,this),this.subheaps.forEach(function(r){return r.forEach(t)}))},e.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(t,r){return t+r.count()},0)},e.prototype.min=function(){return this.elem},e.prototype.empty=function(){return this.elem==null},e.prototype.contains=function(t){if(this===t)return!0;for(var r=0;r<this.subheaps.length;r++)if(this.subheaps[r].contains(t))return!0;return!1},e.prototype.isHeap=function(t){var r=this;return this.subheaps.every(function(n){return t(r.elem,n.elem)&&n.isHeap(t)})},e.prototype.insert=function(t,r){return this.merge(new e(t),r)},e.prototype.merge=function(t,r){return this.empty()?t:t.empty()?this:r(this.elem,t.elem)?(this.subheaps.push(t),this):(t.subheaps.push(this),t)},e.prototype.removeMin=function(t){return this.empty()?null:this.mergePairs(t)},e.prototype.mergePairs=function(t){if(this.subheaps.length==0)return new e(null);if(this.subheaps.length==1)return this.subheaps[0];var r=this.subheaps.pop().merge(this.subheaps.pop(),t),n=this.mergePairs(t);return r.merge(n,t)},e.prototype.decreaseKey=function(t,r,n,i){var o=t.removeMin(i);t.elem=o.elem,t.subheaps=o.subheaps,n!==null&&o.elem!==null&&n(t.elem,t);var s=new e(r);return n!==null&&n(r,s),this.merge(s,i)},e}();qo.PairingHeap=kw;var A4=function(){function e(t){this.lessThan=t}return e.prototype.top=function(){return this.empty()?null:this.root.elem},e.prototype.push=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n,i=0,o;o=t[i];++i)n=new kw(o),this.root=this.empty()?n:this.root.merge(n,this.lessThan);return n},e.prototype.empty=function(){return!this.root||!this.root.elem},e.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},e.prototype.forEach=function(t){this.root.forEach(t)},e.prototype.pop=function(){if(this.empty())return null;var t=this.root.min();return this.root=this.root.removeMin(this.lessThan),t},e.prototype.reduceKey=function(t,r,n){n===void 0&&(n=null),this.root=this.root.decreaseKey(t,r,n,this.lessThan)},e.prototype.toString=function(t){return this.root.toString(t)},e.prototype.count=function(){return this.root.count()},e}();qo.PriorityQueue=A4});var Bn=d(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});var Nw=Iu(),Ow=function(){function e(t,r){this.id=t,this.distance=r}return e}(),S4=function(){function e(t){this.id=t,this.neighbours=[]}return e}(),Iw=function(){function e(t,r,n){this.node=t,this.prev=r,this.d=n}return e}(),T4=function(){function e(t,r,n,i,o){this.n=t,this.es=r,this.neighbours=new Array(this.n);for(var s=this.n;s--;)this.neighbours[s]=new S4(s);for(s=this.es.length;s--;){var a=this.es[s],u=n(a),f=i(a),c=o(a);this.neighbours[u].neighbours.push(new Ow(f,c)),this.neighbours[f].neighbours.push(new Ow(u,c))}}return e.prototype.DistanceMatrix=function(){for(var t=new Array(this.n),r=0;r<this.n;++r)t[r]=this.dijkstraNeighbours(r);return t},e.prototype.DistancesFromNode=function(t){return this.dijkstraNeighbours(t)},e.prototype.PathFromNodeToNode=function(t,r){return this.dijkstraNeighbours(t,r)},e.prototype.PathFromNodeToNodeWithPrevCost=function(t,r,n){var i=new Nw.PriorityQueue(function(g,v){return g.d<=v.d}),o=this.neighbours[t],s=new Iw(o,null,0),a={};for(i.push(s);!i.empty()&&(s=i.pop(),o=s.node,o.id!==r);)for(var u=o.neighbours.length;u--;){var f=o.neighbours[u],c=this.neighbours[f.id];if(!(s.prev&&c.id===s.prev.node.id)){var h=c.id+","+o.id;if(!(h in a&&a[h]<=s.d)){var l=s.prev?n(s.prev.node.id,o.id,c.id):0,p=s.d+f.distance+l;a[h]=p,i.push(new Iw(c,s,p))}}}for(var m=[];s.prev;)s=s.prev,m.push(s.node.id);return m},e.prototype.dijkstraNeighbours=function(t,r){r===void 0&&(r=-1);for(var n=new Nw.PriorityQueue(function(l,p){return l.d<=p.d}),i=this.neighbours.length,o=new Array(i);i--;){var s=this.neighbours[i];s.d=i===t?0:Number.POSITIVE_INFINITY,s.q=n.push(s)}for(;!n.empty();){var a=n.pop();if(o[a.id]=a.d,a.id===r){for(var u=[],f=a;typeof f.prev<"u";)u.push(f.prev.id),f=f.prev;return u}for(i=a.neighbours.length;i--;){var c=a.neighbours[i],f=this.neighbours[c.id],h=a.d+c.distance;a.d!==Number.MAX_VALUE&&f.d>h&&(f.d=h,f.prev=a,n.reduceKey(f.q,f,function(p,m){return p.q=m}))}}return o},e}();Pu.Calculator=T4});var Fu=d(X=>{"use strict";var Lw=X&&X.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(X,"__esModule",{value:!0});var k4=Or(),Du=function(){function e(){}return e}();X.Point=Du;var Gu=function(){function e(t,r,n,i){this.x1=t,this.y1=r,this.x2=n,this.y2=i}return e}();X.LineSegment=Gu;var N4=function(e){Lw(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Du);X.PolyPoint=N4;function _e(e,t,r){return(t.x-e.x)*(r.y-e.y)-(r.x-e.x)*(t.y-e.y)}X.isLeft=_e;function Fe(e,t,r){return _e(e,t,r)>0}function Se(e,t,r){return _e(e,t,r)<0}function O4(e){var t=e.slice(0).sort(function(l,p){return l.x!==p.x?p.x-l.x:p.y-l.y}),r=e.length,n,i=0,o=t[0].x;for(n=1;n<r&&t[n].x===o;++n);var s=n-1,a=[];if(a.push(t[i]),s===r-1)t[s].y!==t[i].y&&a.push(t[s]);else{var u,f=r-1,c=t[r-1].x;for(n=r-2;n>=0&&t[n].x===c;n--);for(u=n+1,n=s;++n<=u;)if(!(_e(t[i],t[u],t[n])>=0&&n<u)){for(;a.length>1&&!(_e(a[a.length-2],a[a.length-1],t[n])>0);)a.length-=1;n!=i&&a.push(t[n])}f!=u&&a.push(t[f]);var h=a.length;for(n=u;--n>=s;)if(!(_e(t[f],t[s],t[n])>=0&&n>s)){for(;a.length>h&&!(_e(a[a.length-2],a[a.length-1],t[n])>0);)a.length-=1;n!=i&&a.push(t[n])}}return a}X.ConvexHull=O4;function I4(e,t,r){t.slice(0).sort(function(n,i){return Math.atan2(n.y-e.y,n.x-e.x)-Math.atan2(i.y-e.y,i.x-e.x)}).forEach(r)}X.clockwiseRadialSweep=I4;function P4(e,t){var r=t.slice(0);return r.push(t[0]),{rtan:Co(e,r),ltan:Ao(e,r)}}function Co(e,t){var r=t.length-1,n,i,o,s,a;if(Se(e,t[1],t[0])&&!Fe(e,t[r-1],t[0]))return 0;for(n=0,i=r;;){if(i-n===1)return Fe(e,t[n],t[i])?n:i;if(o=Math.floor((n+i)/2),a=Se(e,t[o+1],t[o]),a&&!Fe(e,t[o-1],t[o]))return o;s=Fe(e,t[n+1],t[n]),s?a||Fe(e,t[n],t[o])?i=o:n=o:a&&Se(e,t[n],t[o])?i=o:n=o}}function Ao(e,t){var r=t.length-1,n,i,o,s,a;if(Fe(e,t[r-1],t[0])&&!Se(e,t[1],t[0]))return 0;for(n=0,i=r;;){if(i-n===1)return Se(e,t[n],t[i])?n:i;if(o=Math.floor((n+i)/2),a=Se(e,t[o+1],t[o]),Fe(e,t[o-1],t[o])&&!a)return o;s=Se(e,t[n+1],t[n]),s?a?Se(e,t[n],t[o])?i=o:n=o:i=o:a?n=o:Fe(e,t[n],t[o])?i=o:n=o}}function So(e,t,r,n,i,o){var s,a;s=r(t[0],e),a=n(e[s],t);for(var u=!1;!u;){for(u=!0;s===e.length-1&&(s=0),!i(t[a],e[s],e[s+1]);)++s;for(;a===0&&(a=t.length-1),!o(e[s],t[a],t[a-1]);)--a,u=!1}return{t1:s,t2:a}}X.tangent_PolyPolyC=So;function L4(e,t){var r=Dw(t,e);return{t1:r.t2,t2:r.t1}}X.LRtangent_PolyPolyC=L4;function Dw(e,t){return So(e,t,Co,Ao,Fe,Se)}X.RLtangent_PolyPolyC=Dw;function D4(e,t){return So(e,t,Ao,Ao,Se,Se)}X.LLtangent_PolyPolyC=D4;function G4(e,t){return So(e,t,Co,Co,Fe,Fe)}X.RRtangent_PolyPolyC=G4;var zn=function(){function e(t,r){this.t1=t,this.t2=r}return e}();X.BiTangent=zn;var Gw=function(){function e(){}return e}();X.BiTangents=Gw;var F4=function(e){Lw(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(Du);X.TVGPoint=F4;var Lu=function(){function e(t,r,n,i){this.id=t,this.polyid=r,this.polyvertid=n,this.p=i,i.vv=this}return e}();X.VisibilityVertex=Lu;var Mo=function(){function e(t,r){this.source=t,this.target=r}return e.prototype.length=function(){var t=this.source.p.x-this.target.p.x,r=this.source.p.y-this.target.p.y;return Math.sqrt(t*t+r*r)},e}();X.VisibilityEdge=Mo;var R4=function(){function e(t,r){if(this.P=t,this.V=[],this.E=[],r)this.V=r.V.slice(0),this.E=r.E.slice(0);else{for(var n=t.length,i=0;i<n;i++){for(var o=t[i],s=0;s<o.length;++s){var a=o[s],u=new Lu(this.V.length,i,s,a);this.V.push(u),s>0&&this.E.push(new Mo(o[s-1].vv,u))}o.length>1&&this.E.push(new Mo(o[0].vv,o[o.length-1].vv))}for(var i=0;i<n-1;i++)for(var f=t[i],s=i+1;s<n;s++){var c=t[s],h=Rw(f,c);for(var l in h){var p=h[l],m=f[p.t1],g=c[p.t2];this.addEdgeIfVisible(m,g,i,s)}}}}return e.prototype.addEdgeIfVisible=function(t,r,n,i){this.intersectsPolys(new Gu(t.x,t.y,r.x,r.y),n,i)||this.E.push(new Mo(t.vv,r.vv))},e.prototype.addPoint=function(t,r){var n=this.P.length;this.V.push(new Lu(this.V.length,n,0,t));for(var i=0;i<n;++i)if(i!==r){var o=this.P[i],s=P4(t,o);this.addEdgeIfVisible(t,o[s.ltan],r,i),this.addEdgeIfVisible(t,o[s.rtan],r,i)}return t.vv},e.prototype.intersectsPolys=function(t,r,n){for(var i=0,o=this.P.length;i<o;++i)if(i!=r&&i!=n&&Fw(t,this.P[i]).length>0)return!0;return!1},e}();X.TangentVisibilityGraph=R4;function Fw(e,t){for(var r=[],n=1,i=t.length;n<i;++n){var o=k4.Rectangle.lineIntersection(e.x1,e.y1,e.x2,e.y2,t[n-1].x,t[n-1].y,t[n].x,t[n].y);o&&r.push(o)}return r}function Rw(e,t){for(var r=e.length-1,n=t.length-1,i=new Gw,o=0;o<r;++o)for(var s=0;s<n;++s){var a=e[o==0?r-1:o-1],u=e[o],f=e[o+1],c=t[s==0?n-1:s-1],h=t[s],l=t[s+1],p=_e(a,u,h),m=_e(u,c,h),g=_e(u,h,l),v=_e(c,h,u),y=_e(h,a,u),x=_e(h,u,f);p>=0&&m>=0&&g<0&&v>=0&&y>=0&&x<0?i.ll=new zn(o,s):p<=0&&m<=0&&g>0&&v<=0&&y<=0&&x>0?i.rr=new zn(o,s):p<=0&&m>0&&g<=0&&v>=0&&y<0&&x>=0?i.rl=new zn(o,s):p>=0&&m<0&&g>=0&&v<=0&&y>0&&x<=0&&(i.lr=new zn(o,s))}return i}X.tangents=Rw;function $4(e,t){for(var r=1,n=t.length;r<n;++r)if(Se(t[r-1],t[r],e))return!1;return!0}function Pw(e,t){return!e.every(function(r){return!$4(r,t)})}function B4(e,t){if(Pw(e,t)||Pw(t,e))return!0;for(var r=1,n=e.length;r<n;++r){var i=e[r],o=e[r-1];if(Fw(new Gu(o.x,o.y,i.x,i.y),t).length>0)return!0}return!1}X.polysOverlap=B4});var Ru=d(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});var Te={PADDING:10,GOLDEN_SECTION:(1+Math.sqrt(5))/2,FLOAT_EPSILON:1e-4,MAX_INERATIONS:100};function z4(e,t,r,h,c,o){c===void 0&&(c=1),o===void 0&&(o=!0);var s=0,a=0,u=t,f=r,c=typeof c<"u"?c:1,h=typeof h<"u"?h:0,l=0,p=0,m=0,g=0,v=[];if(e.length==0)return;y(e),b(e,c),o&&x(e);function y(M){M.forEach(function(q){k(q)});function k(q){var E=Number.MAX_VALUE,T=Number.MAX_VALUE,C=0,N=0;q.array.forEach(function($){var B=typeof $.width<"u"?$.width:h,W=typeof $.height<"u"?$.height:h;B/=2,W/=2,C=Math.max($.x+B,C),E=Math.min($.x-B,E),N=Math.max($.y+W,N),T=Math.min($.y-W,T)}),q.width=C-E,q.height=N-T}}function x(M){M.forEach(function(k){var q={x:0,y:0};k.array.forEach(function(C){q.x+=C.x,q.y+=C.y}),q.x/=k.array.length,q.y/=k.array.length;var E={x:q.x-k.width/2,y:q.y-k.height/2},T={x:k.x-E.x+u/2-l/2,y:k.y-E.y+f/2-p/2};k.array.forEach(function(C){C.x+=T.x,C.y+=T.y})})}function b(M,k){var q=Number.POSITIVE_INFINITY,E=0;M.sort(function(Xe,ft){return ft.height-Xe.height}),m=M.reduce(function(Xe,ft){return Xe.width<ft.width?Xe.width:ft.width});for(var T=Ee=m,C=qe=A(M),N=0,$=Number.MAX_VALUE,B=Number.MAX_VALUE,W=-1,de=Number.MAX_VALUE,ne=Number.MAX_VALUE;de>m||ne>Te.FLOAT_EPSILON;){if(W!=1)var Ee=C-(C-T)/Te.GOLDEN_SECTION,$=_(M,Ee);if(W!=0)var qe=T+(C-T)/Te.GOLDEN_SECTION,B=_(M,qe);if(de=Math.abs(Ee-qe),ne=Math.abs($-B),$<q&&(q=$,E=Ee),B<q&&(q=B,E=qe),$>B?(T=Ee,Ee=qe,$=B,W=1):(C=qe,qe=Ee,B=$,W=0),N++>100)break}_(M,E)}function _(M,k){v=[],l=0,p=0,g=a;for(var q=0;q<M.length;q++){var E=M[q];w(E,k)}return Math.abs(S()-c)}function w(M,k){for(var q=void 0,E=0;E<v.length;E++)if(v[E].space_left>=M.height&&v[E].x+v[E].width+M.width+Te.PADDING-k<=Te.FLOAT_EPSILON){q=v[E];break}v.push(M),q!==void 0?(M.x=q.x+q.width+Te.PADDING,M.y=q.bottom,M.space_left=M.height,M.bottom=M.y,q.space_left-=M.height+Te.PADDING,q.bottom+=M.height+Te.PADDING):(M.y=g,g+=M.height+Te.PADDING,M.x=s,M.bottom=M.y,M.space_left=M.height),M.y+M.height-p>-Te.FLOAT_EPSILON&&(p=M.y+M.height-a),M.x+M.width-l>-Te.FLOAT_EPSILON&&(l=M.x+M.width-s)}function A(M){var k=0;return M.forEach(function(q){return k+=q.width+Te.PADDING}),k}function S(){return l/p}}To.applyPacking=z4;function V4(e,t){for(var r={},n={},i=[],o=0,s=0;s<t.length;s++){var a=t[s],u=a.source,f=a.target;n[u.index]?n[u.index].push(f):n[u.index]=[f],n[f.index]?n[f.index].push(u):n[f.index]=[u]}for(var s=0;s<e.length;s++){var c=e[s];r[c.index]||h(c,!0)}function h(l,p){if(r[l.index]===void 0){p&&(o++,i.push({array:[]})),r[l.index]=o,i[o-1].array.push(l);var m=n[l.index];if(m)for(var g=0;g<m.length;g++)h(m[g],!1)}}return i}To.separateGraphs=V4});var Ir=d(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});var j4=Mu(),$u=vo(),ko=yo(),No=Or(),$w=Bn(),Bw=Fu(),zw=Ru(),Vn;(function(e){e[e.start=0]="start",e[e.tick=1]="tick",e[e.end=2]="end"})(Vn=jn.EventType||(jn.EventType={}));function Oo(e){return typeof e.leaves<"u"||typeof e.groups<"u"}var H4=function(){function e(){var t=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:e.getSourceIndex,getTargetIndex:e.getTargetIndex,setLength:e.setLinkLength,getType:function(r){return typeof t._linkType=="function"?t._linkType(r):0}}}return e.prototype.on=function(t,r){return this.event||(this.event={}),typeof t=="string"?this.event[Vn[t]]=r:this.event[t]=r,this},e.prototype.trigger=function(t){this.event&&typeof this.event[t.type]<"u"&&this.event[t.type](t)},e.prototype.kick=function(){for(;!this.tick(););},e.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:Vn.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var t=this._nodes.length,r=this._links.length,n,i;for(this._descent.locks.clear(),i=0;i<t;++i)if(n=this._nodes[i],n.fixed){(typeof n.px>"u"||typeof n.py>"u")&&(n.px=n.x,n.py=n.y);var o=[n.px,n.py];this._descent.locks.add(i,o)}var s=this._descent.rungeKutta();return s===0?this._alpha=0:typeof this._lastStress<"u"&&(this._alpha=s),this._lastStress=s,this.updateNodePositions(),this.trigger({type:Vn.tick,alpha:this._alpha,stress:this._lastStress}),!1},e.prototype.updateNodePositions=function(){for(var t=this._descent.x[0],r=this._descent.x[1],n,i=this._nodes.length;i--;)n=this._nodes[i],n.x=t[i],n.y=r[i]},e.prototype.nodes=function(t){if(!t){if(this._nodes.length===0&&this._links.length>0){var r=0;this._links.forEach(function(i){r=Math.max(r,i.source,i.target)}),this._nodes=new Array(++r);for(var n=0;n<r;++n)this._nodes[n]={}}return this._nodes}return this._nodes=t,this},e.prototype.groups=function(t){var r=this;return t?(this._groups=t,this._rootGroup={},this._groups.forEach(function(n){typeof n.padding>"u"&&(n.padding=1),typeof n.leaves<"u"&&n.leaves.forEach(function(i,o){typeof i=="number"&&((n.leaves[o]=r._nodes[i]).parent=n)}),typeof n.groups<"u"&&n.groups.forEach(function(i,o){typeof i=="number"&&((n.groups[o]=r._groups[i]).parent=n)})}),this._rootGroup.leaves=this._nodes.filter(function(n){return typeof n.parent>"u"}),this._rootGroup.groups=this._groups.filter(function(n){return typeof n.parent>"u"}),this):this._groups},e.prototype.powerGraphGroups=function(t){var r=j4.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(r.groups),t(r),this},e.prototype.avoidOverlaps=function(t){return arguments.length?(this._avoidOverlaps=t,this):this._avoidOverlaps},e.prototype.handleDisconnected=function(t){return arguments.length?(this._handleDisconnected=t,this):this._handleDisconnected},e.prototype.flowLayout=function(t,r){return arguments.length||(t="y"),this._directedLinkConstraints={axis:t,getMinSeparation:typeof r=="number"?function(){return r}:r},this},e.prototype.links=function(t){return arguments.length?(this._links=t,this):this._links},e.prototype.constraints=function(t){return arguments.length?(this._constraints=t,this):this._constraints},e.prototype.distanceMatrix=function(t){return arguments.length?(this._distanceMatrix=t,this):this._distanceMatrix},e.prototype.size=function(t){return t?(this._canvasSize=t,this):this._canvasSize},e.prototype.defaultNodeSize=function(t){return t?(this._defaultNodeSize=t,this):this._defaultNodeSize},e.prototype.groupCompactness=function(t){return t?(this._groupCompactness=t,this):this._groupCompactness},e.prototype.linkDistance=function(t){return t?(this._linkDistance=typeof t=="function"?t:+t,this._linkLengthCalculator=null,this):this._linkDistance},e.prototype.linkType=function(t){return this._linkType=t,this},e.prototype.convergenceThreshold=function(t){return t?(this._threshold=typeof t=="function"?t:+t,this):this._threshold},e.prototype.alpha=function(t){return arguments.length?(t=+t,this._alpha?t>0?this._alpha=t:this._alpha=0:t>0&&(this._running||(this._running=!0,this.trigger({type:Vn.start,alpha:this._alpha=t}),this.kick())),this):this._alpha},e.prototype.getLinkLength=function(t){return typeof this._linkDistance=="function"?+this._linkDistance(t):this._linkDistance},e.setLinkLength=function(t,r){t.length=r},e.prototype.getLinkType=function(t){return typeof this._linkType=="function"?this._linkType(t):0},e.prototype.symmetricDiffLinkLengths=function(t,r){var n=this;return r===void 0&&(r=1),this.linkDistance(function(i){return t*i.length}),this._linkLengthCalculator=function(){return $u.symmetricDiffLinkLengths(n._links,n.linkAccessor,r)},this},e.prototype.jaccardLinkLengths=function(t,r){var n=this;return r===void 0&&(r=1),this.linkDistance(function(i){return t*i.length}),this._linkLengthCalculator=function(){return $u.jaccardLinkLengths(n._links,n.linkAccessor,r)},this},e.prototype.start=function(t,r,n,i,o,s){var a=this;t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),o===void 0&&(o=!0),s===void 0&&(s=!0);var u,f,c=this.nodes().length,h=c+2*this._groups.length,l=this._links.length,p=this._canvasSize[0],m=this._canvasSize[1],g=new Array(h),v=new Array(h),y=null,x=this._avoidOverlaps;this._nodes.forEach(function(q,E){q.index=E,typeof q.x>"u"&&(q.x=p/2,q.y=m/2),g[E]=q.x,v[E]=q.y}),this._linkLengthCalculator&&this._linkLengthCalculator();var b;this._distanceMatrix?b=this._distanceMatrix:(b=new $w.Calculator(h,this._links,e.getSourceIndex,e.getTargetIndex,function(q){return a.getLinkLength(q)}).DistanceMatrix(),y=ko.Descent.createSquareMatrix(h,function(){return 2}),this._links.forEach(function(q){typeof q.source=="number"&&(q.source=a._nodes[q.source]),typeof q.target=="number"&&(q.target=a._nodes[q.target])}),this._links.forEach(function(q){var E=e.getSourceIndex(q),T=e.getTargetIndex(q);y[E][T]=y[T][E]=q.weight||1}));var _=ko.Descent.createSquareMatrix(h,function(q,E){return b[q][E]});if(this._rootGroup&&typeof this._rootGroup.groups<"u"){var u=c,w=function(E,T,C,N){y[E][T]=y[T][E]=C,_[E][T]=_[T][E]=N};this._groups.forEach(function(E){w(u,u+1,a._groupCompactness,.1),g[u]=0,v[u++]=0,g[u]=0,v[u++]=0})}else this._rootGroup={leaves:this._nodes,groups:[]};var A=this._constraints||[];this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,A=A.concat($u.generateDirectedEdgeConstraints(c,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new ko.Descent([g,v],_),this._descent.locks.clear();for(var u=0;u<c;++u){var S=this._nodes[u];if(S.fixed){S.px=S.x,S.py=S.y;var M=[S.x,S.y];this._descent.locks.add(u,M)}}if(this._descent.threshold=this._threshold,this.initialLayout(t,g,v),A.length>0&&(this._descent.project=new No.Projection(this._nodes,this._groups,this._rootGroup,A).projectFunctions()),this._descent.run(r),this.separateOverlappingComponents(p,m,s),this.avoidOverlaps(x),x&&(this._nodes.forEach(function(q,E){q.x=g[E],q.y=v[E]}),this._descent.project=new No.Projection(this._nodes,this._groups,this._rootGroup,A,!0).projectFunctions(),this._nodes.forEach(function(q,E){g[E]=q.x,v[E]=q.y})),this._descent.G=y,this._descent.run(n),i){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=c,this._descent.scaleSnapByMaxH=c!=h;var k=ko.Descent.createSquareMatrix(h,function(q,E){return q>=c||E>=c?y[q][E]:0});this._descent.G=k,this._descent.run(i)}return this.updateNodePositions(),this.separateOverlappingComponents(p,m,s),o?this.resume():this},e.prototype.initialLayout=function(t,r,n){if(this._groups.length>0&&t>0){var i=this._nodes.length,o=this._links.map(function(a){return{source:a.source.index,target:a.target.index}}),s=this._nodes.map(function(a){return{index:a.index}});this._groups.forEach(function(a,u){s.push({index:a.index=i+u})}),this._groups.forEach(function(a,u){typeof a.leaves<"u"&&a.leaves.forEach(function(f){return o.push({source:a.index,target:f.index})}),typeof a.groups<"u"&&a.groups.forEach(function(f){return o.push({source:a.index,target:f.index})})}),new e().size(this.size()).nodes(s).links(o).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(t,0,0,0,!1),this._nodes.forEach(function(a){r[a.index]=s[a.index].x,n[a.index]=s[a.index].y})}else this._descent.run(t)},e.prototype.separateOverlappingComponents=function(t,r,n){var i=this;if(n===void 0&&(n=!0),!this._distanceMatrix&&this._handleDisconnected){var o=this._descent.x[0],s=this._descent.x[1];this._nodes.forEach(function(u,f){u.x=o[f],u.y=s[f]});var a=zw.separateGraphs(this._nodes,this._links);zw.applyPacking(a,t,r,this._defaultNodeSize,1,n),this._nodes.forEach(function(u,f){i._descent.x[0][f]=u.x,i._descent.x[1][f]=u.y,u.bounds&&(u.bounds.setXCentre(u.x),u.bounds.setYCentre(u.y))})}},e.prototype.resume=function(){return this.alpha(.1)},e.prototype.stop=function(){return this.alpha(0)},e.prototype.prepareEdgeRouting=function(t){t===void 0&&(t=0),this._visibilityGraph=new Bw.TangentVisibilityGraph(this._nodes.map(function(r){return r.bounds.inflate(-t).vertices()}))},e.prototype.routeEdge=function(t,r,n){r===void 0&&(r=5);var i=[],o=new Bw.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),s={x:t.source.x,y:t.source.y},a={x:t.target.x,y:t.target.y},u=o.addPoint(s,t.source.index),f=o.addPoint(a,t.target.index);o.addEdgeIfVisible(s,a,t.source.index,t.target.index),typeof n<"u"&&n(o);var c=function(_){return _.source.id},h=function(_){return _.target.id},l=function(_){return _.length()},p=new $w.Calculator(o.V.length,o.E,c,h,l),m=p.PathFromNodeToNode(u.id,f.id);if(m.length===1||m.length===o.V.length){var g=No.makeEdgeBetween(t.source.innerBounds,t.target.innerBounds,r);i=[g.sourceIntersection,g.arrowStart]}else{for(var v=m.length-2,y=o.V[m[v]].p,x=o.V[m[0]].p,i=[t.source.innerBounds.rayIntersection(y.x,y.y)],b=v;b>=0;--b)i.push(o.V[m[b]].p);i.push(No.makeEdgeTo(x,t.target.innerBounds,r))}return i},e.getSourceIndex=function(t){return typeof t.source=="number"?t.source:t.source.index},e.getTargetIndex=function(t){return typeof t.target=="number"?t.target:t.target.index},e.linkId=function(t){return e.getSourceIndex(t)+"-"+e.getTargetIndex(t)},e.dragStart=function(t){Oo(t)?e.storeOffset(t,e.dragOrigin(t)):(e.stopNode(t),t.fixed|=2)},e.stopNode=function(t){t.px=t.x,t.py=t.y},e.storeOffset=function(t,r){typeof t.leaves<"u"&&t.leaves.forEach(function(n){n.fixed|=2,e.stopNode(n),n._dragGroupOffsetX=n.x-r.x,n._dragGroupOffsetY=n.y-r.y}),typeof t.groups<"u"&&t.groups.forEach(function(n){return e.storeOffset(n,r)})},e.dragOrigin=function(t){return Oo(t)?{x:t.bounds.cx(),y:t.bounds.cy()}:t},e.drag=function(t,r){Oo(t)?(typeof t.leaves<"u"&&t.leaves.forEach(function(n){t.bounds.setXCentre(r.x),t.bounds.setYCentre(r.y),n.px=n._dragGroupOffsetX+r.x,n.py=n._dragGroupOffsetY+r.y}),typeof t.groups<"u"&&t.groups.forEach(function(n){return e.drag(n,r)})):(t.px=r.x,t.py=r.y)},e.dragEnd=function(t){Oo(t)?(typeof t.leaves<"u"&&t.leaves.forEach(function(r){e.dragEnd(r),delete r._dragGroupOffsetX,delete r._dragGroupOffsetY}),typeof t.groups<"u"&&t.groups.forEach(e.dragEnd)):t.fixed&=-7},e.mouseOver=function(t){t.fixed|=4,t.px=t.x,t.py=t.y},e.mouseOut=function(t){t.fixed&=-5},e}();jn.Layout=H4});var jw=d(Pr=>{"use strict";var U4=Pr&&Pr.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Pr,"__esModule",{value:!0});var Bu=Ir(),Vw=function(e){U4(t,e);function t(r){var n=e.call(this)||this,i=n,o=r;return o.trigger&&(n.trigger=o.trigger),o.kick&&(n.kick=o.kick),o.drag&&(n.drag=o.drag),o.on&&(n.on=o.on),n.dragstart=n.dragStart=Bu.Layout.dragStart,n.dragend=n.dragEnd=Bu.Layout.dragEnd,n}return t.prototype.trigger=function(r){},t.prototype.kick=function(){},t.prototype.drag=function(){},t.prototype.on=function(r,n){return this},t}(Bu.Layout);Pr.LayoutAdaptor=Vw;function Y4(e){return new Vw(e)}Pr.adaptor=Y4});var Uw=d(Lr=>{"use strict";var X4=Lr&&Lr.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Lr,"__esModule",{value:!0});var be=Ir(),Hw=function(e){X4(t,e);function t(){var r=e.call(this)||this;r.event=d3.dispatch(be.EventType[be.EventType.start],be.EventType[be.EventType.tick],be.EventType[be.EventType.end]);var n=r,i;return r.drag=function(){if(!o)var o=d3.behavior.drag().origin(be.Layout.dragOrigin).on("dragstart.d3adaptor",be.Layout.dragStart).on("drag.d3adaptor",function(s){be.Layout.drag(s,d3.event),n.resume()}).on("dragend.d3adaptor",be.Layout.dragEnd);if(!arguments.length)return o;this.call(o)},r}return t.prototype.trigger=function(r){var n={type:be.EventType[r.type],alpha:r.alpha,stress:r.stress};this.event[n.type](n)},t.prototype.kick=function(){var r=this;d3.timer(function(){return e.prototype.tick.call(r)})},t.prototype.on=function(r,n){return typeof r=="string"?this.event.on(r,n):this.event.on(be.EventType[r],n),this},t}(be.Layout);Lr.D3StyleLayoutAdaptor=Hw;function W4(){return new Hw}Lr.d3adaptor=W4});var Yw=d(Hn=>{"use strict";var K4=Hn&&Hn.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Hn,"__esModule",{value:!0});var we=Ir(),Z4=function(e){K4(t,e);function t(r){var n=e.call(this)||this;n.d3Context=r,n.event=r.dispatch(we.EventType[we.EventType.start],we.EventType[we.EventType.tick],we.EventType[we.EventType.end]);var i=n,o;return n.drag=function(){if(!s)var s=r.drag().subject(we.Layout.dragOrigin).on("start.d3adaptor",we.Layout.dragStart).on("drag.d3adaptor",function(a){we.Layout.drag(a,r.event),i.resume()}).on("end.d3adaptor",we.Layout.dragEnd);if(!arguments.length)return s;arguments[0].call(s)},n}return t.prototype.trigger=function(r){var n={type:we.EventType[r.type],alpha:r.alpha,stress:r.stress};this.event.call(n.type,n)},t.prototype.kick=function(){var r=this,n=this.d3Context.timer(function(){return e.prototype.tick.call(r)&&n.stop()})},t.prototype.on=function(r,n){return typeof r=="string"?this.event.on(r,n):this.event.on(we.EventType[r],n),this},t}(we.Layout);Hn.D3StyleLayoutAdaptor=Z4});var Xw=d(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});var Q4=Uw(),J4=Yw();function e5(e){return!e||t5(e)?new Q4.D3StyleLayoutAdaptor:new J4.D3StyleLayoutAdaptor(e)}zu.d3adaptor=e5;function t5(e){var t=/^3\./;return e.version&&e.version.match(t)!==null}});var Uu=d(Dr=>{"use strict";Object.defineProperty(Dr,"__esModule",{value:!0});var r5=Or(),Vu=bo(),n5=Bn(),Ww=function(){function e(t,r,n){this.id=t,this.rect=r,this.children=n,this.leaf=typeof n>"u"||n.length===0}return e}();Dr.NodeWrapper=Ww;var ju=function(){function e(t,r,n,i,o){i===void 0&&(i=null),o===void 0&&(o=null),this.id=t,this.x=r,this.y=n,this.node=i,this.line=o}return e}();Dr.Vert=ju;var Hu=function(){function e(t,r){this.s=t,this.t=r;var n=e.findMatch(t,r),i=r.slice(0).reverse(),o=e.findMatch(t,i);n.length>=o.length?(this.length=n.length,this.si=n.si,this.ti=n.ti,this.reversed=!1):(this.length=o.length,this.si=o.si,this.ti=r.length-o.ti-o.length,this.reversed=!0)}return e.findMatch=function(t,r){for(var n=t.length,i=r.length,o={length:0,si:-1,ti:-1},s=new Array(n),a=0;a<n;a++){s[a]=new Array(i);for(var u=0;u<i;u++)if(t[a]===r[u]){var f=s[a][u]=a===0||u===0?1:s[a-1][u-1]+1;f>o.length&&(o.length=f,o.si=a-f+1,o.ti=u-f+1)}else s[a][u]=0}return o},e.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},e}();Dr.LongestCommonSubsequence=Hu;var i5=function(){function e(t,r,n){var i=this;n===void 0&&(n=12),this.originalnodes=t,this.groupPadding=n,this.leaves=null,this.nodes=t.map(function(g,v){return new Ww(v,r.getBounds(g),r.getChildren(g))}),this.leaves=this.nodes.filter(function(g){return g.leaf}),this.groups=this.nodes.filter(function(g){return!g.leaf}),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach(function(g){return g.children.forEach(function(v){return i.nodes[v].parent=g})}),this.root={children:[]},this.nodes.forEach(function(g){typeof g.parent>"u"&&(g.parent=i.root,i.root.children.push(g.id)),g.ports=[]}),this.backToFront=this.nodes.slice(0),this.backToFront.sort(function(g,v){return i.getDepth(g)-i.getDepth(v)});var o=this.backToFront.slice(0).reverse().filter(function(g){return!g.leaf});o.forEach(function(g){var v=r5.Rectangle.empty();g.children.forEach(function(y){return v=v.union(i.nodes[y].rect)}),g.rect=v.inflate(i.groupPadding)});var s=this.midPoints(this.cols.map(function(g){return g.pos})),a=this.midPoints(this.rows.map(function(g){return g.pos})),u=s[0],f=s[s.length-1],c=a[0],h=a[a.length-1],l=this.rows.map(function(g){return{x1:u,x2:f,y1:g.pos,y2:g.pos}}).concat(a.map(function(g){return{x1:u,x2:f,y1:g,y2:g}})),p=this.cols.map(function(g){return{x1:g.pos,x2:g.pos,y1:c,y2:h}}).concat(s.map(function(g){return{x1:g,x2:g,y1:c,y2:h}})),m=l.concat(p);m.forEach(function(g){return g.verts=[]}),this.verts=[],this.edges=[],l.forEach(function(g){return p.forEach(function(v){var y=new ju(i.verts.length,v.x1,g.y1);g.verts.push(y),v.verts.push(y),i.verts.push(y);for(var x=i.backToFront.length;x-- >0;){var b=i.backToFront[x],_=b.rect,w=Math.abs(y.x-_.cx()),A=Math.abs(y.y-_.cy());if(w<_.width()/2&&A<_.height()/2){y.node=b;break}}})}),m.forEach(function(g,v){i.nodes.forEach(function(A,S){A.rect.lineIntersections(g.x1,g.y1,g.x2,g.y2).forEach(function(M,k){var q=new ju(i.verts.length,M.x,M.y,A,g);i.verts.push(q),g.verts.push(q),A.ports.push(q)})});var y=Math.abs(g.y1-g.y2)<.1,x=function(A,S){return y?S.x-A.x:S.y-A.y};g.verts.sort(x);for(var b=1;b<g.verts.length;b++){var _=g.verts[b-1],w=g.verts[b];_.node&&_.node===w.node&&_.node.leaf||i.edges.push({source:_.id,target:w.id,length:Math.abs(x(_,w))})}})}return e.prototype.avg=function(t){return t.reduce(function(r,n){return r+n})/t.length},e.prototype.getGridLines=function(t){for(var r=[],n=this.leaves.slice(0,this.leaves.length);n.length>0;){var i=n.filter(function(s){return s.rect["overlap"+t.toUpperCase()](n[0].rect)}),o={nodes:i,pos:this.avg(i.map(function(s){return s.rect["c"+t]()}))};r.push(o),o.nodes.forEach(function(s){return n.splice(n.indexOf(s),1)})}return r.sort(function(s,a){return s.pos-a.pos}),r},e.prototype.getDepth=function(t){for(var r=0;t.parent!==this.root;)r++,t=t.parent;return r},e.prototype.midPoints=function(t){for(var r=t[1]-t[0],n=[t[0]-r/2],i=1;i<t.length;i++)n.push((t[i]+t[i-1])/2);return n.push(t[t.length-1]+r/2),n},e.prototype.findLineage=function(t){var r=[t];do t=t.parent,r.push(t);while(t!==this.root);return r.reverse()},e.prototype.findAncestorPathBetween=function(t,r){for(var n=this.findLineage(t),i=this.findLineage(r),o=0;n[o]===i[o];)o++;return{commonAncestor:n[o-1],lineages:n.slice(o).concat(i.slice(o))}},e.prototype.siblingObstacles=function(t,r){var n=this,i=this.findAncestorPathBetween(t,r),o={};i.lineages.forEach(function(a){return o[a.id]={}});var s=i.commonAncestor.children.filter(function(a){return!(a in o)});return i.lineages.filter(function(a){return a.parent!==i.commonAncestor}).forEach(function(a){return s=s.concat(a.parent.children.filter(function(u){return u!==a.id}))}),s.map(function(a){return n.nodes[a]})},e.getSegmentSets=function(t,r,n){for(var i=[],o=0;o<t.length;o++)for(var s=t[o],a=0;a<s.length;a++){var u=s[a];u.edgeid=o,u.i=a;var f=u[1][r]-u[0][r];Math.abs(f)<.1&&i.push(u)}i.sort(function(p,m){return p[0][r]-m[0][r]});for(var c=[],h=null,l=0;l<i.length;l++){var u=i[l];(!h||Math.abs(u[0][r]-h.pos)>.1)&&(h={pos:u[0][r],segments:[]},c.push(h)),h.segments.push(u)}return c},e.nudgeSegs=function(t,r,n,i,o,s){var a=i.length;if(!(a<=1)){for(var u=i.map(function(b){return new Vu.Variable(b[0][t])}),f=[],c=0;c<a;c++)for(var h=0;h<a;h++)if(c!==h){var l=i[c],p=i[h],m=l.edgeid,g=p.edgeid,v=-1,y=-1;t=="x"?o(m,g)&&(l[0][r]<l[1][r]?(v=h,y=c):(v=c,y=h)):o(m,g)&&(l[0][r]<l[1][r]?(v=c,y=h):(v=h,y=c)),v>=0&&f.push(new Vu.Constraint(u[v],u[y],s))}var x=new Vu.Solver(u,f);x.solve(),u.forEach(function(b,_){var w=i[_],A=b.position();w[0][t]=w[1][t]=A;var S=n[w.edgeid];w.i>0&&(S[w.i-1][1][t]=A),w.i<S.length-1&&(S[w.i+1][0][t]=A)})}},e.nudgeSegments=function(t,r,n,i,o){for(var s=e.getSegmentSets(t,r,n),a=0;a<s.length;a++){for(var u=s[a],f=[],c=0;c<u.segments.length;c++){var h=u.segments[c];f.push({type:0,s:h,pos:Math.min(h[0][n],h[1][n])}),f.push({type:1,s:h,pos:Math.max(h[0][n],h[1][n])})}f.sort(function(m,g){return m.pos-g.pos+m.type-g.type});var l=[],p=0;f.forEach(function(m){m.type===0?(l.push(m.s),p++):p--,p==0&&(e.nudgeSegs(r,n,t,l,i,o),l=[])})}},e.prototype.routeEdges=function(t,r,n,i){var o=this,s=t.map(function(f){return o.route(n(f),i(f))}),a=e.orderEdges(s),u=s.map(function(f){return e.makeSegments(f)});return e.nudgeSegments(u,"x","y",a,r),e.nudgeSegments(u,"y","x",a,r),e.unreverseEdges(u,s),u},e.unreverseEdges=function(t,r){t.forEach(function(n,i){var o=r[i];o.reversed&&(n.reverse(),n.forEach(function(s){s.reverse()}))})},e.angleBetween2Lines=function(t,r){var n=Math.atan2(t[0].y-t[1].y,t[0].x-t[1].x),i=Math.atan2(r[0].y-r[1].y,r[0].x-r[1].x),o=n-i;return(o>Math.PI||o<-Math.PI)&&(o=i-n),o},e.isLeft=function(t,r,n){return(r.x-t.x)*(n.y-t.y)-(r.y-t.y)*(n.x-t.x)<=0},e.getOrder=function(t){for(var r={},n=0;n<t.length;n++){var i=t[n];typeof r[i.l]>"u"&&(r[i.l]={}),r[i.l][i.r]=!0}return function(o,s){return typeof r[o]<"u"&&r[o][s]}},e.orderEdges=function(t){for(var r=[],n=0;n<t.length-1;n++)for(var i=n+1;i<t.length;i++){var o=t[n],s=t[i],a=new Hu(o,s),u,f,c;if(a.length!==0){if(a.reversed&&(s.reverse(),s.reversed=!0,a=new Hu(o,s)),(a.si<=0||a.ti<=0)&&(a.si+a.length>=o.length||a.ti+a.length>=s.length)){r.push({l:n,r:i});continue}a.si+a.length>=o.length||a.ti+a.length>=s.length?(u=o[a.si+1],c=o[a.si-1],f=s[a.ti-1]):(u=o[a.si+a.length-2],f=o[a.si+a.length],c=s[a.ti+a.length]),e.isLeft(u,f,c)?r.push({l:i,r:n}):r.push({l:n,r:i})}}return e.getOrder(r)},e.makeSegments=function(t){function r(f){return{x:f.x,y:f.y}}for(var n=function(f,c,h){return Math.abs((c.x-f.x)*(h.y-f.y)-(c.y-f.y)*(h.x-f.x))<.001},i=[],o=r(t[0]),s=1;s<t.length;s++){var a=r(t[s]),u=s<t.length-1?t[s+1]:null;(!u||!n(o,a,u))&&(i.push([o,a]),o=a)}return i},e.prototype.route=function(t,r){var n=this,i=this.nodes[t],o=this.nodes[r];this.obstacles=this.siblingObstacles(i,o);var s={};this.obstacles.forEach(function(y){return s[y.id]=y}),this.passableEdges=this.edges.filter(function(y){var x=n.verts[y.source],b=n.verts[y.target];return!(x.node&&x.node.id in s||b.node&&b.node.id in s)});for(var a=1;a<i.ports.length;a++){var u=i.ports[0].id,f=i.ports[a].id;this.passableEdges.push({source:u,target:f,length:0})}for(var a=1;a<o.ports.length;a++){var u=o.ports[0].id,f=o.ports[a].id;this.passableEdges.push({source:u,target:f,length:0})}var c=function(y){return y.source},h=function(y){return y.target},l=function(y){return y.length},p=new n5.Calculator(this.verts.length,this.passableEdges,c,h,l),m=function(y,x,b){var _=n.verts[y],w=n.verts[x],A=n.verts[b],S=Math.abs(A.x-_.x),M=Math.abs(A.y-_.y);return _.node===i&&_.node===w.node||w.node===o&&w.node===A.node?0:S>1&&M>1?1e3:0},g=p.PathFromNodeToNodeWithPrevCost(i.ports[0].id,o.ports[0].id,m),v=g.reverse().map(function(y){return n.verts[y]});return v.push(this.nodes[o.id].ports[0]),v.filter(function(y,x){return!(x<v.length-1&&v[x+1].node===i&&y.node===i||x>0&&y.node===o&&v[x-1].node===o)})},e.getRoutePath=function(t,r,n,i){var o={routepath:"M "+t[0][0].x+" "+t[0][0].y+" ",arrowpath:""};if(t.length>1)for(var s=0;s<t.length;s++){var a=t[s],u=a[1].x,f=a[1].y,c=u-a[0].x,h=f-a[0].y;if(s<t.length-1){Math.abs(c)>0?u-=c/Math.abs(c)*r:f-=h/Math.abs(h)*r,o.routepath+="L "+u+" "+f+" ";var l=t[s+1],p=l[0].x,m=l[0].y,g=l[1].x,v=l[1].y;c=g-p,h=v-m;var y=e.angleBetween2Lines(a,l)<0?1:0,x,b;Math.abs(c)>0?(x=p+c/Math.abs(c)*r,b=m):(x=p,b=m+h/Math.abs(h)*r);var _=Math.abs(x-u),w=Math.abs(b-f);o.routepath+="A "+_+" "+w+" 0 0 "+y+" "+x+" "+b+" "}else{var A=[u,f],S,M;Math.abs(c)>0?(u-=c/Math.abs(c)*i,S=[u,f+n],M=[u,f-n]):(f-=h/Math.abs(h)*i,S=[u+n,f],M=[u-n,f]),o.routepath+="L "+u+" "+f+" ",i>0&&(o.arrowpath="M "+A[0]+" "+A[1]+" L "+S[0]+" "+S[1]+" L "+M[0]+" "+M[1])}}else{var a=t[0],u=a[1].x,f=a[1].y,c=u-a[0].x,h=f-a[0].y,A=[u,f],S,M;Math.abs(c)>0?(u-=c/Math.abs(c)*i,S=[u,f+n],M=[u,f-n]):(f-=h/Math.abs(h)*i,S=[u+n,f],M=[u-n,f]),o.routepath+="L "+u+" "+f+" ",i>0&&(o.arrowpath="M "+A[0]+" "+A[1]+" L "+S[0]+" "+S[1]+" L "+M[0]+" "+M[1])}return o},e}();Dr.GridRouter=i5});var Kw=d(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});var o5=Bn(),Yu=yo(),s5=Or(),a5=vo(),u5=function(){function e(t,r){this.source=t,this.target=r}return e.prototype.actualLength=function(t){var r=this;return Math.sqrt(t.reduce(function(n,i){var o=i[r.target]-i[r.source];return n+o*o},0))},e}();Un.Link3D=u5;var f5=function(){function e(t,r,n){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=t,this.y=r,this.z=n}return e}();Un.Node3D=f5;var c5=function(){function e(t,r,n){var i=this;n===void 0&&(n=1),this.nodes=t,this.links=r,this.idealLinkLength=n,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(e.k);for(var o=0;o<e.k;++o)this.result[o]=new Array(t.length);t.forEach(function(s,a){for(var u=0,f=e.dims;u<f.length;u++){var c=f[u];typeof s[c]>"u"&&(s[c]=Math.random())}i.result[0][a]=s.x,i.result[1][a]=s.y,i.result[2][a]=s.z})}return e.prototype.linkLength=function(t){return t.actualLength(this.result)},e.prototype.start=function(t){var r=this;t===void 0&&(t=100);var n=this.nodes.length,i=new h5;this.useJaccardLinkLengths&&a5.jaccardLinkLengths(this.links,i,1.5),this.links.forEach(function(c){return c.length*=r.idealLinkLength});var o=new o5.Calculator(n,this.links,function(c){return c.source},function(c){return c.target},function(c){return c.length}).DistanceMatrix(),s=Yu.Descent.createSquareMatrix(n,function(c,h){return o[c][h]}),a=Yu.Descent.createSquareMatrix(n,function(){return 2});this.links.forEach(function(c){var h=c.source,l=c.target;return a[h][l]=a[l][h]=1}),this.descent=new Yu.Descent(this.result,s),this.descent.threshold=.001,this.descent.G=a,this.constraints&&(this.descent.project=new s5.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var u=0;u<this.nodes.length;u++){var f=this.nodes[u];f.fixed&&this.descent.locks.add(u,[f.x,f.y,f.z])}return this.descent.run(t),this},e.prototype.tick=function(){this.descent.locks.clear();for(var t=0;t<this.nodes.length;t++){var r=this.nodes[t];r.fixed&&this.descent.locks.add(t,[r.x,r.y,r.z])}return this.descent.rungeKutta()},e.dims=["x","y","z"],e.k=e.dims.length,e}();Un.Layout3D=c5;var h5=function(){function e(){}return e.prototype.getSourceIndex=function(t){return t.source},e.prototype.getTargetIndex=function(t){return t.target},e.prototype.getLength=function(t){return t.length},e.prototype.setLength=function(t,r){t.length=r},e}()});var Zw=d(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});var Xu=Ir(),l5=Uu();function p5(e,t,r,n){e.cola.start(0,0,0,10,!1);var i=d5(e.cola.nodes(),e.cola.groups(),r,n);return i.routeEdges(e.powerGraph.powerEdges,t,function(o){return o.source.routerNode.id},function(o){return o.target.routerNode.id})}Io.gridify=p5;function d5(e,t,r,n){e.forEach(function(o){o.routerNode={name:o.name,bounds:o.bounds.inflate(-r)}}),t.forEach(function(o){o.routerNode={bounds:o.bounds.inflate(-n),children:(typeof o.groups<"u"?o.groups.map(function(s){return e.length+s.id}):[]).concat(typeof o.leaves<"u"?o.leaves.map(function(s){return s.index}):[])}});var i=e.concat(t).map(function(o,s){return o.routerNode.id=s,o.routerNode});return new l5.GridRouter(i,{getChildren:function(o){return o.children},getBounds:function(o){return o.bounds}},r-n)}function g5(e,t,r){var n;e.nodes.forEach(function(a,u){return a.index=u}),new Xu.Layout().avoidOverlaps(!1).nodes(e.nodes).links(e.links).powerGraphGroups(function(a){n=a,n.groups.forEach(function(u){return u.padding=r})});var i=e.nodes.length,o=[],s=e.nodes.slice(0);return s.forEach(function(a,u){return a.index=u}),n.groups.forEach(function(a){var u=a.index=a.id+i;s.push(a),typeof a.leaves<"u"&&a.leaves.forEach(function(f){return o.push({source:u,target:f.index})}),typeof a.groups<"u"&&a.groups.forEach(function(f){return o.push({source:u,target:f.id+i})})}),n.powerEdges.forEach(function(a){o.push({source:a.source.index,target:a.target.index})}),new Xu.Layout().size(t).nodes(s).links(o).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:new Xu.Layout().convergenceThreshold(.001).size(t).avoidOverlaps(!0).nodes(e.nodes).links(e.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(a){n=a,n.groups.forEach(function(u){u.padding=r})}).start(50,0,100,0,!1),powerGraph:n}}Io.powerGraphGridLayout=g5});var Qw=d(Po=>{"use strict";function ae(e){for(var t in e)Po.hasOwnProperty(t)||(Po[t]=e[t])}Object.defineProperty(Po,"__esModule",{value:!0});ae(jw());ae(Xw());ae(yo());ae(Fu());ae(Uu());ae(Ru());ae(Ir());ae(Kw());ae(vo());ae(Mu());ae(Iu());ae(Tu());ae(Or());ae(Bn());ae(bo());ae(Zw())});function a1(){}function It(e){return e==null?a1:function(){return this.querySelector(e)}}function _f(e){typeof e!="function"&&(e=It(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],s=o.length,a=n[i]=new Array(s),u,f,c=0;c<s;++c)(u=o[c])&&(f=e.call(u,u.__data__,c,o))&&("__data__"in u&&(f.__data__=u.__data__),a[c]=f);return new Z(n,this._parents)}function ns(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function u1(){return[]}function $r(e){return e==null?u1:function(){return this.querySelectorAll(e)}}function f1(e){return function(){return ns(e.apply(this,arguments))}}function bf(e){typeof e=="function"?e=f1(e):e=$r(e);for(var t=this._groups,r=t.length,n=[],i=[],o=0;o<r;++o)for(var s=t[o],a=s.length,u,f=0;f<a;++f)(u=s[f])&&(n.push(e.call(u,u.__data__,f,s)),i.push(u));return new Z(n,i)}function Br(e){return function(){return this.matches(e)}}function Kn(e){return function(t){return t.matches(e)}}var c1=Array.prototype.find;function h1(e){return function(){return c1.call(this.children,e)}}function l1(){return this.firstElementChild}function wf(e){return this.select(e==null?l1:h1(typeof e=="function"?e:Kn(e)))}var p1=Array.prototype.filter;function d1(){return Array.from(this.children)}function g1(e){return function(){return p1.call(this.children,e)}}function Ef(e){return this.selectAll(e==null?d1:g1(typeof e=="function"?e:Kn(e)))}function qf(e){typeof e!="function"&&(e=Br(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],s=o.length,a=n[i]=[],u,f=0;f<s;++f)(u=o[f])&&e.call(u,u.__data__,f,o)&&a.push(u);return new Z(n,this._parents)}function Zn(e){return new Array(e.length)}function Mf(){return new Z(this._enter||this._groups.map(Zn),this._parents)}function zr(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}zr.prototype={constructor:zr,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Cf(e){return function(){return e}}function m1(e,t,r,n,i,o){for(var s=0,a,u=t.length,f=o.length;s<f;++s)(a=t[s])?(a.__data__=o[s],n[s]=a):r[s]=new zr(e,o[s]);for(;s<u;++s)(a=t[s])&&(i[s]=a)}function v1(e,t,r,n,i,o,s){var a,u,f=new Map,c=t.length,h=o.length,l=new Array(c),p;for(a=0;a<c;++a)(u=t[a])&&(l[a]=p=s.call(u,u.__data__,a,t)+"",f.has(p)?i[a]=u:f.set(p,u));for(a=0;a<h;++a)p=s.call(e,o[a],a,o)+"",(u=f.get(p))?(n[a]=u,u.__data__=o[a],f.delete(p)):r[a]=new zr(e,o[a]);for(a=0;a<c;++a)(u=t[a])&&f.get(l[a])===u&&(i[a]=u)}function y1(e){return e.__data__}function Af(e,t){if(!arguments.length)return Array.from(this,y1);var r=t?v1:m1,n=this._parents,i=this._groups;typeof e!="function"&&(e=Cf(e));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),f=0;f<o;++f){var c=n[f],h=i[f],l=h.length,p=x1(e.call(c,c&&c.__data__,f,n)),m=p.length,g=a[f]=new Array(m),v=s[f]=new Array(m),y=u[f]=new Array(l);r(c,h,g,v,y,p,t);for(var x=0,b=0,_,w;x<m;++x)if(_=g[x]){for(x>=b&&(b=x+1);!(w=v[b])&&++b<m;);_._next=w||null}}return s=new Z(s,n),s._enter=a,s._exit=u,s}function x1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Sf(){return new Z(this._exit||this._groups.map(Zn),this._parents)}function Tf(e,t,r){var n=this.enter(),i=this,o=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}function kf(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,o=n.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var f=r[u],c=n[u],h=f.length,l=a[u]=new Array(h),p,m=0;m<h;++m)(p=f[m]||c[m])&&(l[m]=p);for(;u<i;++u)a[u]=r[u];return new Z(a,this._parents)}function Nf(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,o=n[i],s;--i>=0;)(s=n[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Of(e){e||(e=_1);function t(h,l){return h&&l?e(h.__data__,l.__data__):!h-!l}for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var s=r[o],a=s.length,u=i[o]=new Array(a),f,c=0;c<a;++c)(f=s[c])&&(u[c]=f);u.sort(t)}return new Z(i,this._parents).order()}function _1(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function If(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Pf(){return Array.from(this)}function Lf(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length;i<o;++i){var s=n[i];if(s)return s}return null}function Df(){let e=0;for(let t of this)++e;return e}function Gf(){return!this.node()}function Ff(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}var Qn="http://www.w3.org/1999/xhtml",is={svg:"http://www.w3.org/2000/svg",xhtml:Qn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ke(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),is.hasOwnProperty(t)?{space:is[t],local:e}:e}function b1(e){return function(){this.removeAttribute(e)}}function w1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function E1(e,t){return function(){this.setAttribute(e,t)}}function q1(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function M1(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function C1(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Rf(e,t){var r=Ke(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?w1:b1:typeof t=="function"?r.local?C1:M1:r.local?q1:E1)(r,t))}function Jn(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function A1(e){return function(){this.style.removeProperty(e)}}function S1(e,t,r){return function(){this.style.setProperty(e,t,r)}}function T1(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function $f(e,t,r){return arguments.length>1?this.each((t==null?A1:typeof t=="function"?T1:S1)(e,t,r??"")):dt(this.node(),e)}function dt(e,t){return e.style.getPropertyValue(t)||Jn(e).getComputedStyle(e,null).getPropertyValue(t)}function k1(e){return function(){delete this[e]}}function N1(e,t){return function(){this[e]=t}}function O1(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Bf(e,t){return arguments.length>1?this.each((t==null?k1:typeof t=="function"?O1:N1)(e,t)):this.node()[e]}function zf(e){return e.trim().split(/^|\s+/)}function os(e){return e.classList||new Vf(e)}function Vf(e){this._node=e,this._names=zf(e.getAttribute("class")||"")}Vf.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function jf(e,t){for(var r=os(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function Hf(e,t){for(var r=os(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function I1(e){return function(){jf(this,e)}}function P1(e){return function(){Hf(this,e)}}function L1(e,t){return function(){(t.apply(this,arguments)?jf:Hf)(this,e)}}function Uf(e,t){var r=zf(e+"");if(arguments.length<2){for(var n=os(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?L1:t?I1:P1)(r,t))}function D1(){this.textContent=""}function G1(e){return function(){this.textContent=e}}function F1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Yf(e){return arguments.length?this.each(e==null?D1:(typeof e=="function"?F1:G1)(e)):this.node().textContent}function R1(){this.innerHTML=""}function $1(e){return function(){this.innerHTML=e}}function B1(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Xf(e){return arguments.length?this.each(e==null?R1:(typeof e=="function"?B1:$1)(e)):this.node().innerHTML}function z1(){this.nextSibling&&this.parentNode.appendChild(this)}function Wf(){return this.each(z1)}function V1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Kf(){return this.each(V1)}function j1(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Qn&&t.documentElement.namespaceURI===Qn?t.createElement(e):t.createElementNS(r,e)}}function H1(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ei(e){var t=Ke(e);return(t.local?H1:j1)(t)}function Zf(e){var t=typeof e=="function"?e:ei(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function U1(){return null}function Qf(e,t){var r=typeof e=="function"?e:ei(e),n=t==null?U1:typeof t=="function"?t:It(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Y1(){var e=this.parentNode;e&&e.removeChild(this)}function Jf(){return this.each(Y1)}function X1(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function W1(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ec(e){return this.select(e?W1:X1)}function tc(e){return arguments.length?this.property("__data__",e):this.node().__data__}function K1(e){return function(t){e.call(this,t,this.__data__)}}function Z1(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function Q1(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,o;r<i;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function J1(e,t,r){return function(){var n=this.__on,i,o=K1(t);if(n){for(var s=0,a=n.length;s<a;++s)if((i=n[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),i.value=t;return}}this.addEventListener(e.type,o,r),i={type:e.type,name:e.name,value:t,listener:o,options:r},n?n.push(i):this.__on=[i]}}function rc(e,t,r){var n=Z1(e+""),i,o=n.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,f=a.length,c;u<f;++u)for(i=0,c=a[u];i<o;++i)if((s=n[i]).type===c.type&&s.name===c.name)return c.value}return}for(a=t?J1:Q1,i=0;i<o;++i)this.each(a(n[i],t,r));return this}function nc(e,t,r){var n=Jn(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function eE(e,t){return function(){return nc(this,e,t)}}function tE(e,t){return function(){return nc(this,e,t.apply(this,arguments))}}function ic(e,t){return this.each((typeof t=="function"?tE:eE)(e,t))}function*oc(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length,s;i<o;++i)(s=n[i])&&(yield s)}var ss=[null];function Z(e,t){this._groups=e,this._parents=t}function sc(){return new Z([[document.documentElement]],ss)}function rE(){return this}Z.prototype=sc.prototype={constructor:Z,select:_f,selectAll:bf,selectChild:wf,selectChildren:Ef,filter:qf,data:Af,enter:Mf,exit:Sf,join:Tf,merge:kf,selection:rE,order:Nf,sort:Of,call:If,nodes:Pf,node:Lf,size:Df,empty:Gf,each:Ff,attr:Rf,style:$f,property:Bf,classed:Uf,text:Yf,html:Xf,raise:Wf,lower:Kf,append:Zf,insert:Qf,remove:Jf,clone:ec,datum:tc,on:rc,dispatch:ic,[Symbol.iterator]:oc};var Ze=sc;function ti(e){return typeof e=="string"?new Z([[document.querySelector(e)]],[document.documentElement]):new Z([[e]],ss)}function U(e){return function(){return e}}var as=Math.abs,ie=Math.atan2,gt=Math.cos,ac=Math.max,ri=Math.min,Ie=Math.sin,Pt=Math.sqrt,fe=1e-12,ur=Math.PI,Vr=ur/2,fr=2*ur;function uc(e){return e>1?0:e<-1?ur:Math.acos(e)}function us(e){return e>=1?Vr:e<=-1?-Vr:Math.asin(e)}var fs=Math.PI,cs=2*fs,Lt=1e-6,nE=cs-Lt;function fc(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function iE(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return fc;let r=10**t;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}var Dt=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?fc:iE(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,o,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,r,n,i,o){if(t=+t,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,u=n-t,f=i-r,c=s-t,h=a-r,l=c*c+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(l>Lt)if(!(Math.abs(h*u-f*c)>Lt)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,m=i-a,g=u*u+f*f,v=p*p+m*m,y=Math.sqrt(g),x=Math.sqrt(l),b=o*Math.tan((fs-Math.acos((g+l-v)/(2*y*x)))/2),_=b/x,w=b/y;Math.abs(_-1)>Lt&&this._append`L${t+_*c},${r+_*h}`,this._append`A${o},${o},0,0,${+(h*p>c*m)},${this._x1=t+w*u},${this._y1=r+w*f}`}}arc(t,r,n,i,o,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),u=n*Math.sin(i),f=t+a,c=r+u,h=1^s,l=s?i-o:o-i;this._x1===null?this._append`M${f},${c}`:(Math.abs(this._x1-f)>Lt||Math.abs(this._y1-c)>Lt)&&this._append`L${f},${c}`,n&&(l<0&&(l=l%cs+cs),l>nE?this._append`A${n},${n},0,1,${h},${t-a},${r-u}A${n},${n},0,1,${h},${this._x1=f},${this._y1=c}`:l>Lt&&this._append`A${n},${n},0,${+(l>=fs)},${h},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}};function cc(){return new Dt}cc.prototype=Dt.prototype;function ni(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{let n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Dt(t)}function oE(e){return e.innerRadius}function sE(e){return e.outerRadius}function aE(e){return e.startAngle}function uE(e){return e.endAngle}function fE(e){return e&&e.padAngle}function cE(e,t,r,n,i,o,s,a){var u=r-e,f=n-t,c=s-i,h=a-o,l=h*u-c*f;if(!(l*l<fe))return l=(c*(t-o)-h*(e-i))/l,[e+l*u,t+l*f]}function ii(e,t,r,n,i,o,s){var a=e-r,u=t-n,f=(s?o:-o)/Pt(a*a+u*u),c=f*u,h=-f*a,l=e+c,p=t+h,m=r+c,g=n+h,v=(l+m)/2,y=(p+g)/2,x=m-l,b=g-p,_=x*x+b*b,w=i-o,A=l*g-m*p,S=(b<0?-1:1)*Pt(ac(0,w*w*_-A*A)),M=(A*b-x*S)/_,k=(-A*x-b*S)/_,q=(A*b+x*S)/_,E=(-A*x+b*S)/_,T=M-v,C=k-y,N=q-v,$=E-y;return T*T+C*C>N*N+$*$&&(M=q,k=E),{cx:M,cy:k,x01:-c,y01:-h,x11:M*(i/w-1),y11:k*(i/w-1)}}function hE(){var e=oE,t=sE,r=U(0),n=null,i=aE,o=uE,s=fE,a=null,u=ni(f);function f(){var c,h,l=+e.apply(this,arguments),p=+t.apply(this,arguments),m=i.apply(this,arguments)-Vr,g=o.apply(this,arguments)-Vr,v=as(g-m),y=g>m;if(a||(a=c=u()),p<l&&(h=p,p=l,l=h),!(p>fe))a.moveTo(0,0);else if(v>fr-fe)a.moveTo(p*gt(m),p*Ie(m)),a.arc(0,0,p,m,g,!y),l>fe&&(a.moveTo(l*gt(g),l*Ie(g)),a.arc(0,0,l,g,m,y));else{var x=m,b=g,_=m,w=g,A=v,S=v,M=s.apply(this,arguments)/2,k=M>fe&&(n?+n.apply(this,arguments):Pt(l*l+p*p)),q=ri(as(p-l)/2,+r.apply(this,arguments)),E=q,T=q,C,N;if(k>fe){var $=us(k/l*Ie(M)),B=us(k/p*Ie(M));(A-=$*2)>fe?($*=y?1:-1,_+=$,w-=$):(A=0,_=w=(m+g)/2),(S-=B*2)>fe?(B*=y?1:-1,x+=B,b-=B):(S=0,x=b=(m+g)/2)}var W=p*gt(x),de=p*Ie(x),ne=l*gt(w),Ee=l*Ie(w);if(q>fe){var qe=p*gt(b),Xe=p*Ie(b),ft=l*gt(_),Fo=l*Ie(_),We;if(v<ur)if(We=cE(W,de,ft,Fo,qe,Xe,ne,Ee)){var Ro=W-We[0],$o=de-We[1],Bo=qe-We[0],zo=Xe-We[1],tf=1/Ie(uc((Ro*Bo+$o*zo)/(Pt(Ro*Ro+$o*$o)*Pt(Bo*Bo+zo*zo)))/2),rf=Pt(We[0]*We[0]+We[1]*We[1]);E=ri(q,(l-rf)/(tf-1)),T=ri(q,(p-rf)/(tf+1))}else E=T=0}S>fe?T>fe?(C=ii(ft,Fo,W,de,p,T,y),N=ii(qe,Xe,ne,Ee,p,T,y),a.moveTo(C.cx+C.x01,C.cy+C.y01),T<q?a.arc(C.cx,C.cy,T,ie(C.y01,C.x01),ie(N.y01,N.x01),!y):(a.arc(C.cx,C.cy,T,ie(C.y01,C.x01),ie(C.y11,C.x11),!y),a.arc(0,0,p,ie(C.cy+C.y11,C.cx+C.x11),ie(N.cy+N.y11,N.cx+N.x11),!y),a.arc(N.cx,N.cy,T,ie(N.y11,N.x11),ie(N.y01,N.x01),!y))):(a.moveTo(W,de),a.arc(0,0,p,x,b,!y)):a.moveTo(W,de),!(l>fe)||!(A>fe)?a.lineTo(ne,Ee):E>fe?(C=ii(ne,Ee,qe,Xe,l,-E,y),N=ii(W,de,ft,Fo,l,-E,y),a.lineTo(C.cx+C.x01,C.cy+C.y01),E<q?a.arc(C.cx,C.cy,E,ie(C.y01,C.x01),ie(N.y01,N.x01),!y):(a.arc(C.cx,C.cy,E,ie(C.y01,C.x01),ie(C.y11,C.x11),!y),a.arc(0,0,l,ie(C.cy+C.y11,C.cx+C.x11),ie(N.cy+N.y11,N.cx+N.x11),y),a.arc(N.cx,N.cy,E,ie(N.y11,N.x11),ie(N.y01,N.x01),!y))):a.arc(0,0,l,w,_,y)}if(a.closePath(),c)return a=null,c+""||null}return f.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,h=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-ur/2;return[gt(h)*c,Ie(h)*c]},f.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:U(+c),f):e},f.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:U(+c),f):t},f.cornerRadius=function(c){return arguments.length?(r=typeof c=="function"?c:U(+c),f):r},f.padRadius=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:U(+c),f):n},f.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:U(+c),f):i},f.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:U(+c),f):o},f.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:U(+c),f):s},f.context=function(c){return arguments.length?(a=c??null,f):a},f}function hc(e){this._context=e}hc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function lc(e){return new hc(e)}var v8=Array.prototype.slice;function oi(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pc(e){return e[0]}function dc(e){return e[1]}function hs(e,t){var r=U(!0),n=null,i=lc,o=null,s=ni(a);e=typeof e=="function"?e:e===void 0?pc:U(e),t=typeof t=="function"?t:t===void 0?dc:U(t);function a(u){var f,c=(u=oi(u)).length,h,l=!1,p;for(n==null&&(o=i(p=s())),f=0;f<=c;++f)!(f<c&&r(h=u[f],f,u))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+e(h,f,u),+t(h,f,u));if(p)return o=null,p+""||null}return a.x=function(u){return arguments.length?(e=typeof u=="function"?u:U(+u),a):e},a.y=function(u){return arguments.length?(t=typeof u=="function"?u:U(+u),a):t},a.defined=function(u){return arguments.length?(r=typeof u=="function"?u:U(!!u),a):r},a.curve=function(u){return arguments.length?(i=u,n!=null&&(o=i(n)),a):i},a.context=function(u){return arguments.length?(u==null?n=o=null:o=i(n=u),a):n},a}function gc(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function mc(e){return e}function lE(){var e=mc,t=gc,r=null,n=U(0),i=U(fr),o=U(0);function s(a){var u,f=(a=oi(a)).length,c,h,l=0,p=new Array(f),m=new Array(f),g=+n.apply(this,arguments),v=Math.min(fr,Math.max(-fr,i.apply(this,arguments)-g)),y,x=Math.min(Math.abs(v)/f,o.apply(this,arguments)),b=x*(v<0?-1:1),_;for(u=0;u<f;++u)(_=m[p[u]=u]=+e(a[u],u,a))>0&&(l+=_);for(t!=null?p.sort(function(w,A){return t(m[w],m[A])}):r!=null&&p.sort(function(w,A){return r(a[w],a[A])}),u=0,h=l?(v-f*b)/l:0;u<f;++u,g=y)c=p[u],_=m[c],y=g+(_>0?_*h:0)+b,m[c]={data:a[c],index:u,value:_,startAngle:g,endAngle:y,padAngle:x};return m}return s.value=function(a){return arguments.length?(e=typeof a=="function"?a:U(+a),s):e},s.sortValues=function(a){return arguments.length?(t=a,r=null,s):t},s.sort=function(a){return arguments.length?(r=a,t=null,s):r},s.startAngle=function(a){return arguments.length?(n=typeof a=="function"?a:U(+a),s):n},s.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:U(+a),s):i},s.padAngle=function(a){return arguments.length?(o=typeof a=="function"?a:U(+a),s):o},s}function vc(e){return e<0?-1:1}function yc(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),a=(o*i+s*n)/(n+i);return(vc(o)+vc(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function xc(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ls(e,t,r){var n=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-n)/3;e._context.bezierCurveTo(n+a,i+a*t,o-a,s-a*r,o,s)}function si(e){this._context=e}si.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ls(this,this._t0,xc(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ls(this,xc(this,r=yc(this,e,t)),r);break;default:ls(this,this._t0,r=yc(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function pE(e){this._context=new _c(e)}(pE.prototype=Object.create(si.prototype)).point=function(e,t){si.prototype.point.call(this,t,e)};function _c(e){this._context=e}_c.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,o){this._context.bezierCurveTo(t,e,n,r,o,i)}};function dE(e){return new si(e)}function bc(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function ai(e){this._context=e}ai.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bc(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wc(e,t){this._basis=new ai(e),this._beta=t}wc.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],i=t[0],o=e[r]-n,s=t[r]-i,a=-1,u;++a<=r;)u=a/r,this._basis.point(this._beta*e[a]+(1-this._beta)*(n+u*o),this._beta*t[a]+(1-this._beta)*(i+u*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var ps=function e(t){function r(n){return t===1?new ai(n):new wc(n,t)}return r.beta=function(n){return e(+n)},r}(.85);var Ec=Math.PI,j8=Ec/2;function jr(e){return(1-Math.cos(Ec*e))/2}function ui(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}function fi(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ds(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Yr(){}var Hr=.7,li=1/Hr,cr="\\s*([+-]?\\d+)\\s*",Ur="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Be="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vE=/^#([0-9a-f]{3,8})$/,yE=new RegExp(`^rgb\\(${cr},${cr},${cr}\\)$`),xE=new RegExp(`^rgb\\(${Be},${Be},${Be}\\)$`),_E=new RegExp(`^rgba\\(${cr},${cr},${cr},${Ur}\\)$`),bE=new RegExp(`^rgba\\(${Be},${Be},${Be},${Ur}\\)$`),wE=new RegExp(`^hsl\\(${Ur},${Be},${Be}\\)$`),EE=new RegExp(`^hsla\\(${Ur},${Be},${Be},${Ur}\\)$`),qc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fi(Yr,Le,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Mc,formatHex:Mc,formatHex8:qE,formatHsl:ME,formatRgb:Cc,toString:Cc});function Mc(){return this.rgb().formatHex()}function qE(){return this.rgb().formatHex8()}function ME(){return Oc(this).formatHsl()}function Cc(){return this.rgb().formatRgb()}function Le(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=vE.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Ac(t):r===3?new me(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ci(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ci(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=yE.exec(e))?new me(t[1],t[2],t[3],1):(t=xE.exec(e))?new me(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_E.exec(e))?ci(t[1],t[2],t[3],t[4]):(t=bE.exec(e))?ci(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wE.exec(e))?kc(t[1],t[2]/100,t[3]/100,1):(t=EE.exec(e))?kc(t[1],t[2]/100,t[3]/100,t[4]):qc.hasOwnProperty(e)?Ac(qc[e]):e==="transparent"?new me(NaN,NaN,NaN,0):null}function Ac(e){return new me(e>>16&255,e>>8&255,e&255,1)}function ci(e,t,r,n){return n<=0&&(e=t=r=NaN),new me(e,t,r,n)}function CE(e){return e instanceof Yr||(e=Le(e)),e?(e=e.rgb(),new me(e.r,e.g,e.b,e.opacity)):new me}function hr(e,t,r,n){return arguments.length===1?CE(e):new me(e,t,r,n??1)}function me(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}fi(me,hr,ds(Yr,{brighter(e){return e=e==null?li:Math.pow(li,e),new me(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Hr:Math.pow(Hr,e),new me(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new me(Ft(this.r),Ft(this.g),Ft(this.b),pi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Sc,formatHex:Sc,formatHex8:AE,formatRgb:Tc,toString:Tc}));function Sc(){return`#${Gt(this.r)}${Gt(this.g)}${Gt(this.b)}`}function AE(){return`#${Gt(this.r)}${Gt(this.g)}${Gt(this.b)}${Gt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Tc(){let e=pi(this.opacity);return`${e===1?"rgb(":"rgba("}${Ft(this.r)}, ${Ft(this.g)}, ${Ft(this.b)}${e===1?")":`, ${e})`}`}function pi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ft(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Gt(e){return e=Ft(e),(e<16?"0":"")+e.toString(16)}function kc(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Pe(e,t,r,n)}function Oc(e){if(e instanceof Pe)return new Pe(e.h,e.s,e.l,e.opacity);if(e instanceof Yr||(e=Le(e)),!e)return new Pe;if(e instanceof Pe)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),s=NaN,a=o-i,u=(o+i)/2;return a?(t===o?s=(r-n)/a+(r<n)*6:r===o?s=(n-t)/a+2:s=(t-r)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new Pe(s,a,u,e.opacity)}function Ic(e,t,r,n){return arguments.length===1?Oc(e):new Pe(e,t,r,n??1)}function Pe(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}fi(Pe,Ic,ds(Yr,{brighter(e){return e=e==null?li:Math.pow(li,e),new Pe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hr:Math.pow(Hr,e),new Pe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new me(gs(e>=240?e-240:e+120,i,n),gs(e,i,n),gs(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Pe(Nc(this.h),hi(this.s),hi(this.l),pi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=pi(this.opacity);return`${e===1?"hsl(":"hsla("}${Nc(this.h)}, ${hi(this.s)*100}%, ${hi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Nc(e){return e=(e||0)%360,e<0?e+360:e}function hi(e){return Math.max(0,Math.min(1,e||0))}function gs(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function ms(e,t,r,n,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*r+(1+3*e+3*o-3*s)*n+s*i)/6}function Pc(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],o=e[n+1],s=n>0?e[n-1]:2*i-o,a=n<t-1?e[n+2]:2*o-i;return ms((r-n/t)*t,s,i,o,a)}}function Lc(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],o=e[n%t],s=e[(n+1)%t],a=e[(n+2)%t];return ms((r-n/t)*t,i,o,s,a)}}var Xr=e=>()=>e;function SE(e,t){return function(r){return e+r*t}}function TE(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Dc(e){return(e=+e)==1?di:function(t,r){return r-t?TE(t,r,e):Xr(isNaN(t)?r:t)}}function di(e,t){var r=t-e;return r?SE(e,r):Xr(isNaN(e)?t:e)}var Rt=function e(t){var r=Dc(t);function n(i,o){var s=r((i=hr(i)).r,(o=hr(o)).r),a=r(i.g,o.g),u=r(i.b,o.b),f=di(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=u(c),i.opacity=f(c),i+""}}return n.gamma=e,n}(1);function Gc(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),o=new Array(r),s,a;for(s=0;s<r;++s)a=hr(t[s]),n[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return n=e(n),i=e(i),o=e(o),a.opacity=1,function(u){return a.r=n(u),a.g=i(u),a.b=o(u),a+""}}}var kE=Gc(Pc),NE=Gc(Lc);function Fc(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function Rc(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $c(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),s;for(s=0;s<n;++s)i[s]=$t(e[s],t[s]);for(;s<r;++s)o[s]=t[s];return function(a){for(s=0;s<n;++s)o[s]=i[s](a);return o}}function Bc(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function oe(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function zc(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=$t(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var ys=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,vs=new RegExp(ys.source,"g");function OE(e){return function(){return e}}function IE(e){return function(t){return e(t)+""}}function Wr(e,t){var r=ys.lastIndex=vs.lastIndex=0,n,i,o,s=-1,a=[],u=[];for(e=e+"",t=t+"";(n=ys.exec(e))&&(i=vs.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:oe(n,i)})),r=vs.lastIndex;return r<t.length&&(o=t.slice(r),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?IE(u[0].x):OE(t):(t=u.length,function(f){for(var c=0,h;c<t;++c)a[(h=u[c]).i]=h.x(f);return a.join("")})}function $t(e,t){var r=typeof t,n;return t==null||r==="boolean"?Xr(t):(r==="number"?oe:r==="string"?(n=Le(t))?(t=n,Rt):Wr:t instanceof Le?Rt:t instanceof Date?Bc:Rc(t)?Fc:Array.isArray(t)?$c:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?zc:oe)(e,t)}function xs(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var Vc=180/Math.PI,gi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _s(e,t,r,n,i,o){var s,a,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(a=Math.sqrt(r*r+n*n))&&(r/=a,n/=a,u/=a),e*n<t*r&&(e=-e,t=-t,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Vc,skewX:Math.atan(u)*Vc,scaleX:s,scaleY:a}}var mi;function jc(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?gi:_s(t.a,t.b,t.c,t.d,t.e,t.f)}function Hc(e){return e==null?gi:(mi||(mi=document.createElementNS("http://www.w3.org/2000/svg","g")),mi.setAttribute("transform",e),(e=mi.transform.baseVal.consolidate())?(e=e.matrix,_s(e.a,e.b,e.c,e.d,e.e,e.f)):gi)}function Uc(e,t,r,n){function i(f){return f.length?f.pop()+" ":""}function o(f,c,h,l,p,m){if(f!==h||c!==l){var g=p.push("translate(",null,t,null,r);m.push({i:g-4,x:oe(f,h)},{i:g-2,x:oe(c,l)})}else(h||l)&&p.push("translate("+h+t+l+r)}function s(f,c,h,l){f!==c?(f-c>180?c+=360:c-f>180&&(f+=360),l.push({i:h.push(i(h)+"rotate(",null,n)-2,x:oe(f,c)})):c&&h.push(i(h)+"rotate("+c+n)}function a(f,c,h,l){f!==c?l.push({i:h.push(i(h)+"skewX(",null,n)-2,x:oe(f,c)}):c&&h.push(i(h)+"skewX("+c+n)}function u(f,c,h,l,p,m){if(f!==h||c!==l){var g=p.push(i(p)+"scale(",null,",",null,")");m.push({i:g-4,x:oe(f,h)},{i:g-2,x:oe(c,l)})}else(h!==1||l!==1)&&p.push(i(p)+"scale("+h+","+l+")")}return function(f,c){var h=[],l=[];return f=e(f),c=e(c),o(f.translateX,f.translateY,c.translateX,c.translateY,h,l),s(f.rotate,c.rotate,h,l),a(f.skewX,c.skewX,h,l),u(f.scaleX,f.scaleY,c.scaleX,c.scaleY,h,l),f=c=null,function(p){for(var m=-1,g=l.length,v;++m<g;)h[(v=l[m]).i]=v.x(p);return h.join("")}}}var bs=Uc(jc,"px, ","px)","deg)"),ws=Uc(Hc,", ",")",")");function Yc(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function ze(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Kr(e){return e===null?NaN:+e}function Es(e,t,r=Kr){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),s=+r(e[o],o,e),a=+r(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function vi(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(i);++n<i;)o[n]=e+n*r;return o}function qs(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yi(e){let t,r,n;e.length!==2?(t=ze,r=(a,u)=>ze(e(a),u),n=(a,u)=>e(a)-u):(t=e===ze||e===qs?e:PE,r=e,n=e);function i(a,u,f=0,c=a.length){if(f<c){if(t(u,u)!==0)return c;do{let h=f+c>>>1;r(a[h],u)<0?f=h+1:c=h}while(f<c)}return f}function o(a,u,f=0,c=a.length){if(f<c){if(t(u,u)!==0)return c;do{let h=f+c>>>1;r(a[h],u)<=0?f=h+1:c=h}while(f<c)}return f}function s(a,u,f=0,c=a.length){let h=i(a,u,f,c-1);return h>f&&n(a[h-1],u)>-n(a[h],u)?h-1:h}return{left:i,center:s,right:o}}function PE(){return 0}var Xc=yi(ze),Wc=Xc.right,LE=Xc.left,DE=yi(Kr).center,Zr=Wc;var lr=class extends Map{constructor(t,r=RE){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let[n,i]of t)this.set(n,i)}get(t){return super.get(Kc(this,t))}has(t){return super.has(Kc(this,t))}set(t,r){return super.set(GE(this,t),r)}delete(t){return super.delete(FE(this,t))}};function Kc({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):r}function GE({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function FE({_intern:e,_key:t},r){let n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function RE(e){return e!==null&&typeof e=="object"?e.valueOf():e}var $E=Math.sqrt(50),BE=Math.sqrt(10),zE=Math.sqrt(2);function xi(e,t,r){let n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),s=o>=$E?10:o>=BE?5:o>=zE?2:1,a,u,f;return i<0?(f=Math.pow(10,-i)/s,a=Math.round(e*f),u=Math.round(t*f),a/f<e&&++a,u/f>t&&--u,f=-f):(f=Math.pow(10,i)*s,a=Math.round(e/f),u=Math.round(t/f),a*f<e&&++a,u*f>t&&--u),u<a&&.5<=r&&r<2?xi(e,t,r*2):[a,u,f]}function _i(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];let n=t<e,[i,o,s]=n?xi(t,e,r):xi(e,t,r);if(!(o>=i))return[];let a=o-i+1,u=new Array(a);if(n)if(s<0)for(let f=0;f<a;++f)u[f]=(o-f)/-s;else for(let f=0;f<a;++f)u[f]=(o-f)*s;else if(s<0)for(let f=0;f<a;++f)u[f]=(i+f)/-s;else for(let f=0;f<a;++f)u[f]=(i+f)*s;return u}function Qr(e,t,r){return t=+t,e=+e,r=+r,xi(e,t,r)[2]}function Ms(e,t,r){t=+t,e=+e,r=+r;let n=t<e,i=n?Qr(t,e,r):Qr(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function mt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}var Cs=Symbol("implicit");function Bt(){var e=new lr,t=[],r=[],n=Cs;function i(o){let s=e.get(o);if(s===void 0){if(n!==Cs)return n;e.set(o,s=t.push(o)-1)}return r[s%r.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new lr;for(let s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Bt(t,r).unknown(n)},mt.apply(i,arguments),i}function As(){var e=Bt().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,o,s,a=!1,u=0,f=0,c=.5;delete e.unknown;function h(){var l=t().length,p=i<n,m=p?i:n,g=p?n:i;o=(g-m)/Math.max(1,l-u+f*2),a&&(o=Math.floor(o)),m+=(g-m-o*(l-u))*c,s=o*(1-u),a&&(m=Math.round(m),s=Math.round(s));var v=vi(l).map(function(y){return m+o*y});return r(p?v.reverse():v)}return e.domain=function(l){return arguments.length?(t(l),h()):t()},e.range=function(l){return arguments.length?([n,i]=l,n=+n,i=+i,h()):[n,i]},e.rangeRound=function(l){return[n,i]=l,n=+n,i=+i,a=!0,h()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(l){return arguments.length?(a=!!l,h()):a},e.padding=function(l){return arguments.length?(u=Math.min(1,f=+l),h()):u},e.paddingInner=function(l){return arguments.length?(u=Math.min(1,l),h()):u},e.paddingOuter=function(l){return arguments.length?(f=+l,h()):f},e.align=function(l){return arguments.length?(c=Math.max(0,Math.min(1,l)),h()):c},e.copy=function(){return As(t(),[n,i]).round(a).paddingInner(u).paddingOuter(f).align(c)},mt.apply(h(),arguments)}function Zc(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function zt(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ve(e){return e=zt(Math.abs(e)),e?e[1]:NaN}function Qc(e,t){return function(r,n){for(var i=r.length,o=[],s=0,a=e[0],u=0;i>0&&a>0&&(u+a+1>n&&(a=Math.max(1,n-u)),o.push(r.substring(i-=a,i+a)),!((u+=a+1)>n));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function Jc(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var VE=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vt(e){if(!(t=VE.exec(e)))throw new Error("invalid format: "+e);var t;return new bi({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}vt.prototype=bi.prototype;function bi(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function eh(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Ss;function th(e,t){var r=zt(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(Ss=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+zt(e,Math.max(0,t+o-1))[0]}function Ts(e,t){var r=zt(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}var ks={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Zc,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ts(e*100,t),r:Ts,s:th,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ns(e){return e}var rh=Array.prototype.map,nh=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function ih(e){var t=e.grouping===void 0||e.thousands===void 0?Ns:Qc(rh.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Ns:Jc(rh.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"\u2212":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(h){h=vt(h);var l=h.fill,p=h.align,m=h.sign,g=h.symbol,v=h.zero,y=h.width,x=h.comma,b=h.precision,_=h.trim,w=h.type;w==="n"?(x=!0,w="g"):ks[w]||(b===void 0&&(b=12),_=!0,w="g"),(v||l==="0"&&p==="=")&&(v=!0,l="0",p="=");var A=g==="$"?r:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=g==="$"?n:/[%p]/.test(w)?s:"",M=ks[w],k=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function q(E){var T=A,C=S,N,$,B;if(w==="c")C=M(E)+C,E="";else{E=+E;var W=E<0||1/E<0;if(E=isNaN(E)?u:M(Math.abs(E),b),_&&(E=eh(E)),W&&+E==0&&m!=="+"&&(W=!1),T=(W?m==="("?m:a:m==="-"||m==="("?"":m)+T,C=(w==="s"?nh[8+Ss/3]:"")+C+(W&&m==="("?")":""),k){for(N=-1,$=E.length;++N<$;)if(B=E.charCodeAt(N),48>B||B>57){C=(B===46?i+E.slice(N+1):E.slice(N))+C,E=E.slice(0,N);break}}}x&&!v&&(E=t(E,1/0));var de=T.length+E.length+C.length,ne=de<y?new Array(y-de+1).join(l):"";switch(x&&v&&(E=t(ne+E,ne.length?y-C.length:1/0),ne=""),p){case"<":E=T+E+C+ne;break;case"=":E=T+ne+E+C;break;case"^":E=ne.slice(0,de=ne.length>>1)+T+E+C+ne.slice(de);break;default:E=ne+T+E+C;break}return o(E)}return q.toString=function(){return h+""},q}function c(h,l){var p=f((h=vt(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(Ve(l)/3)))*3,g=Math.pow(10,-m),v=nh[8+m/3];return function(y){return p(g*y)+v}}return{format:f,formatPrefix:c}}var wi,Ei,qi;Os({thousands:",",grouping:[3],currency:["$",""]});function Os(e){return wi=ih(e),Ei=wi.format,qi=wi.formatPrefix,wi}function Is(e){return Math.max(0,-Ve(Math.abs(e)))}function Ps(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ve(t)/3)))*3-Ve(Math.abs(e)))}function Ls(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ve(t)-Ve(e))+1}function Ds(e){return function(){return e}}function Gs(e){return+e}var oh=[0,1];function pr(e){return e}function Fs(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Ds(isNaN(t)?NaN:.5)}function jE(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function HE(e,t,r){var n=e[0],i=e[1],o=t[0],s=t[1];return i<n?(n=Fs(i,n),o=r(s,o)):(n=Fs(n,i),o=r(o,s)),function(a){return o(n(a))}}function UE(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=Fs(e[s],e[s+1]),o[s]=r(t[s],t[s+1]);return function(a){var u=Zr(e,a,1,n)-1;return o[u](i[u](a))}}function sh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function YE(){var e=oh,t=oh,r=$t,n,i,o,s=pr,a,u,f;function c(){var l=Math.min(e.length,t.length);return s!==pr&&(s=jE(e[0],e[l-1])),a=l>2?UE:HE,u=f=null,h}function h(l){return l==null||isNaN(l=+l)?o:(u||(u=a(e.map(n),t,r)))(n(s(l)))}return h.invert=function(l){return s(i((f||(f=a(t,e.map(n),oe)))(l)))},h.domain=function(l){return arguments.length?(e=Array.from(l,Gs),c()):e.slice()},h.range=function(l){return arguments.length?(t=Array.from(l),c()):t.slice()},h.rangeRound=function(l){return t=Array.from(l),r=xs,c()},h.clamp=function(l){return arguments.length?(s=l?!0:pr,c()):s!==pr},h.interpolate=function(l){return arguments.length?(r=l,c()):r},h.unknown=function(l){return arguments.length?(o=l,h):o},function(l,p){return n=l,i=p,c()}}function Rs(){return YE()(pr,pr)}function $s(e,t,r,n){var i=Ms(e,t,r),o;switch(n=vt(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=Ps(i,s))&&(n.precision=o),qi(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=Ls(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=Is(i))&&(n.precision=o-(n.type==="%")*2);break}}return Ei(n)}function XE(e){var t=e.domain;return e.ticks=function(r){var n=t();return _i(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return $s(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,s=n[i],a=n[o],u,f,c=10;for(a<s&&(f=s,s=a,a=f,f=i,i=o,o=f);c-- >0;){if(f=Qr(s,a,r),f===u)return n[i]=s,n[o]=a,t(n);if(f>0)s=Math.floor(s/f)*f,a=Math.ceil(a/f)*f;else if(f<0)s=Math.ceil(s*f)/f,a=Math.floor(a*f)/f;else break;u=f}return e},e}function Bs(){var e=Rs();return e.copy=function(){return sh(e,Bs())},mt.apply(e,arguments),XE(e)}function zs(){var e=[],t=[],r=[],n;function i(){var s=0,a=Math.max(1,t.length);for(r=new Array(a-1);++s<a;)r[s-1]=Es(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?n:t[Zr(r,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?r[a-1]:e[0],a<r.length?r[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ze),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(n=s,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return zs().domain(e).range(t).unknown(n)},mt.apply(o,arguments)}var Vs={};Vo(Vs,{dispatch:()=>dr});var WE={value:()=>{}};function uh(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Mi(r)}function Mi(e){this._=e}function KE(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Mi.prototype=uh.prototype={constructor:Mi,on:function(e,t){var r=this._,n=KE(e+"",r),i,o=-1,s=n.length;if(arguments.length<2){for(;++o<s;)if((i=(e=n[o]).type)&&(i=ZE(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=n[o]).type)r[i]=ah(r[i],e.name,t);else if(t==null)for(i in r)r[i]=ah(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Mi(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,o;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,i=o.length;n<i;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,o=n.length;i<o;++i)n[i].value.apply(t,r)}};function ZE(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function ah(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=WE,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var dr=uh;var Us={};Vo(Us,{interval:()=>lh,now:()=>yt,timeout:()=>nn,timer:()=>Ht,timerFlush:()=>Hs});var gr=0,en=0,Jr=0,ch=1e3,Ci,tn,Ai=0,Vt=0,Si=0,rn=typeof performance=="object"&&performance.now?performance:Date,hh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function yt(){return Vt||(hh(QE),Vt=rn.now()+Si)}function QE(){Vt=0}function jt(){this._call=this._time=this._next=null}jt.prototype=Ht.prototype={constructor:jt,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?yt():+r)+(t==null?0:+t),!this._next&&tn!==this&&(tn?tn._next=this:Ci=this,tn=this),this._call=e,this._time=r,js()},stop:function(){this._call&&(this._call=null,this._time=1/0,js())}};function Ht(e,t,r){var n=new jt;return n.restart(e,t,r),n}function Hs(){yt(),++gr;for(var e=Ci,t;e;)(t=Vt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--gr}function fh(){Vt=(Ai=rn.now())+Si,gr=en=0;try{Hs()}finally{gr=0,eq(),Vt=0}}function JE(){var e=rn.now(),t=e-Ai;t>ch&&(Si-=t,Ai=e)}function eq(){for(var e,t=Ci,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Ci=r);tn=e,js(n)}function js(e){if(!gr){en&&(en=clearTimeout(en));var t=e-Vt;t>24?(e<1/0&&(en=setTimeout(fh,e-rn.now()-Si)),Jr&&(Jr=clearInterval(Jr))):(Jr||(Ai=rn.now(),Jr=setInterval(JE,ch)),gr=1,hh(fh))}}function nn(e,t,r){var n=new jt;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}function lh(e,t,r){var n=new jt,i=t;return t==null?(n.restart(e,t,r),n):(n._restart=n.restart,n.restart=function(o,s,a){s=+s,a=a==null?yt():+a,n._restart(function u(f){f+=i,n._restart(u,i+=s,a),o(f)},s,a)},n.restart(e,t,r),n)}var tq=dr("start","end","cancel","interrupt"),rq=[],gh=0,ph=1,ki=2,Ti=3,dh=4,Ni=5,on=6;function xt(e,t,r,n,i,o){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;nq(e,r,{name:t,index:n,group:i,on:tq,tween:rq,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:gh})}function sn(e,t){var r=te(e,t);if(r.state>gh)throw new Error("too late; already scheduled");return r}function se(e,t){var r=te(e,t);if(r.state>Ti)throw new Error("too late; already running");return r}function te(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function nq(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=Ht(o,0,r.time);function o(f){r.state=ph,r.timer.restart(s,r.delay,r.time),r.delay<=f&&s(f-r.delay)}function s(f){var c,h,l,p;if(r.state!==ph)return u();for(c in n)if(p=n[c],p.name===r.name){if(p.state===Ti)return nn(s);p.state===dh?(p.state=on,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[c]):+c<t&&(p.state=on,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[c])}if(nn(function(){r.state===Ti&&(r.state=dh,r.timer.restart(a,r.delay,r.time),a(f))}),r.state=ki,r.on.call("start",e,e.__data__,r.index,r.group),r.state===ki){for(r.state=Ti,i=new Array(l=r.tween.length),c=0,h=-1;c<l;++c)(p=r.tween[c].value.call(e,e.__data__,r.index,r.group))&&(i[++h]=p);i.length=h+1}}function a(f){for(var c=f<r.duration?r.ease.call(null,f/r.duration):(r.timer.restart(u),r.state=Ni,1),h=-1,l=i.length;++h<l;)i[h].call(e,c);r.state===Ni&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=on,r.timer.stop(),delete n[t];for(var f in n)return;delete e.__transition}}function mh(e,t){var r=e.__transition,n,i,o=!0,s;if(r){t=t==null?null:t+"";for(s in r){if((n=r[s]).name!==t){o=!1;continue}i=n.state>ki&&n.state<Ni,n.state=on,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[s]}o&&delete e.__transition}}function vh(e){return this.each(function(){mh(this,e)})}function iq(e,t){var r,n;return function(){var i=se(this,e),o=i.tween;if(o!==r){n=r=o;for(var s=0,a=n.length;s<a;++s)if(n[s].name===t){n=n.slice(),n.splice(s,1);break}}i.tween=n}}function oq(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var o=se(this,e),s=o.tween;if(s!==n){i=(n=s).slice();for(var a={name:t,value:r},u=0,f=i.length;u<f;++u)if(i[u].name===t){i[u]=a;break}u===f&&i.push(a)}o.tween=i}}function yh(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=te(this.node(),r).tween,i=0,o=n.length,s;i<o;++i)if((s=n[i]).name===e)return s.value;return null}return this.each((t==null?iq:oq)(r,e,t))}function mr(e,t,r){var n=e._id;return e.each(function(){var i=se(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return te(i,n).value[t]}}function Oi(e,t){var r;return(typeof t=="number"?oe:t instanceof Le?Rt:(r=Le(t))?(t=r,Rt):Wr)(e,t)}function sq(e){return function(){this.removeAttribute(e)}}function aq(e){return function(){this.removeAttributeNS(e.space,e.local)}}function uq(e,t,r){var n,i=r+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===n?o:o=t(n=s,r)}}function fq(e,t,r){var n,i=r+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===n?o:o=t(n=s,r)}}function cq(e,t,r){var n,i,o;return function(){var s,a=r(this),u;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),u=a+"",s===u?null:s===n&&u===i?o:(i=u,o=t(n=s,a)))}}function hq(e,t,r){var n,i,o;return function(){var s,a=r(this),u;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),u=a+"",s===u?null:s===n&&u===i?o:(i=u,o=t(n=s,a)))}}function xh(e,t){var r=Ke(e),n=r==="transform"?ws:Oi;return this.attrTween(e,typeof t=="function"?(r.local?hq:cq)(r,n,mr(this,"attr."+e,t)):t==null?(r.local?aq:sq)(r):(r.local?fq:uq)(r,n,t))}function lq(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function pq(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function dq(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&pq(e,o)),r}return i._value=t,i}function gq(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&lq(e,o)),r}return i._value=t,i}function _h(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Ke(e);return this.tween(r,(n.local?dq:gq)(n,t))}function mq(e,t){return function(){sn(this,e).delay=+t.apply(this,arguments)}}function vq(e,t){return t=+t,function(){sn(this,e).delay=t}}function bh(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?mq:vq)(t,e)):te(this.node(),t).delay}function yq(e,t){return function(){se(this,e).duration=+t.apply(this,arguments)}}function xq(e,t){return t=+t,function(){se(this,e).duration=t}}function wh(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?yq:xq)(t,e)):te(this.node(),t).duration}function _q(e,t){if(typeof t!="function")throw new Error;return function(){se(this,e).ease=t}}function Eh(e){var t=this._id;return arguments.length?this.each(_q(t,e)):te(this.node(),t).ease}function bq(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;se(this,e).ease=r}}function qh(e){if(typeof e!="function")throw new Error;return this.each(bq(this._id,e))}function Mh(e){typeof e!="function"&&(e=Br(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],s=o.length,a=n[i]=[],u,f=0;f<s;++f)(u=o[f])&&e.call(u,u.__data__,f,o)&&a.push(u);return new ce(n,this._parents,this._name,this._id)}function Ch(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,o=Math.min(n,i),s=new Array(n),a=0;a<o;++a)for(var u=t[a],f=r[a],c=u.length,h=s[a]=new Array(c),l,p=0;p<c;++p)(l=u[p]||f[p])&&(h[p]=l);for(;a<n;++a)s[a]=t[a];return new ce(s,this._parents,this._name,this._id)}function wq(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function Eq(e,t,r){var n,i,o=wq(t)?sn:se;return function(){var s=o(this,e),a=s.on;a!==n&&(i=(n=a).copy()).on(t,r),s.on=i}}function Ah(e,t){var r=this._id;return arguments.length<2?te(this.node(),r).on.on(e):this.each(Eq(r,e,t))}function qq(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function Sh(){return this.on("end.remove",qq(this._id))}function Th(e){var t=this._name,r=this._id;typeof e!="function"&&(e=It(e));for(var n=this._groups,i=n.length,o=new Array(i),s=0;s<i;++s)for(var a=n[s],u=a.length,f=o[s]=new Array(u),c,h,l=0;l<u;++l)(c=a[l])&&(h=e.call(c,c.__data__,l,a))&&("__data__"in c&&(h.__data__=c.__data__),f[l]=h,xt(f[l],t,r,l,f,te(c,r)));return new ce(o,this._parents,t,r)}function kh(e){var t=this._name,r=this._id;typeof e!="function"&&(e=$r(e));for(var n=this._groups,i=n.length,o=[],s=[],a=0;a<i;++a)for(var u=n[a],f=u.length,c,h=0;h<f;++h)if(c=u[h]){for(var l=e.call(c,c.__data__,h,u),p,m=te(c,r),g=0,v=l.length;g<v;++g)(p=l[g])&&xt(p,t,r,g,l,m);o.push(l),s.push(c)}return new ce(o,s,t,r)}var Mq=Ze.prototype.constructor;function Nh(){return new Mq(this._groups,this._parents)}function Cq(e,t){var r,n,i;return function(){var o=dt(this,e),s=(this.style.removeProperty(e),dt(this,e));return o===s?null:o===r&&s===n?i:i=t(r=o,n=s)}}function Oh(e){return function(){this.style.removeProperty(e)}}function Aq(e,t,r){var n,i=r+"",o;return function(){var s=dt(this,e);return s===i?null:s===n?o:o=t(n=s,r)}}function Sq(e,t,r){var n,i,o;return function(){var s=dt(this,e),a=r(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(e),dt(this,e))),s===u?null:s===n&&u===i?o:(i=u,o=t(n=s,a))}}function Tq(e,t){var r,n,i,o="style."+t,s="end."+o,a;return function(){var u=se(this,e),f=u.on,c=u.value[o]==null?a||(a=Oh(t)):void 0;(f!==r||i!==c)&&(n=(r=f).copy()).on(s,i=c),u.on=n}}function Ih(e,t,r){var n=(e+="")=="transform"?bs:Oi;return t==null?this.styleTween(e,Cq(e,n)).on("end.style."+e,Oh(e)):typeof t=="function"?this.styleTween(e,Sq(e,n,mr(this,"style."+e,t))).each(Tq(this._id,e)):this.styleTween(e,Aq(e,n,t),r).on("end.style."+e,null)}function kq(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function Nq(e,t,r){var n,i;function o(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&kq(e,s,r)),n}return o._value=t,o}function Ph(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Nq(e,t,r??""))}function Oq(e){return function(){this.textContent=e}}function Iq(e){return function(){var t=e(this);this.textContent=t??""}}function Lh(e){return this.tween("text",typeof e=="function"?Iq(mr(this,"text",e)):Oq(e==null?"":e+""))}function Pq(e){return function(t){this.textContent=e.call(this,t)}}function Lq(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&Pq(i)),t}return n._value=e,n}function Dh(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Lq(e))}function Gh(){for(var e=this._name,t=this._id,r=Ii(),n=this._groups,i=n.length,o=0;o<i;++o)for(var s=n[o],a=s.length,u,f=0;f<a;++f)if(u=s[f]){var c=te(u,t);xt(u,e,r,f,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ce(n,this._parents,e,r)}function Fh(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};r.each(function(){var f=se(this,n),c=f.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(u)),f.on=t}),i===0&&o()})}var Dq=0;function ce(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function Rh(e){return Ze().transition(e)}function Ii(){return++Dq}var Qe=Ze.prototype;ce.prototype=Rh.prototype={constructor:ce,select:Th,selectAll:kh,selectChild:Qe.selectChild,selectChildren:Qe.selectChildren,filter:Mh,merge:Ch,selection:Nh,transition:Gh,call:Qe.call,nodes:Qe.nodes,node:Qe.node,size:Qe.size,empty:Qe.empty,each:Qe.each,on:Ah,attr:xh,attrTween:_h,style:Ih,styleTween:Ph,text:Lh,textTween:Dh,remove:Sh,tween:yh,delay:bh,duration:wh,ease:Eh,easeVarying:qh,end:Fh,[Symbol.iterator]:Qe[Symbol.iterator]};var Gq={time:null,delay:0,duration:250,ease:ui};function Fq(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function $h(e){var t,r;e instanceof ce?(t=e._id,e=e._name):(t=Ii(),(r=Gq).time=yt(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var s=n[o],a=s.length,u,f=0;f<a;++f)(u=s[f])&&xt(u,e,t,f,s,r||Fq(u,t));return new ce(n,this._parents,e,t)}Ze.prototype.interrupt=vh;Ze.prototype.transition=$h;function Bh(){return{a:1,c:0,e:0,b:0,d:1,f:0}}function an(e){return typeof e>"u"}function Je(e,t=0){return{a:1,c:0,e,b:0,d:1,f:t}}function et(...e){e=Array.isArray(e[0])?e[0]:e;let t=(r,n)=>({a:r.a*n.a+r.c*n.b,c:r.a*n.c+r.c*n.d,e:r.a*n.e+r.c*n.f+r.e,b:r.b*n.a+r.d*n.b,d:r.b*n.c+r.d*n.d,f:r.b*n.e+r.d*n.f+r.f});switch(e.length){case 0:throw new Error("no matrices provided");case 1:return e[0];case 2:return t(e[0],e[1]);default:{let[r,n,...i]=e,o=t(r,n);return et(o,...i)}}}var{cos:X9,sin:W9,PI:K9}=Math;function un(e,t=void 0,r=void 0,n=void 0){an(t)&&(t=e);let i={a:e,c:0,e:0,b:0,d:t,f:0};return an(r)||an(n)?i:et([Je(r,n),i,Je(-r,-n)])}var{tan:nY}=Math;function zh(e){return Rq(e)}function Rq(e){return`matrix(${e.a},${e.b},${e.c},${e.d},${e.e},${e.f})`}function Ys(e,t=1e10){return{a:Math.round(e.a*t)/t,b:Math.round(e.b*t)/t,c:Math.round(e.c*t)/t,d:Math.round(e.d*t)/t,e:Math.round(e.e*t)/t,f:Math.round(e.f*t)/t}}function $q(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}function Pi(e,t,r,n){var i=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(i,Pi.prototype),i.expected=t,i.found=r,i.location=n,i.name="SyntaxError",i}$q(Pi,Error);function Xs(e,t,r){return r=r||" ",e.length>t?e:(t-=e.length,r+=r.repeat(t),e+r.slice(0,t))}Pi.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var r=null,n;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){r=e[n].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,o=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(i):i,s=this.location.source+":"+o.line+":"+o.column;if(r){var a=this.location.end,u=Xs("",o.line.toString().length," "),f=r[i.line-1],c=i.line===a.line?a.column:f.length+1,h=c-i.column||1;t+=`
 --> `+s+`
`+u+` |
`+o.line+" | "+f+`
`+u+" | "+Xs("",i.column-1," ")+Xs("",h,"^")}else t+=`
 at `+s}return t};Pi.buildMessage=function(e,t){var r={literal:function(f){return'"'+i(f.text)+'"'},class:function(f){var c=f.parts.map(function(h){return Array.isArray(h)?o(h[0])+"-"+o(h[1]):o(h)});return"["+(f.inverted?"^":"")+c.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(f){return f.description}};function n(f){return f.charCodeAt(0).toString(16).toUpperCase()}function i(f){return f.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(c){return"\\x0"+n(c)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(c){return"\\x"+n(c)})}function o(f){return f.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(c){return"\\x0"+n(c)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(c){return"\\x"+n(c)})}function s(f){return r[f.type](f)}function a(f){var c=f.map(s),h,l;if(c.sort(),c.length>0){for(h=1,l=1;h<c.length;h++)c[h-1]!==c[h]&&(c[l]=c[h],l++);c.length=l}switch(c.length){case 1:return c[0];case 2:return c[0]+" or "+c[1];default:return c.slice(0,-1).join(", ")+", or "+c[c.length-1]}}function u(f){return f?'"'+i(f)+'"':"end of input"}return"Expected "+a(e)+" but "+u(t)+" found."};var kt=nf(Rb(),1);var Eu={};Vo(Eu,{forceCenter:()=>$b,forceCollide:()=>lo,forceLink:()=>po,forceManyBody:()=>mo,forceRadial:()=>fw,forceSimulation:()=>go,forceX:()=>cw,forceY:()=>hw});function $b(e,t){var r,n=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,s=r.length,a,u=0,f=0;for(o=0;o<s;++o)a=r[o],u+=a.x,f+=a.y;for(u=(u/s-e)*n,f=(f/s-t)*n,o=0;o<s;++o)a=r[o],a.x-=u,a.y-=f}return i.initialize=function(o){r=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(n=+o,i):n},i}function Bb(e){let t=+this._x.call(null,e),r=+this._y.call(null,e);return zb(this.cover(t,r),t,r,e)}function zb(e,t,r,n){if(isNaN(t)||isNaN(r))return e;var i,o=e._root,s={data:n},a=e._x0,u=e._y0,f=e._x1,c=e._y1,h,l,p,m,g,v,y,x;if(!o)return e._root=s,e;for(;o.length;)if((g=t>=(h=(a+f)/2))?a=h:f=h,(v=r>=(l=(u+c)/2))?u=l:c=l,i=o,!(o=o[y=v<<1|g]))return i[y]=s,e;if(p=+e._x.call(null,o.data),m=+e._y.call(null,o.data),t===p&&r===m)return s.next=o,i?i[y]=s:e._root=s,e;do i=i?i[y]=new Array(4):e._root=new Array(4),(g=t>=(h=(a+f)/2))?a=h:f=h,(v=r>=(l=(u+c)/2))?u=l:c=l;while((y=v<<1|g)===(x=(m>=l)<<1|p>=h));return i[x]=o,i[y]=s,e}function Vb(e){var t,r,n=e.length,i,o,s=new Array(n),a=new Array(n),u=1/0,f=1/0,c=-1/0,h=-1/0;for(r=0;r<n;++r)isNaN(i=+this._x.call(null,t=e[r]))||isNaN(o=+this._y.call(null,t))||(s[r]=i,a[r]=o,i<u&&(u=i),i>c&&(c=i),o<f&&(f=o),o>h&&(h=o));if(u>c||f>h)return this;for(this.cover(u,f).cover(c,h),r=0;r<n;++r)zb(this,s[r],a[r],e[r]);return this}function jb(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var r=this._x0,n=this._y0,i=this._x1,o=this._y1;if(isNaN(r))i=(r=Math.floor(e))+1,o=(n=Math.floor(t))+1;else{for(var s=i-r||1,a=this._root,u,f;r>e||e>=i||n>t||t>=o;)switch(f=(t<n)<<1|e<r,u=new Array(4),u[f]=a,a=u,s*=2,f){case 0:i=r+s,o=n+s;break;case 1:r=i-s,o=n+s;break;case 2:i=r+s,n=o-s;break;case 3:r=i-s,n=o-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=r,this._y0=n,this._x1=i,this._y1=o,this}function Hb(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function Ub(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function re(e,t,r,n,i){this.node=e,this.x0=t,this.y0=r,this.x1=n,this.y1=i}function Yb(e,t,r){var n,i=this._x0,o=this._y0,s,a,u,f,c=this._x1,h=this._y1,l=[],p=this._root,m,g;for(p&&l.push(new re(p,i,o,c,h)),r==null?r=1/0:(i=e-r,o=t-r,c=e+r,h=t+r,r*=r);m=l.pop();)if(!(!(p=m.node)||(s=m.x0)>c||(a=m.y0)>h||(u=m.x1)<i||(f=m.y1)<o))if(p.length){var v=(s+u)/2,y=(a+f)/2;l.push(new re(p[3],v,y,u,f),new re(p[2],s,y,v,f),new re(p[1],v,a,u,y),new re(p[0],s,a,v,y)),(g=(t>=y)<<1|e>=v)&&(m=l[l.length-1],l[l.length-1]=l[l.length-1-g],l[l.length-1-g]=m)}else{var x=e-+this._x.call(null,p.data),b=t-+this._y.call(null,p.data),_=x*x+b*b;if(_<r){var w=Math.sqrt(r=_);i=e-w,o=t-w,c=e+w,h=t+w,n=p.data}}return n}function Xb(e){if(isNaN(c=+this._x.call(null,e))||isNaN(h=+this._y.call(null,e)))return this;var t,r=this._root,n,i,o,s=this._x0,a=this._y0,u=this._x1,f=this._y1,c,h,l,p,m,g,v,y;if(!r)return this;if(r.length)for(;;){if((m=c>=(l=(s+u)/2))?s=l:u=l,(g=h>=(p=(a+f)/2))?a=p:f=p,t=r,!(r=r[v=g<<1|m]))return this;if(!r.length)break;(t[v+1&3]||t[v+2&3]||t[v+3&3])&&(n=t,y=v)}for(;r.data!==e;)if(i=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,i?(o?i.next=o:delete i.next,this):t?(o?t[v]=o:delete t[v],(r=t[0]||t[1]||t[2]||t[3])&&r===(t[3]||t[2]||t[1]||t[0])&&!r.length&&(n?n[y]=r:this._root=r),this):(this._root=o,this)}function Wb(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this}function Kb(){return this._root}function Zb(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function Qb(e){var t=[],r,n=this._root,i,o,s,a,u;for(n&&t.push(new re(n,this._x0,this._y0,this._x1,this._y1));r=t.pop();)if(!e(n=r.node,o=r.x0,s=r.y0,a=r.x1,u=r.y1)&&n.length){var f=(o+a)/2,c=(s+u)/2;(i=n[3])&&t.push(new re(i,f,c,a,u)),(i=n[2])&&t.push(new re(i,o,c,f,u)),(i=n[1])&&t.push(new re(i,f,s,a,c)),(i=n[0])&&t.push(new re(i,o,s,f,c))}return this}function Jb(e){var t=[],r=[],n;for(this._root&&t.push(new re(this._root,this._x0,this._y0,this._x1,this._y1));n=t.pop();){var i=n.node;if(i.length){var o,s=n.x0,a=n.y0,u=n.x1,f=n.y1,c=(s+u)/2,h=(a+f)/2;(o=i[0])&&t.push(new re(o,s,a,c,h)),(o=i[1])&&t.push(new re(o,c,a,u,h)),(o=i[2])&&t.push(new re(o,s,h,c,f)),(o=i[3])&&t.push(new re(o,c,h,u,f))}r.push(n)}for(;n=r.pop();)e(n.node,n.x0,n.y0,n.x1,n.y1);return this}function ew(e){return e[0]}function tw(e){return arguments.length?(this._x=e,this):this._x}function rw(e){return e[1]}function nw(e){return arguments.length?(this._y=e,this):this._y}function tr(e,t,r){var n=new wu(t??ew,r??rw,NaN,NaN,NaN,NaN);return e==null?n:n.addAll(e)}function wu(e,t,r,n,i,o){this._x=e,this._y=t,this._x0=r,this._y0=n,this._x1=i,this._y1=o,this._root=void 0}function iw(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var le=tr.prototype=wu.prototype;le.copy=function(){var e=new wu(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,r,n;if(!t)return e;if(!t.length)return e._root=iw(t),e;for(r=[{source:t,target:e._root=new Array(4)}];t=r.pop();)for(var i=0;i<4;++i)(n=t.source[i])&&(n.length?r.push({source:n,target:t.target[i]=new Array(4)}):t.target[i]=iw(n));return e};le.add=Bb;le.addAll=Vb;le.cover=jb;le.data=Hb;le.extent=Ub;le.find=Yb;le.remove=Xb;le.removeAll=Wb;le.root=Kb;le.size=Zb;le.visit=Qb;le.visitAfter=Jb;le.x=tw;le.y=nw;function H(e){return function(){return e}}function Ge(e){return(e()-.5)*1e-6}function r4(e){return e.x+e.vx}function n4(e){return e.y+e.vy}function lo(e){var t,r,n,i=1,o=1;typeof e!="function"&&(e=H(e==null?1:+e));function s(){for(var f,c=t.length,h,l,p,m,g,v,y=0;y<o;++y)for(h=tr(t,r4,n4).visitAfter(a),f=0;f<c;++f)l=t[f],g=r[l.index],v=g*g,p=l.x+l.vx,m=l.y+l.vy,h.visit(x);function x(b,_,w,A,S){var M=b.data,k=b.r,q=g+k;if(M){if(M.index>l.index){var E=p-M.x-M.vx,T=m-M.y-M.vy,C=E*E+T*T;C<q*q&&(E===0&&(E=Ge(n),C+=E*E),T===0&&(T=Ge(n),C+=T*T),C=(q-(C=Math.sqrt(C)))/C*i,l.vx+=(E*=C)*(q=(k*=k)/(v+k)),l.vy+=(T*=C)*q,M.vx-=E*(q=1-q),M.vy-=T*q)}return}return _>p+q||A<p-q||w>m+q||S<m-q}}function a(f){if(f.data)return f.r=r[f.data.index];for(var c=f.r=0;c<4;++c)f[c]&&f[c].r>f.r&&(f.r=f[c].r)}function u(){if(t){var f,c=t.length,h;for(r=new Array(c),f=0;f<c;++f)h=t[f],r[h.index]=+e(h,f,t)}}return s.initialize=function(f,c){t=f,n=c,u()},s.iterations=function(f){return arguments.length?(o=+f,s):o},s.strength=function(f){return arguments.length?(i=+f,s):i},s.radius=function(f){return arguments.length?(e=typeof f=="function"?f:H(+f),u(),s):e},s}function i4(e){return e.index}function ow(e,t){var r=e.get(t);if(!r)throw new Error("node not found: "+t);return r}function po(e){var t=i4,r=h,n,i=H(30),o,s,a,u,f,c=1;e==null&&(e=[]);function h(v){return 1/Math.min(a[v.source.index],a[v.target.index])}function l(v){for(var y=0,x=e.length;y<c;++y)for(var b=0,_,w,A,S,M,k,q;b<x;++b)_=e[b],w=_.source,A=_.target,S=A.x+A.vx-w.x-w.vx||Ge(f),M=A.y+A.vy-w.y-w.vy||Ge(f),k=Math.sqrt(S*S+M*M),k=(k-o[b])/k*v*n[b],S*=k,M*=k,A.vx-=S*(q=u[b]),A.vy-=M*q,w.vx+=S*(q=1-q),w.vy+=M*q}function p(){if(s){var v,y=s.length,x=e.length,b=new Map(s.map((w,A)=>[t(w,A,s),w])),_;for(v=0,a=new Array(y);v<x;++v)_=e[v],_.index=v,typeof _.source!="object"&&(_.source=ow(b,_.source)),typeof _.target!="object"&&(_.target=ow(b,_.target)),a[_.source.index]=(a[_.source.index]||0)+1,a[_.target.index]=(a[_.target.index]||0)+1;for(v=0,u=new Array(x);v<x;++v)_=e[v],u[v]=a[_.source.index]/(a[_.source.index]+a[_.target.index]);n=new Array(x),m(),o=new Array(x),g()}}function m(){if(s)for(var v=0,y=e.length;v<y;++v)n[v]=+r(e[v],v,e)}function g(){if(s)for(var v=0,y=e.length;v<y;++v)o[v]=+i(e[v],v,e)}return l.initialize=function(v,y){s=v,f=y,p()},l.links=function(v){return arguments.length?(e=v,p(),l):e},l.id=function(v){return arguments.length?(t=v,l):t},l.iterations=function(v){return arguments.length?(c=+v,l):c},l.strength=function(v){return arguments.length?(r=typeof v=="function"?v:H(+v),m(),l):r},l.distance=function(v){return arguments.length?(i=typeof v=="function"?v:H(+v),g(),l):i},l}function sw(){let e=1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}function aw(e){return e.x}function uw(e){return e.y}var o4=10,s4=Math.PI*(3-Math.sqrt(5));function go(e){var t,r=1,n=.001,i=1-Math.pow(n,1/300),o=0,s=.6,a=new Map,u=Ht(h),f=dr("tick","end"),c=sw();e==null&&(e=[]);function h(){l(),f.call("tick",t),r<n&&(u.stop(),f.call("end",t))}function l(g){var v,y=e.length,x;g===void 0&&(g=1);for(var b=0;b<g;++b)for(r+=(o-r)*i,a.forEach(function(_){_(r)}),v=0;v<y;++v)x=e[v],x.fx==null?x.x+=x.vx*=s:(x.x=x.fx,x.vx=0),x.fy==null?x.y+=x.vy*=s:(x.y=x.fy,x.vy=0);return t}function p(){for(var g=0,v=e.length,y;g<v;++g){if(y=e[g],y.index=g,y.fx!=null&&(y.x=y.fx),y.fy!=null&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var x=o4*Math.sqrt(.5+g),b=g*s4;y.x=x*Math.cos(b),y.y=x*Math.sin(b)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function m(g){return g.initialize&&g.initialize(e,c),g}return p(),t={tick:l,restart:function(){return u.restart(h),t},stop:function(){return u.stop(),t},nodes:function(g){return arguments.length?(e=g,p(),a.forEach(m),t):e},alpha:function(g){return arguments.length?(r=+g,t):r},alphaMin:function(g){return arguments.length?(n=+g,t):n},alphaDecay:function(g){return arguments.length?(i=+g,t):+i},alphaTarget:function(g){return arguments.length?(o=+g,t):o},velocityDecay:function(g){return arguments.length?(s=1-g,t):1-s},randomSource:function(g){return arguments.length?(c=g,a.forEach(m),t):c},force:function(g,v){return arguments.length>1?(v==null?a.delete(g):a.set(g,m(v)),t):a.get(g)},find:function(g,v,y){var x=0,b=e.length,_,w,A,S,M;for(y==null?y=1/0:y*=y,x=0;x<b;++x)S=e[x],_=g-S.x,w=v-S.y,A=_*_+w*w,A<y&&(M=S,y=A);return M},on:function(g,v){return arguments.length>1?(f.on(g,v),t):f.on(g)}}}function mo(){var e,t,r,n,i=H(-30),o,s=1,a=1/0,u=.81;function f(p){var m,g=e.length,v=tr(e,aw,uw).visitAfter(h);for(n=p,m=0;m<g;++m)t=e[m],v.visit(l)}function c(){if(e){var p,m=e.length,g;for(o=new Array(m),p=0;p<m;++p)g=e[p],o[g.index]=+i(g,p,e)}}function h(p){var m=0,g,v,y=0,x,b,_;if(p.length){for(x=b=_=0;_<4;++_)(g=p[_])&&(v=Math.abs(g.value))&&(m+=g.value,y+=v,x+=v*g.x,b+=v*g.y);p.x=x/y,p.y=b/y}else{g=p,g.x=g.data.x,g.y=g.data.y;do m+=o[g.data.index];while(g=g.next)}p.value=m}function l(p,m,g,v){if(!p.value)return!0;var y=p.x-t.x,x=p.y-t.y,b=v-m,_=y*y+x*x;if(b*b/u<_)return _<a&&(y===0&&(y=Ge(r),_+=y*y),x===0&&(x=Ge(r),_+=x*x),_<s&&(_=Math.sqrt(s*_)),t.vx+=y*p.value*n/_,t.vy+=x*p.value*n/_),!0;if(p.length||_>=a)return;(p.data!==t||p.next)&&(y===0&&(y=Ge(r),_+=y*y),x===0&&(x=Ge(r),_+=x*x),_<s&&(_=Math.sqrt(s*_)));do p.data!==t&&(b=o[p.data.index]*n/_,t.vx+=y*b,t.vy+=x*b);while(p=p.next)}return f.initialize=function(p,m){e=p,r=m,c()},f.strength=function(p){return arguments.length?(i=typeof p=="function"?p:H(+p),c(),f):i},f.distanceMin=function(p){return arguments.length?(s=p*p,f):Math.sqrt(s)},f.distanceMax=function(p){return arguments.length?(a=p*p,f):Math.sqrt(a)},f.theta=function(p){return arguments.length?(u=p*p,f):Math.sqrt(u)},f}function fw(e,t,r){var n,i=H(.1),o,s;typeof e!="function"&&(e=H(+e)),t==null&&(t=0),r==null&&(r=0);function a(f){for(var c=0,h=n.length;c<h;++c){var l=n[c],p=l.x-t||1e-6,m=l.y-r||1e-6,g=Math.sqrt(p*p+m*m),v=(s[c]-g)*o[c]*f/g;l.vx+=p*v,l.vy+=m*v}}function u(){if(n){var f,c=n.length;for(o=new Array(c),s=new Array(c),f=0;f<c;++f)s[f]=+e(n[f],f,n),o[f]=isNaN(s[f])?0:+i(n[f],f,n)}}return a.initialize=function(f){n=f,u()},a.strength=function(f){return arguments.length?(i=typeof f=="function"?f:H(+f),u(),a):i},a.radius=function(f){return arguments.length?(e=typeof f=="function"?f:H(+f),u(),a):e},a.x=function(f){return arguments.length?(t=+f,a):t},a.y=function(f){return arguments.length?(r=+f,a):r},a}function cw(e){var t=H(.1),r,n,i;typeof e!="function"&&(e=H(e==null?0:+e));function o(a){for(var u=0,f=r.length,c;u<f;++u)c=r[u],c.vx+=(i[u]-c.x)*n[u]*a}function s(){if(r){var a,u=r.length;for(n=new Array(u),i=new Array(u),a=0;a<u;++a)n[a]=isNaN(i[a]=+e(r[a],a,r))?0:+t(r[a],a,r)}}return o.initialize=function(a){r=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:H(+a),s(),o):t},o.x=function(a){return arguments.length?(e=typeof a=="function"?a:H(+a),s(),o):e},o}function hw(e){var t=H(.1),r,n,i;typeof e!="function"&&(e=H(e==null?0:+e));function o(a){for(var u=0,f=r.length,c;u<f;++u)c=r[u],c.vy+=(i[u]-c.y)*n[u]*a}function s(){if(r){var a,u=r.length;for(n=new Array(u),i=new Array(u),a=0;a<u;++a)n[a]=isNaN(i[a]=+e(r[a],a,r))?0:+t(r[a],a,r)}}return o.initialize=function(a){r=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:H(+a),s(),o):t},o.y=function(a){return arguments.length?(e=typeof a=="function"?a:H(+a),s(),o):e},o}var o1=nf(Qw(),1);var m5=["linkTemplate"],v5=["nodeTemplate"],y5=["clusterTemplate"],x5=["defsTemplate"],_5=["miniMapNodeTemplate"],b5=["nodeElement"],w5=["linkElement"],E5=["*"],Fr=e=>({$implicit:e});function q5(e,t){if(e&1&&(K(),ht(0,19)),e&2){let r=D(2);F("ngTemplateOutlet",r.defsTemplate)}}function M5(e,t){if(e&1&&(K(),ct(0,"path",20)),e&2){let r=t.$implicit;Q("d",r.textPath)("id",r.id)}}function C5(e,t){if(e&1&&(K(),ht(0,24)),e&2){let r=D().$implicit,n=D(2);F("ngTemplateOutlet",n.clusterTemplate)("ngTemplateOutletContext",Ot(2,Fr,r))}}function A5(e,t){if(e&1&&(K(),Y(0,"g",25),ct(1,"rect"),Y(2,"text",26),Jo(3),ee()()),e&2){let r=D().$implicit;G(),Q("width",r.dimension.width)("height",r.dimension.height)("fill",r.data==null?null:r.data.color),G(),Q("x",10)("y",r.dimension.height/2),G(),es(" ",r.label," ")}}function S5(e,t){if(e&1){let r=sr();K(),Y(0,"g",21,1),Oe("click",function(){let i=ke(r).$implicit,o=D(2);return Ne(o.onClick(i))}),ge(2,C5,1,4,"ng-container",22)(3,A5,4,6,"g",23),ee()}if(e&2){let r=t.$implicit,n=D(2);or("old-node",n.animate&&n.oldClusters.has(r.id)),F("id",r.id),Q("transform",r.transform),G(2),F("ngIf",n.clusterTemplate&&!r.hidden),G(),F("ngIf",!n.clusterTemplate)}}function T5(e,t){if(e&1&&(K(),ht(0,24)),e&2){let r=D().$implicit,n=D(2);F("ngTemplateOutlet",n.nodeTemplate)("ngTemplateOutletContext",Ot(2,Fr,r))}}function k5(e,t){if(e&1&&(K(),Y(0,"g",29),ct(1,"rect"),Y(2,"text",26),Jo(3),ee()()),e&2){let r=D().$implicit;G(),Q("width",r.dimension.width)("height",r.dimension.height)("fill",r.data==null?null:r.data.color),G(),Q("x",10)("y",r.dimension.height/2),G(),es(" ",r.label," ")}}function N5(e,t){if(e&1){let r=sr();K(),Y(0,"g",27,2),Oe("click",function(){let i=ke(r).$implicit,o=D(2);return Ne(o.onClick(i))})("mousedown",function(i){let o=ke(r).$implicit,s=D(2);return Ne(s.onNodeMouseDown(i,o))}),ge(2,T5,1,4,"ng-container",22)(3,k5,4,6,"g",28),ee()}if(e&2){let r=t.$implicit,n=D(2);or("old-node",n.animate&&n.oldCompoundNodes.has(r.id)),F("id",r.id),Q("transform",r.transform),G(2),F("ngIf",n.nodeTemplate&&!r.hidden),G(),F("ngIf",!n.nodeTemplate)}}function O5(e,t){if(e&1&&(K(),ht(0,24)),e&2){let r=D().$implicit,n=D(2);F("ngTemplateOutlet",n.linkTemplate)("ngTemplateOutletContext",Ot(2,Fr,r))}}function I5(e,t){if(e&1&&(K(),ct(0,"path",32)),e&2){let r=D().$implicit;Q("d",r.line)}}function P5(e,t){if(e&1&&(K(),Y(0,"g",30,3),ge(2,O5,1,4,"ng-container",22)(3,I5,1,1,"path",31),ee()),e&2){let r=t.$implicit,n=D(2);F("id",r.id),G(2),F("ngIf",n.linkTemplate),G(),F("ngIf",!n.linkTemplate)}}function L5(e,t){if(e&1&&(K(),ht(0,24)),e&2){let r=D().$implicit,n=D(2);F("ngTemplateOutlet",n.nodeTemplate)("ngTemplateOutletContext",Ot(2,Fr,r))}}function D5(e,t){if(e&1&&(K(),ct(0,"circle",34)),e&2){let r=D().$implicit;Q("cx",r.dimension.width/2)("cy",r.dimension.height/2)("fill",r.data==null?null:r.data.color)}}function G5(e,t){if(e&1){let r=sr();K(),Y(0,"g",27,2),Oe("click",function(){let i=ke(r).$implicit,o=D(2);return Ne(o.onClick(i))})("mousedown",function(i){let o=ke(r).$implicit,s=D(2);return Ne(s.onNodeMouseDown(i,o))}),ge(2,L5,1,4,"ng-container",22)(3,D5,1,3,"circle",33),ee()}if(e&2){let r=t.$implicit,n=D(2);or("old-node",n.animate&&n.oldNodes.has(r.id)),F("id",r.id),Q("transform",r.transform),G(2),F("ngIf",n.nodeTemplate&&!r.hidden),G(),F("ngIf",!n.nodeTemplate)}}function F5(e,t){if(e&1){let r=sr();K(),Y(0,"g",8),Oe("touchstart",function(i){ke(r);let o=D();return Ne(o.onTouchStart(i))})("touchend",function(){ke(r);let i=D();return Ne(i.onTouchEnd())}),Y(1,"defs"),ge(2,q5,1,1,"ng-container",9)(3,M5,1,2,"path",10),ee(),Y(4,"rect",11),Oe("mousedown",function(){ke(r);let i=D();return Ne(i.isPanning=!0)}),ee(),lf(5),Y(6,"g",12),ge(7,S5,4,6,"g",13),ee(),Y(8,"g",14),ge(9,N5,4,6,"g",15),ee(),Y(10,"g",16),ge(11,P5,4,3,"g",17),ee(),Y(12,"g",18,0),ge(14,G5,4,6,"g",15),ee()()}if(e&2){let r=D();Q("transform",r.transform),G(2),F("ngIf",r.defsTemplate),G(),F("ngForOf",r.graph.edges),G(),Q("width",r.dims.width*100)("height",r.dims.height*100)("transform","translate("+(-r.dims.width||0)*50+","+(-r.dims.height||0)*50+")"),G(3),F("ngForOf",r.graph.clusters)("ngForTrackBy",r.trackNodeBy),G(2),F("ngForOf",r.graph.compoundNodes)("ngForTrackBy",r.trackNodeBy),G(2),F("ngForOf",r.graph.edges)("ngForTrackBy",r.trackLinkBy),G(3),F("ngForOf",r.graph.nodes)("ngForTrackBy",r.trackNodeBy)}}function R5(e,t){if(e&1&&(K(),ht(0,24)),e&2){let r=D().$implicit,n=D(2);F("ngTemplateOutlet",n.miniMapNodeTemplate)("ngTemplateOutletContext",Ot(2,Fr,r))}}function $5(e,t){if(e&1&&(K(),ht(0,24)),e&2){let r=D().$implicit,n=D(2);F("ngTemplateOutlet",n.nodeTemplate)("ngTemplateOutletContext",Ot(2,Fr,r))}}function B5(e,t){if(e&1&&(K(),ct(0,"circle",34)),e&2){let r=D().$implicit,n=D(2);Q("cx",r.dimension.width/2/n.minimapScaleCoefficient)("cy",r.dimension.height/2/n.minimapScaleCoefficient)("fill",r.data==null?null:r.data.color)}}function z5(e,t){if(e&1&&(K(),Y(0,"g",40,2),ge(2,R5,1,4,"ng-container",22)(3,$5,1,4,"ng-container",22)(4,B5,1,3,"circle",33),ee()),e&2){let r=t.$implicit,n=D(2);or("old-node",n.animate&&n.oldNodes.has(r.id)),F("id",r.id),Q("transform",r.transform),G(2),F("ngIf",n.miniMapNodeTemplate),G(),F("ngIf",!n.miniMapNodeTemplate&&n.nodeTemplate),G(),F("ngIf",!n.nodeTemplate&&!n.miniMapNodeTemplate)}}function V5(e,t){if(e&1){let r=sr();K(),Y(0,"g",35)(1,"rect",36),Oe("mousedown",function(i){ke(r);let o=D();return Ne(o.onMinimapPanTo(i))}),ee(),Y(2,"g")(3,"g",37),ge(4,z5,5,7,"g",38),ee(),Y(5,"rect",39),Oe("mousedown",function(){ke(r);let i=D();return Ne(i.onMinimapDragMouseDown())}),ee()()()}if(e&2){let r=D();Q("transform",r.minimapTransform)("clip-path","url(#"+r.minimapClipPathId+")"),G(),Q("width",r.graphDims.width/r.minimapScaleCoefficient)("height",r.graphDims.height/r.minimapScaleCoefficient),G(),Wn("transform","translate("+-r.minimapOffsetX/r.minimapScaleCoefficient+"px,"+-r.minimapOffsetY/r.minimapScaleCoefficient+"px)"),G(),Wn("transform","scale("+1/r.minimapScaleCoefficient+")"),G(),F("ngForOf",r.graph.nodes)("ngForTrackBy",r.trackNodeBy),G(),or("panning",r.isMinimapPanning),Q("transform","translate("+r.panOffsetX/r.zoomLevel/-r.minimapScaleCoefficient+","+r.panOffsetY/r.zoomLevel/-r.minimapScaleCoefficient+")")("width",r.width/r.minimapScaleCoefficient/r.zoomLevel)("height",r.height/r.minimapScaleCoefficient/r.zoomLevel)}}var Jw={};function ut(){let e=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return e=`a${e}`,Jw[e]?ut():(Jw[e]=!0,e)}var Lo=function(e){return e.Both="both",e.Horizontal="horizontal",e.Vertical="vertical",e}(Lo||{}),Do=function(e){return e.UpperLeft="UpperLeft",e.UpperRight="UpperRight",e}(Do||{});function j5(e,t,r,n){n=n||{};let i,o,s=null,a=0;function u(){a=n.leading===!1?0:+new Date,s=null,o=t.apply(e,i)}return function(...f){let c=+new Date;!a&&n.leading===!1&&(a=c);let h=r-(c-a);return i=f,h<=0?(clearTimeout(s),s=null,a=c,o=t.apply(e,i)):!s&&n.trailing!==!1&&(s=setTimeout(u,h)),o}}function H5(e,t){return function(n,i,o){return{configurable:!0,enumerable:o.enumerable,get:function(){return Object.defineProperty(this,i,{configurable:!0,enumerable:o.enumerable,value:j5(this,o.value,e,t)}),this[i]}}}}var e1=[{name:"vivid",selectable:!0,group:"Ordinal",domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:"Ordinal",domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:"Ordinal",domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:"Ordinal",domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:"Continuous",domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:"Continuous",domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:"Continuous",domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:"Ordinal",domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:"Ordinal",domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:"Ordinal",domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:"Ordinal",domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:"Ordinal",domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:"Ordinal",domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:"Ordinal",domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:"Ordinal",domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}],Wu=class{scale;colorDomain;domain;customColors;constructor(t,r,n){typeof t=="string"&&(t=e1.find(i=>i.name===t)),this.colorDomain=t.domain,this.domain=r,this.customColors=n,this.scale=this.generateColorScheme(t,this.domain)}generateColorScheme(t,r){return typeof t=="string"&&(t=e1.find(n=>n.name===t)),Bt().range(t.domain).domain(r)}getColor(t){if(t==null)throw new Error("Value can not be null");if(typeof this.customColors=="function")return this.customColors(t);let r=t.toString(),n;return this.customColors&&this.customColors.length>0&&(n=this.customColors.find(i=>i.name.toLowerCase()===r.toLowerCase())),n?n.value:this.scale(t)}};function t1({width:e,height:t}){let r=e,n=t;return r=Math.max(0,r),n=Math.max(0,n),{width:Math.floor(r),height:Math.floor(n)}}var U5=(()=>{class e{element;zone;visible=new $e;timeout;isVisible=!1;constructor(r,n){this.element=r,this.zone=n,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){let r=()=>{if(!this.element)return;let{offsetHeight:n,offsetWidth:i}=this.element.nativeElement;n&&i?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>r(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>r())})}static \u0275fac=function(n){return new(n||e)(Nt(Zo),Nt(Ko))};static \u0275dir=Wo({type:e,selectors:[["visibility-observer"]],outputs:{visible:"visible"}})}return e})(),Go=function(e){return e.LEFT_TO_RIGHT="LR",e.RIGHT_TO_LEFT="RL",e.TOP_TO_BOTTOM="TB",e.BOTTOM_TO_TOM="BT",e}(Go||{});var Ku=class{defaultSettings={orientation:Go.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0};settings={};dagreGraph;dagreNodes;dagreEdges;run(t){this.createDagreGraph(t),kt.layout(this.dagreGraph),t.edgeLabels=this.dagreGraph._edgeLabels;for(let r in this.dagreGraph._nodes){let n=this.dagreGraph._nodes[r],i=t.nodes.find(o=>o.id===n.id);i.position={x:n.x,y:n.y},i.dimension={width:n.width,height:n.height}}return t}updateEdge(t,r){let n=t.nodes.find(u=>u.id===r.source),i=t.nodes.find(u=>u.id===r.target),o=n.position.y<=i.position.y?-1:1,s={x:n.position.x,y:n.position.y-o*(n.dimension.height/2)},a={x:i.position.x,y:i.position.y+o*(i.dimension.height/2)};return r.points=[s,a],t}createDagreGraph(t){let r=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new kt.graphlib.Graph({compound:r.compound,multigraph:r.multigraph}),this.dagreGraph.setGraph({rankdir:r.orientation,marginx:r.marginX,marginy:r.marginY,edgesep:r.edgePadding,ranksep:r.rankPadding,nodesep:r.nodePadding,align:r.align,acyclicer:r.acyclicer,ranker:r.ranker,multigraph:r.multigraph,compound:r.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=t.nodes.map(n=>{let i=Object.assign({},n);return i.width=n.dimension.width,i.height=n.dimension.height,i.x=n.position.x,i.y=n.position.y,i}),this.dagreEdges=t.edges.map(n=>{let i=Object.assign({},n);return i.id||(i.id=ut()),i});for(let n of this.dagreNodes)n.width||(n.width=20),n.height||(n.height=30),this.dagreGraph.setNode(n.id,n);for(let n of this.dagreEdges)r.multigraph?this.dagreGraph.setEdge(n.source,n.target,n,n.id):this.dagreGraph.setEdge(n.source,n.target);return this.dagreGraph}},Zu=class{defaultSettings={orientation:Go.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,multigraph:!0,compound:!0};settings={};dagreGraph;dagreNodes;dagreClusters;dagreEdges;run(t){this.createDagreGraph(t),kt.layout(this.dagreGraph),t.edgeLabels=this.dagreGraph._edgeLabels;let r=n=>{let i=this.dagreGraph._nodes[n.id];return Re(ue({},n),{position:{x:i.x,y:i.y},dimension:{width:i.width,height:i.height}})};return t.clusters=(t.clusters||[]).map(r),t.nodes=t.nodes.map(r),t}updateEdge(t,r){let n=t.nodes.find(u=>u.id===r.source),i=t.nodes.find(u=>u.id===r.target),o=n.position.y<=i.position.y?-1:1,s={x:n.position.x,y:n.position.y-o*(n.dimension.height/2)},a={x:i.position.x,y:i.position.y+o*(i.dimension.height/2)};return r.points=[s,a],t}createDagreGraph(t){let r=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new kt.graphlib.Graph({compound:r.compound,multigraph:r.multigraph}),this.dagreGraph.setGraph({rankdir:r.orientation,marginx:r.marginX,marginy:r.marginY,edgesep:r.edgePadding,ranksep:r.rankPadding,nodesep:r.nodePadding,align:r.align,acyclicer:r.acyclicer,ranker:r.ranker,multigraph:r.multigraph,compound:r.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=t.nodes.map(n=>{let i=Object.assign({},n);return i.width=n.dimension.width,i.height=n.dimension.height,i.x=n.position.x,i.y=n.position.y,i}),this.dagreClusters=t.clusters||[],this.dagreEdges=t.edges.map(n=>{let i=Object.assign({},n);return i.id||(i.id=ut()),i});for(let n of this.dagreNodes)this.dagreGraph.setNode(n.id,n);for(let n of this.dagreClusters)this.dagreGraph.setNode(n.id,n),n.childNodeIds.forEach(i=>{this.dagreGraph.setParent(i,n.id)});for(let n of this.dagreEdges)r.multigraph?this.dagreGraph.setEdge(n.source,n.target,n,n.id):this.dagreGraph.setEdge(n.source,n.target);return this.dagreGraph}},Y5="\0";var r1="",Qu=class{defaultSettings={orientation:Go.LEFT_TO_RIGHT,marginX:20,marginY:20,edgePadding:100,rankPadding:100,nodePadding:50,curveDistance:20,multigraph:!0,compound:!0};settings={};dagreGraph;dagreNodes;dagreEdges;run(t){this.createDagreGraph(t),kt.layout(this.dagreGraph),t.edgeLabels=this.dagreGraph._edgeLabels;for(let r in this.dagreGraph._nodes){let n=this.dagreGraph._nodes[r],i=t.nodes.find(o=>o.id===n.id);i.position={x:n.x,y:n.y},i.dimension={width:n.width,height:n.height}}for(let r of t.edges)this.updateEdge(t,r);return t}updateEdge(t,r){let n=t.nodes.find(m=>m.id===r.source),i=t.nodes.find(m=>m.id===r.target),o=this.settings.orientation==="BT"||this.settings.orientation==="TB"?"y":"x",s=o==="y"?"x":"y",a=o==="y"?"height":"width",u=n.position[o]<=i.position[o]?-1:1,f={[s]:n.position[s],[o]:n.position[o]-u*(n.dimension[a]/2)},c={[s]:i.position[s],[o]:i.position[o]+u*(i.dimension[a]/2)},h=this.settings.curveDistance||this.defaultSettings.curveDistance;r.points=[f,{[s]:f[s],[o]:f[o]-u*h},{[s]:c[s],[o]:c[o]+u*h},c];let l=`${r.source}${r1}${r.target}${r1}${Y5}`,p=t.edgeLabels[l];return p&&(p.points=r.points),t}createDagreGraph(t){let r=Object.assign({},this.defaultSettings,this.settings);this.dagreGraph=new kt.graphlib.Graph({compound:r.compound,multigraph:r.multigraph}),this.dagreGraph.setGraph({rankdir:r.orientation,marginx:r.marginX,marginy:r.marginY,edgesep:r.edgePadding,ranksep:r.rankPadding,nodesep:r.nodePadding,align:r.align,acyclicer:r.acyclicer,ranker:r.ranker,multigraph:r.multigraph,compound:r.compound}),this.dagreGraph.setDefaultEdgeLabel(()=>({})),this.dagreNodes=t.nodes.map(n=>{let i=Object.assign({},n);return i.width=n.dimension.width,i.height=n.dimension.height,i.x=n.position.x,i.y=n.position.y,i}),this.dagreEdges=t.edges.map(n=>{let i=Object.assign({},n);return i.id||(i.id=ut()),i});for(let n of this.dagreNodes)n.width||(n.width=20),n.height||(n.height=30),this.dagreGraph.setNode(n.id,n);for(let n of this.dagreEdges)r.multigraph?this.dagreGraph.setEdge(n.source,n.target,n,n.id):this.dagreGraph.setEdge(n.source,n.target);return this.dagreGraph}};function Gr(e){return typeof e=="string"?{id:e,x:0,y:0}:e}var Ju=class{defaultSettings={force:go().force("charge",mo().strength(-150)).force("collide",lo(5)),forceLink:po().id(t=>t.id).distance(()=>100)};settings={};inputGraph;outputGraph;d3Graph;outputGraph$=new Xn;draggingStart;run(t){return this.inputGraph=t,this.d3Graph={nodes:[...this.inputGraph.nodes.map(r=>ue({},r))],edges:[...this.inputGraph.edges.map(r=>ue({},r))]},this.outputGraph={nodes:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&this.settings.force.nodes(this.d3Graph.nodes).force("link",this.settings.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}updateEdge(t,r){let n=Object.assign({},this.defaultSettings,this.settings);return n.force&&n.force.nodes(this.d3Graph.nodes).force("link",n.forceLink.links(this.d3Graph.edges)).alpha(.5).restart().on("tick",()=>{this.outputGraph$.next(this.d3GraphToOutputGraph(this.d3Graph))}),this.outputGraph$.asObservable()}d3GraphToOutputGraph(t){return this.outputGraph.nodes=this.d3Graph.nodes.map(r=>Re(ue({},r),{id:r.id||ut(),position:{x:r.x,y:r.y},dimension:{width:r.dimension&&r.dimension.width||20,height:r.dimension&&r.dimension.height||20},transform:`translate(${r.x-(r.dimension&&r.dimension.width||20)/2||0}, ${r.y-(r.dimension&&r.dimension.height||20)/2||0})`})),this.outputGraph.edges=this.d3Graph.edges.map(r=>Re(ue({},r),{source:Gr(r.source).id,target:Gr(r.target).id,points:[{x:Gr(r.source).x,y:Gr(r.source).y},{x:Gr(r.target).x,y:Gr(r.target).y}]})),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(t,r){this.settings.force.alphaTarget(.3).restart();let n=this.d3Graph.nodes.find(i=>i.id===t.id);n&&(this.draggingStart={x:r.x-n.x,y:r.y-n.y},n.fx=r.x-this.draggingStart.x,n.fy=r.y-this.draggingStart.y)}onDrag(t,r){if(!t)return;let n=this.d3Graph.nodes.find(i=>i.id===t.id);n&&(n.fx=r.x-this.draggingStart.x,n.fy=r.y-this.draggingStart.y)}onDragEnd(t,r){if(!t)return;let n=this.d3Graph.nodes.find(i=>i.id===t.id);n&&(this.settings.force.alphaTarget(0),n.fx=void 0,n.fy=void 0)}};function n1(e,t){return typeof t=="number"?e[t]:t}var ef=class{defaultSettings={force:(0,o1.d3adaptor)(ue(ue(ue({},Vs),Eu),Us)).linkDistance(150).avoidOverlaps(!0),viewDimensions:{width:600,height:600}};settings={};inputGraph;outputGraph;internalGraph;outputGraph$=new Xn;draggingStart;run(t){return this.inputGraph=t,this.inputGraph.clusters||(this.inputGraph.clusters=[]),this.internalGraph={nodes:[...this.inputGraph.nodes.map(r=>Re(ue({},r),{width:r.dimension?r.dimension.width:20,height:r.dimension?r.dimension.height:20}))],groups:[...this.inputGraph.clusters.map(r=>({padding:5,groups:r.childNodeIds.map(n=>this.inputGraph.clusters.findIndex(i=>i.id===n)).filter(n=>n>=0),leaves:r.childNodeIds.map(n=>this.inputGraph.nodes.findIndex(i=>i.id===n)).filter(n=>n>=0)}))],links:[...this.inputGraph.edges.map(r=>{let n=this.inputGraph.nodes.findIndex(o=>r.source===o.id),i=this.inputGraph.nodes.findIndex(o=>r.target===o.id);if(!(n===-1||i===-1))return Re(ue({},r),{source:n,target:i})}).filter(r=>!!r)],groupLinks:[...this.inputGraph.edges.map(r=>{let n=this.inputGraph.nodes.findIndex(o=>r.source===o.id),i=this.inputGraph.nodes.findIndex(o=>r.target===o.id);if(!(n>=0&&i>=0))return r}).filter(r=>!!r)]},this.outputGraph={nodes:[],clusters:[],edges:[],edgeLabels:[]},this.outputGraph$.next(this.outputGraph),this.settings=Object.assign({},this.defaultSettings,this.settings),this.settings.force&&(this.settings.force=this.settings.force.nodes(this.internalGraph.nodes).groups(this.internalGraph.groups).links(this.internalGraph.links).alpha(.5).on("tick",()=>{this.settings.onTickListener&&this.settings.onTickListener(this.internalGraph),this.outputGraph$.next(this.internalGraphToOutputGraph(this.internalGraph))}),this.settings.viewDimensions&&(this.settings.force=this.settings.force.size([this.settings.viewDimensions.width,this.settings.viewDimensions.height])),this.settings.forceModifierFn&&(this.settings.force=this.settings.forceModifierFn(this.settings.force)),this.settings.force.start()),this.outputGraph$.asObservable()}updateEdge(t,r){let n=Object.assign({},this.defaultSettings,this.settings);return n.force&&n.force.start(),this.outputGraph$.asObservable()}internalGraphToOutputGraph(t){return this.outputGraph.nodes=t.nodes.map(r=>Re(ue({},r),{id:r.id||ut(),position:{x:r.x,y:r.y},dimension:{width:r.dimension&&r.dimension.width||20,height:r.dimension&&r.dimension.height||20},transform:`translate(${r.x-(r.dimension&&r.dimension.width||20)/2||0}, ${r.y-(r.dimension&&r.dimension.height||20)/2||0})`})),this.outputGraph.edges=t.links.map(r=>{let n=n1(t.nodes,r.source),i=n1(t.nodes,r.target);return Re(ue({},r),{source:n.id,target:i.id,points:[n.bounds.rayIntersection(i.bounds.cx(),i.bounds.cy()),i.bounds.rayIntersection(n.bounds.cx(),n.bounds.cy())]})}).concat(t.groupLinks.map(r=>{let n=t.nodes.find(a=>a.id===r.source),i=t.nodes.find(a=>a.id===r.target),o=n||t.groups.find(a=>a.id===r.source),s=i||t.groups.find(a=>a.id===r.target);return Re(ue({},r),{source:o.id,target:s.id,points:[o.bounds.rayIntersection(s.bounds.cx(),s.bounds.cy()),s.bounds.rayIntersection(o.bounds.cx(),o.bounds.cy())]})})),this.outputGraph.clusters=t.groups.map((r,n)=>{let i=this.inputGraph.clusters[n];return Re(ue({},i),{dimension:{width:r.bounds?r.bounds.width():20,height:r.bounds?r.bounds.height():20},position:{x:r.bounds?r.bounds.x+r.bounds.width()/2:0,y:r.bounds?r.bounds.y+r.bounds.height()/2:0}})}),this.outputGraph.edgeLabels=this.outputGraph.edges,this.outputGraph}onDragStart(t,r){let n=this.outputGraph.nodes.findIndex(o=>o.id===t.id),i=this.internalGraph.nodes[n];i&&(this.draggingStart={x:i.x-r.x,y:i.y-r.y},i.fixed=1,this.settings.force.start())}onDrag(t,r){if(!t)return;let n=this.outputGraph.nodes.findIndex(o=>o.id===t.id),i=this.internalGraph.nodes[n];i&&(i.x=this.draggingStart.x+r.x,i.y=this.draggingStart.y+r.y)}onDragEnd(t,r){if(!t)return;let n=this.outputGraph.nodes.findIndex(o=>o.id===t.id),i=this.internalGraph.nodes[n];i&&(i.fixed=0)}},i1={dagre:Ku,dagreCluster:Zu,dagreNodesOnly:Qu,d3ForceDirected:Ju,colaForceDirected:ef},s1=(()=>{class e{getLayout(r){if(i1[r])return new i1[r];throw new Error(`Unknown layout type '${r}'`)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=uf({token:e,factory:e.\u0275fac})}return e})(),X5=(()=>{class e{mouseWheelUp=new $e;mouseWheelDown=new $e;onMouseWheelChrome(r){this.mouseWheelFunc(r)}onMouseWheelFirefox(r){this.mouseWheelFunc(r)}onWheel(r){this.mouseWheelFunc(r)}onMouseWheelIE(r){this.mouseWheelFunc(r)}mouseWheelFunc(r){window.event&&(r=window.event);let n=Math.max(-1,Math.min(1,r.wheelDelta||-r.detail||r.deltaY||r.deltaX)),i=r.wheelDelta?n>0:n<0,o=r.wheelDelta?n<0:n>0;i?this.mouseWheelUp.emit(r):o&&this.mouseWheelDown.emit(r),r.returnValue=!1,r.preventDefault&&r.preventDefault()}static \u0275fac=function(n){return new(n||e)};static \u0275dir=Wo({type:e,selectors:[["","mouseWheel",""]],hostBindings:function(n,i){n&1&&Oe("mousewheel",function(s){return i.onMouseWheelChrome(s)})("DOMMouseScroll",function(s){return i.onMouseWheelFirefox(s)})("wheel",function(s){return i.onWheel(s)})("onmousewheel",function(s){return i.onMouseWheelIE(s)})},outputs:{mouseWheelUp:"mouseWheelUp",mouseWheelDown:"mouseWheelDown"}})}return e})(),Yn=function(e){return e.Init="init",e.Subscribe="subscribe",e.Transform="transform",e.Output="output",e}(Yn||{}),Cee=(()=>{class e{el;zone;cd;layoutService;nodes=[];clusters=[];compoundNodes=[];links=[];activeEntries=[];curve;draggingEnabled=!0;nodeHeight;nodeMaxHeight;nodeMinHeight;nodeWidth;nodeMinWidth;nodeMaxWidth;panningEnabled=!0;panningAxis=Lo.Both;enableZoom=!0;zoomSpeed=.1;minZoomLevel=.1;maxZoomLevel=4;autoZoom=!1;panOnZoom=!0;animate=!1;autoCenter=!1;update$;center$;zoomToFit$;panToNode$;layout;layoutSettings;enableTrackpadSupport=!1;showMiniMap=!1;miniMapMaxWidth=100;miniMapMaxHeight;miniMapPosition=Do.UpperRight;view;scheme="cool";customColors;deferDisplayUntilPosition=!1;centerNodesOnPositionChange=!0;enablePreUpdateTransform=!0;select=new $e;activate=new $e;deactivate=new $e;zoomChange=new $e;clickHandler=new $e;stateChange=new $e;linkTemplate;nodeTemplate;clusterTemplate;defsTemplate;miniMapNodeTemplate;nodeElements;linkElements;chartWidth;isMouseMoveCalled=!1;graphSubscription=new jo;colors;dims;seriesDomain;transform;isPanning=!1;isDragging=!1;draggingNode;initialized=!1;graph;graphDims={width:0,height:0};_oldLinks=[];oldNodes=new Set;oldClusters=new Set;oldCompoundNodes=new Set;transformationMatrix=Bh();_touchLastX=null;_touchLastY=null;minimapScaleCoefficient=3;minimapTransform;minimapOffsetX=0;minimapOffsetY=0;isMinimapPanning=!1;minimapClipPathId;width;height;resizeSubscription;visibilityObserver;destroy$=new Xn;constructor(r,n,i,o){this.el=r,this.zone=n,this.cd=i,this.layoutService=o}groupResultsBy=r=>r.label;get zoomLevel(){return this.transformationMatrix.a}set zoomLevel(r){this.zoomTo(Number(r))}get panOffsetX(){return this.transformationMatrix.e}set panOffsetX(r){this.panTo(Number(r),null)}get panOffsetY(){return this.transformationMatrix.f}set panOffsetY(r){this.panTo(null,Number(r))}ngOnInit(){this.update$&&this.update$.pipe(Rr(this.destroy$)).subscribe(()=>{this.update()}),this.center$&&this.center$.pipe(Rr(this.destroy$)).subscribe(()=>{this.center()}),this.zoomToFit$&&this.zoomToFit$.pipe(Rr(this.destroy$)).subscribe(r=>{this.zoomToFit(r||{})}),this.panToNode$&&this.panToNode$.pipe(Rr(this.destroy$)).subscribe(r=>{this.panToNodeId(r)}),this.minimapClipPathId=`minimapClip${ut()}`,this.stateChange.emit({state:Yn.Subscribe})}ngOnChanges(r){this.basicUpdate();let{layoutSettings:n}=r;this.setLayout(this.layout),n&&this.setLayoutSettings(this.layoutSettings),this.layout&&this.nodes.length&&this.links.length&&this.update()}setLayout(r){this.initialized=!1,r||(r="dagre"),typeof r=="string"&&(this.layout=this.layoutService.getLayout(r),this.setLayoutSettings(this.layoutSettings))}setLayoutSettings(r){this.layout&&typeof this.layout!="string"&&(this.layout.settings=r)}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy()),this.destroy$.next(),this.destroy$.complete()}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new U5(this.el,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this)),setTimeout(()=>this.update())}update(){this.basicUpdate(),this.curve||(this.curve=ps.beta(1)),this.zone.run(()=>{this.dims=t1({width:this.width,height:this.height}),this.seriesDomain=this.getSeriesDomain(),this.setColors(),this.createGraph(),this.updateTransform(),this.initialized||this.stateChange.emit({state:Yn.Init}),this.initialized=!0})}createGraph(){this.graphSubscription.unsubscribe(),this.graphSubscription=new jo;let r=i=>(i.meta||(i.meta={}),i.id||(i.id=ut()),i.dimension?i.meta.forceDimensions=i.meta.forceDimensions===void 0?!0:i.meta.forceDimensions:(i.dimension={width:this.nodeWidth?this.nodeWidth:30,height:this.nodeHeight?this.nodeHeight:30},i.meta.forceDimensions=!1),i.position||(i.position={x:0,y:0},this.deferDisplayUntilPosition&&(i.hidden=!0)),i.data=i.data?i.data:{},i),n=i=>(i.id||(i.id=ut()),i);this.graph={nodes:this.nodes.map(i=>r(i)),clusters:this.clusters.map(i=>r(i)),compoundNodes:this.compoundNodes.map(i=>r(i)),edges:this.links.map(i=>n(i))},requestAnimationFrame(()=>this.draw())}draw(){let r=this.layout.run(this.graph),n=r instanceof Ho?r:Uo(r);this.graphSubscription.add(n.subscribe(i=>{this.graph=i,this.tick()}))}tick(){let r=new Set,n=new Set,i=new Set;this.graph.nodes.forEach(s=>{s.transform=`translate(${s.position.x-(this.centerNodesOnPositionChange?s.dimension.width/2:0)||0}, ${s.position.y-(this.centerNodesOnPositionChange?s.dimension.height/2:0)||0})`,s.data||(s.data={}),s.data.color=this.colors.getColor(this.groupResultsBy(s)),this.deferDisplayUntilPosition&&(s.hidden=!1),r.add(s.id)}),(this.graph.clusters||[]).forEach(s=>{s.transform=`translate(${s.position.x-(this.centerNodesOnPositionChange?s.dimension.width/2:0)||0}, ${s.position.y-(this.centerNodesOnPositionChange?s.dimension.height/2:0)||0})`,s.data||(s.data={}),s.data.color=this.colors.getColor(this.groupResultsBy(s)),this.deferDisplayUntilPosition&&(s.hidden=!1),n.add(s.id)}),(this.graph.compoundNodes||[]).forEach(s=>{s.transform=`translate(${s.position.x-(this.centerNodesOnPositionChange?s.dimension.width/2:0)||0}, ${s.position.y-(this.centerNodesOnPositionChange?s.dimension.height/2:0)||0})`,s.data||(s.data={}),s.data.color=this.colors.getColor(this.groupResultsBy(s)),this.deferDisplayUntilPosition&&(s.hidden=!1),i.add(s.id)}),setTimeout(()=>{this.oldNodes=r,this.oldClusters=n,this.oldCompoundNodes=i},500);let o=[];for(let s in this.graph.edgeLabels){let a=this.graph.edgeLabels[s],u=s.replace(/[^\w-]*/g,""),f=this.layout&&typeof this.layout!="string"&&this.layout.settings&&this.layout.settings.multigraph,c=f?this._oldLinks.find(v=>`${v.source}${v.target}${v.id}`===u):this._oldLinks.find(v=>`${v.source}${v.target}`===u),h=f?this.graph.edges.find(v=>`${v.source}${v.target}${v.id}`===u):this.graph.edges.find(v=>`${v.source}${v.target}`===u);c?c.data&&h&&h.data&&JSON.stringify(c.data)!==JSON.stringify(h.data)&&(c.data=h.data):c=h||a,c.oldLine=c.line;let l=a.points,p=this.generateLine(l),m=Object.assign({},c);m.line=p,m.points=l,this.updateMidpointOnEdge(m,l);let g=l[Math.floor(l.length/2)];g&&(m.textTransform=`translate(${g.x||0},${g.y||0})`),m.textAngle=0,m.oldLine||(m.oldLine=m.line),this.calcDominantBaseline(m),o.push(m)}this.graph.edges=o,this.graph.edges&&(this._oldLinks=this.graph.edges.map(s=>{let a=Object.assign({},s);return a.oldLine=s.line,a})),this.applyNodeDimensions(),this.redrawLines(),this.updateMinimap(),requestAnimationFrame(()=>{this.applyNodeDimensions(),this.redrawLines(),this.updateMinimap(),this.autoZoom?this.zoomToFit({autoCenter:this.autoCenter?this.autoCenter:!1}):this.autoCenter&&this.center(),this.stateChange.emit({state:Yn.Output})}),this.cd.markForCheck()}getMinimapTransform(){switch(this.miniMapPosition){case Do.UpperLeft:return"";case Do.UpperRight:return"translate("+(this.dims.width-this.graphDims.width/this.minimapScaleCoefficient)+",0)";default:return""}}updateGraphDims(){let r=1/0,n=-1/0,i=1/0,o=-1/0;for(let s=0;s<this.graph.nodes.length;s++){let a=this.graph.nodes[s];r=a.position.x<r?a.position.x:r,i=a.position.y<i?a.position.y:i,n=a.position.x+a.dimension.width>n?a.position.x+a.dimension.width:n,o=a.position.y+a.dimension.height>o?a.position.y+a.dimension.height:o}r-=100,i-=100,n+=100,o+=100,this.graphDims.width=n-r,this.graphDims.height=o-i,this.minimapOffsetX=r,this.minimapOffsetY=i}updateMinimap(){this.graph.nodes&&this.graph.nodes.length&&(this.updateGraphDims(),this.miniMapMaxWidth&&(this.minimapScaleCoefficient=this.graphDims.width/this.miniMapMaxWidth),this.miniMapMaxHeight&&(this.minimapScaleCoefficient=Math.max(this.minimapScaleCoefficient,this.graphDims.height/this.miniMapMaxHeight)),this.minimapTransform=this.getMinimapTransform())}applyNodeDimensions(){this.nodeElements&&this.nodeElements.length&&this.nodeElements.forEach(r=>{let n=r.nativeElement,i=this.graph.nodes.find(s=>s.id===n.id);if(!i)return;let o;try{if(o=n.getBBox(),!o.width||!o.height)return}catch{return}if(this.nodeHeight?i.dimension.height=i.dimension.height&&i.meta.forceDimensions?i.dimension.height:this.nodeHeight:i.dimension.height=i.dimension.height&&i.meta.forceDimensions?i.dimension.height:o.height,this.nodeMaxHeight&&(i.dimension.height=Math.max(i.dimension.height,this.nodeMaxHeight)),this.nodeMinHeight&&(i.dimension.height=Math.min(i.dimension.height,this.nodeMinHeight)),this.nodeWidth)i.dimension.width=i.dimension.width&&i.meta.forceDimensions?i.dimension.width:this.nodeWidth;else if(n.getElementsByTagName("text").length){let s;try{for(let a of n.getElementsByTagName("text")){let u=a.getBBox();s?(u.width>s.width&&(s.width=u.width),u.height>s.height&&(s.height=u.height)):s=u}}catch{return}i.dimension.width=i.dimension.width&&i.meta.forceDimensions?i.dimension.width:s.width+20}else i.dimension.width=i.dimension.width&&i.meta.forceDimensions?i.dimension.width:o.width;this.nodeMaxWidth&&(i.dimension.width=Math.max(i.dimension.width,this.nodeMaxWidth)),this.nodeMinWidth&&(i.dimension.width=Math.min(i.dimension.width,this.nodeMinWidth))})}redrawLines(r=this.animate){this.linkElements.forEach(n=>{let i=this.graph.edges.find(o=>o.id===n.nativeElement.id);i&&(ti(n.nativeElement).select(".line").attr("d",i.oldLine).transition().ease(jr).duration(r?500:0).attr("d",i.line),ti(this.el.nativeElement).select(`#${i.id}`).attr("d",i.oldTextPath).transition().ease(jr).duration(r?500:0).attr("d",i.textPath),this.updateMidpointOnEdge(i,i.points))})}calcDominantBaseline(r){let n=r.points[0],i=r.points[r.points.length-1];r.oldTextPath=r.textPath,i.x<n.x?(r.dominantBaseline="text-before-edge",r.textPath=this.generateLine([...r.points].reverse())):(r.dominantBaseline="text-after-edge",r.textPath=r.line)}generateLine(r){return hs().x(i=>i.x).y(i=>i.y).curve(this.curve)(r)}onZoom(r,n){if(this.enableTrackpadSupport&&!r.ctrlKey){this.pan(r.deltaX*-1,r.deltaY*-1);return}let i=1+(n==="in"?this.zoomSpeed:-this.zoomSpeed),o=this.zoomLevel*i;if(!(o<=this.minZoomLevel||o>=this.maxZoomLevel)&&this.enableZoom)if(this.panOnZoom===!0&&r){let s=r.clientX,a=r.clientY,u=this.el.nativeElement.querySelector("svg"),f=u.querySelector("g.chart"),c=u.createSVGPoint();c.x=s,c.y=a;let h=c.matrixTransform(f.getScreenCTM().inverse());this.pan(h.x,h.y,!0),this.zoom(i),this.pan(-h.x,-h.y,!0)}else this.zoom(i)}pan(r,n,i=!1){let o=i?1:this.zoomLevel;this.transformationMatrix=et(this.transformationMatrix,Je(r/o,n/o)),this.updateTransform()}panTo(r,n){if(r==null||isNaN(r)||n===null||n===void 0||isNaN(n))return;let i=-this.panOffsetX-r*this.zoomLevel+this.dims.width/2,o=-this.panOffsetY-n*this.zoomLevel+this.dims.height/2;this.transformationMatrix=et(this.transformationMatrix,Je(i/this.zoomLevel,o/this.zoomLevel)),this.updateTransform()}zoom(r){this.transformationMatrix=et(this.transformationMatrix,un(r,r)),this.zoomChange.emit(this.zoomLevel),this.updateTransform()}zoomTo(r){this.transformationMatrix.a=isNaN(r)?this.transformationMatrix.a:Number(r),this.transformationMatrix.d=isNaN(r)?this.transformationMatrix.d:Number(r),this.zoomChange.emit(this.zoomLevel),this.enablePreUpdateTransform&&this.updateTransform(),this.update()}onDrag(r){if(!this.draggingEnabled)return;let n=this.draggingNode;this.layout&&typeof this.layout!="string"&&this.layout.onDrag&&this.layout.onDrag(n,r),n.position.x+=r.movementX/this.zoomLevel,n.position.y+=r.movementY/this.zoomLevel;let i=n.position.x-(this.centerNodesOnPositionChange?n.dimension.width/2:0),o=n.position.y-(this.centerNodesOnPositionChange?n.dimension.height/2:0);n.transform=`translate(${i}, ${o})`;for(let s of this.graph.edges)if((s.target===n.id||s.source===n.id||s.target.id===n.id||s.source.id===n.id)&&this.layout&&typeof this.layout!="string"){let a=this.layout.updateEdge(this.graph,s),u=a instanceof Ho?a:Uo(a);this.graphSubscription.add(u.subscribe(f=>{this.graph=f,this.redrawEdge(s)}))}this.redrawLines(!1),this.updateMinimap()}redrawEdge(r){let n=this.generateLine(r.points);this.calcDominantBaseline(r),r.oldLine=r.line,r.line=n}updateTransform(){this.transform=zh(Ys(this.transformationMatrix,100)),this.stateChange.emit({state:Yn.Transform})}onClick(r){this.select.emit(r)}onActivate(r){this.activeEntries.indexOf(r)>-1||(this.activeEntries=[r,...this.activeEntries],this.activate.emit({value:r,entries:this.activeEntries}))}onDeactivate(r){let n=this.activeEntries.indexOf(r);this.activeEntries.splice(n,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:r,entries:this.activeEntries})}getSeriesDomain(){return this.nodes.map(r=>this.groupResultsBy(r)).reduce((r,n)=>r.indexOf(n)!==-1?r:r.concat([n]),[]).sort()}trackLinkBy(r,n){return n.id}trackNodeBy(r,n){return n.id}setColors(){this.colors=new Wu(this.scheme,this.seriesDomain,this.customColors)}onMouseMove(r){this.isMouseMoveCalled=!0,(this.isPanning||this.isMinimapPanning)&&this.panningEnabled?this.panWithConstraints(this.panningAxis,r):this.isDragging&&this.draggingEnabled&&this.onDrag(r)}onMouseDown(r){this.isMouseMoveCalled=!1}graphClick(r){this.isMouseMoveCalled||this.clickHandler.emit(r)}onTouchStart(r){this._touchLastX=r.changedTouches[0].clientX,this._touchLastY=r.changedTouches[0].clientY,this.isPanning=!0}onTouchMove(r){if(this.isPanning&&this.panningEnabled){let n=r.changedTouches[0].clientX,i=r.changedTouches[0].clientY,o=n-this._touchLastX,s=i-this._touchLastY;this._touchLastX=n,this._touchLastY=i,this.pan(o,s)}}onTouchEnd(){this.isPanning=!1}onMouseUp(r){this.isDragging=!1,this.isPanning=!1,this.isMinimapPanning=!1,this.layout&&typeof this.layout!="string"&&this.layout.onDragEnd&&this.layout.onDragEnd(this.draggingNode,r)}onNodeMouseDown(r,n){this.draggingEnabled&&(this.isDragging=!0,this.draggingNode=n,this.layout&&typeof this.layout!="string"&&this.layout.onDragStart&&this.layout.onDragStart(n,r))}onMinimapDragMouseDown(){this.isMinimapPanning=!0}onMinimapPanTo(r){let n=r.offsetX-(this.dims.width-(this.graphDims.width+this.minimapOffsetX)/this.minimapScaleCoefficient),i=r.offsetY+this.minimapOffsetY/this.minimapScaleCoefficient;this.panTo(n*this.minimapScaleCoefficient,i*this.minimapScaleCoefficient),this.isMinimapPanning=!0}center(){this.panTo(this.graphDims.width/2,this.graphDims.height/2)}zoomToFit(r){this.dims=t1({width:this.width,height:this.height}),this.updateGraphDims();let n=this.dims.height/this.graphDims.height,i=this.dims.width/this.graphDims.width,o=Math.min(n,i,1);o<this.minZoomLevel&&(o=this.minZoomLevel),o>this.maxZoomLevel&&(o=this.maxZoomLevel),(r?.force===!0||o!==this.zoomLevel)&&(this.zoomLevel=o,r?.autoCenter!==!0&&this.updateTransform(),r?.autoCenter===!0&&this.center(),this.zoomChange.emit(this.zoomLevel))}panToNodeId(r){let n=this.graph.nodes.find(i=>i.id===r);n&&this.panTo(n.position.x,n.position.y)}getCompoundNodeChildren(r){return this.nodes.filter(n=>r.includes(n.id))}panWithConstraints(r,n){let i=n.movementX,o=n.movementY;switch(this.isMinimapPanning&&(i=-this.minimapScaleCoefficient*i*this.zoomLevel,o=-this.minimapScaleCoefficient*o*this.zoomLevel),r){case Lo.Horizontal:this.pan(i,0);break;case Lo.Vertical:this.pan(0,o);break;default:this.pan(i,o);break}}updateMidpointOnEdge(r,n){if(!(!r||!n))if(n.length%2===1)r.midPoint=n[Math.floor(n.length/2)];else if(this.layout?.settings?.properties?.["elk.direction"])this._calcMidPointElk(r,n);else{let i=n[n.length/2],o=n[n.length/2-1];r.midPoint={x:(i.x+o.x)/2,y:(i.y+o.y)/2}}}_calcMidPointElk(r,n){let i=null,o=null,s=null,a=null,u=this.layout.settings?.properties["elk.direction"];(u==="RIGHT"?n.some(c=>c.y!==n[0].y):n.some(c=>c.x!==n[0].x))?(i=n[n.length-1],o=n[n.length-2],s=n[n.length-1],a=n[n.length-2]):u==="RIGHT"?(i=n[0],o=n[n.length-1],s=n[n.length/2],a=n[n.length/2-1]):(i=n[n.length/2],o=n[n.length/2-1],s=n[0],a=n[n.length-1]),r.midPoint={x:(i.x+o.x)/2,y:(s.y+a.y)/2}}basicUpdate(){if(this.view)this.width=this.view[0],this.height=this.view[1];else{let r=this.getContainerDims();r&&(this.width=r.width,this.height=r.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let r,n,i=this.el.nativeElement;if(i.parentNode!==null){let o=i.parentNode.getBoundingClientRect();r=o.width,n=o.height}return r&&n?{width:r,height:n}:null}hasGraphDims(){return this.graphDims.width>0&&this.graphDims.height>0}hasNodeDims(){return this.graph.nodes?.every(r=>r.dimension.width>0&&r.dimension.height>0)}hasCompoundNodeDims(){return this.graph.compoundNodes?.every(r=>r.dimension.width>0&&r.dimension.height>0)}hasClusterDims(){return this.graph.clusters?.every(r=>r.dimension.width>0&&r.dimension.height>0)}hasDims(){return this.hasGraphDims()&&this.hasNodeDims()&&((this.compoundNodes?.length?this.hasCompoundNodeDims():!0)||(this.clusters?.length?this.hasClusterDims():!0))}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){let n=sf(window,"resize").pipe(af(200)).subscribe(i=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=n}static \u0275fac=function(n){return new(n||e)(Nt(Zo),Nt(Ko),Nt(pf),Nt(s1))};static \u0275cmp=ff({type:e,selectors:[["ngx-graph"]],contentQueries:function(n,i,o){if(n&1&&(ar(o,m5,5),ar(o,v5,5),ar(o,y5,5),ar(o,x5,5),ar(o,_5,5)),n&2){let s;lt(s=pt())&&(i.linkTemplate=s.first),lt(s=pt())&&(i.nodeTemplate=s.first),lt(s=pt())&&(i.clusterTemplate=s.first),lt(s=pt())&&(i.defsTemplate=s.first),lt(s=pt())&&(i.miniMapNodeTemplate=s.first)}},viewQuery:function(n,i){if(n&1&&(Qo(b5,5),Qo(w5,5)),n&2){let o;lt(o=pt())&&(i.nodeElements=o),lt(o=pt())&&(i.linkElements=o)}},hostBindings:function(n,i){n&1&&Oe("mousemove",function(s){return i.onMouseMove(s)},!1,ir)("mousedown",function(s){return i.onMouseDown(s)},!1,ir)("click",function(s){return i.graphClick(s)},!1,ir)("touchmove",function(s){return i.onTouchMove(s)},!1,ir)("mouseup",function(s){return i.onMouseUp(s)},!1,ir)},inputs:{nodes:"nodes",clusters:"clusters",compoundNodes:"compoundNodes",links:"links",activeEntries:"activeEntries",curve:"curve",draggingEnabled:"draggingEnabled",nodeHeight:"nodeHeight",nodeMaxHeight:"nodeMaxHeight",nodeMinHeight:"nodeMinHeight",nodeWidth:"nodeWidth",nodeMinWidth:"nodeMinWidth",nodeMaxWidth:"nodeMaxWidth",panningEnabled:"panningEnabled",panningAxis:"panningAxis",enableZoom:"enableZoom",zoomSpeed:"zoomSpeed",minZoomLevel:"minZoomLevel",maxZoomLevel:"maxZoomLevel",autoZoom:"autoZoom",panOnZoom:"panOnZoom",animate:"animate",autoCenter:"autoCenter",update$:"update$",center$:"center$",zoomToFit$:"zoomToFit$",panToNode$:"panToNode$",layout:"layout",layoutSettings:"layoutSettings",enableTrackpadSupport:"enableTrackpadSupport",showMiniMap:"showMiniMap",miniMapMaxWidth:"miniMapMaxWidth",miniMapMaxHeight:"miniMapMaxHeight",miniMapPosition:"miniMapPosition",view:"view",scheme:"scheme",customColors:"customColors",deferDisplayUntilPosition:"deferDisplayUntilPosition",centerNodesOnPositionChange:"centerNodesOnPositionChange",enablePreUpdateTransform:"enablePreUpdateTransform",groupResultsBy:"groupResultsBy",zoomLevel:"zoomLevel",panOffsetX:"panOffsetX",panOffsetY:"panOffsetY"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",zoomChange:"zoomChange",clickHandler:"clickHandler",stateChange:"stateChange"},features:[cf],ngContentSelectors:E5,decls:6,vars:11,consts:[["nodeGroup",""],["clusterElement",""],["nodeElement",""],["linkElement",""],["mouseWheel","",1,"ngx-graph-outer",3,"mouseWheelUp","mouseWheelDown"],[1,"ngx-graph"],["class","graph chart",3,"touchstart","touchend",4,"ngIf"],["class","minimap",4,"ngIf"],[1,"graph","chart",3,"touchstart","touchend"],[3,"ngTemplateOutlet",4,"ngIf"],["class","text-path",4,"ngFor","ngForOf"],[1,"panning-rect",3,"mousedown"],[1,"clusters"],["class","node-group",3,"old-node","id","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"compound-nodes"],["class","node-group",3,"old-node","id","click","mousedown",4,"ngFor","ngForOf","ngForTrackBy"],[1,"links"],["class","link-group",3,"id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nodes"],[3,"ngTemplateOutlet"],[1,"text-path"],[1,"node-group",3,"click","id"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","node cluster",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"node","cluster"],["alignment-baseline","central"],[1,"node-group",3,"click","mousedown","id"],["class","node compound-node",4,"ngIf"],[1,"node","compound-node"],[1,"link-group",3,"id"],["class","edge",4,"ngIf"],[1,"edge"],["r","10",4,"ngIf"],["r","10"],[1,"minimap"],[1,"minimap-background",3,"mousedown"],[1,"minimap-nodes"],["class","node-group",3,"old-node","id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"minimap-drag",3,"mousedown"],[1,"node-group",3,"id"]],template:function(n,i){n&1&&(hf(),Y(0,"div",4),Oe("mouseWheelUp",function(s){return i.onZoom(s,"in")})("mouseWheelDown",function(s){return i.onZoom(s,"out")}),K(),Y(1,"svg",5),ge(2,F5,15,14,"g",6),Y(3,"clipPath"),ct(4,"rect"),ee(),ge(5,V5,6,15,"g",7),ee()()),n&2&&(Wn("width",i.width,"px"),F("@animationState","active")("@.disabled",!i.animate),G(),Q("width",i.width)("height",i.height),G(),F("ngIf",i.initialized&&i.graph),G(),Q("id",i.minimapClipPathId),G(),Q("width",i.graphDims.width/i.minimapScaleCoefficient)("height",i.graphDims.height/i.minimapScaleCoefficient),G(),F("ngIf",i.showMiniMap))},dependencies:[df,gf,mf,X5],styles:[`.minimap .minimap-background{fill:#0000001a}.minimap .minimap-drag{fill:#0003;stroke:#fff;stroke-width:1px;stroke-dasharray:2px;stroke-dashoffset:2px;cursor:pointer}.minimap .minimap-drag.panning{fill:#0000004d}.minimap .minimap-nodes{opacity:.5;pointer-events:none}.graph{-webkit-user-select:none;user-select:none}.graph .edge{stroke:#666;fill:none}.graph .edge .edge-label{stroke:none;font-size:12px;fill:#251e1e}.graph .panning-rect{fill:#0000;cursor:move}.graph .node-group.old-node{transition:transform .5s ease-in-out}.graph .node-group .node:focus{outline:none}.graph .compound-node rect{opacity:.5}.graph .cluster rect{opacity:.2}
`],encapsulation:2,data:{animation:[vf("animationState",[xf(":enter",[rs({opacity:0}),yf("500ms 100ms",rs({opacity:1}))])])]},changeDetection:0})}return of([H5(500)],e.prototype,"updateMinimap",null),e})(),W5=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=Xo({type:e});static \u0275inj=Yo({providers:[s1],imports:[ts]})}return e})(),Aee=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=Xo({type:e});static \u0275inj=Yo({imports:[ts,W5]})}return e})();export{ti as a,hE as b,lE as c,dE as d,$t as e,Yc as f,vi as g,Bt as h,As as i,Bs as j,zs as k,Cee as l,Aee as m};
