import{ia as O,ja as D}from"./chunk-H5SZDBVN.js";import{u as _}from"./chunk-AWIVOLPG.js";import{b as P}from"./chunk-AGIEFCW2.js";import{$a as u,Ba as h,Ea as s,Gb as E,Ka as m,Qb as g,Rb as C,Sa as d,Ta as l,Ua as c,W as t,Wb as S,Zb as f,fc as v,gc as H,h as a,hc as y,pd as I,td as p,xc as w,xd as $}from"./chunk-SXJN2XK6.js";var M=["unifiedEditor"],A=(()=>{class n{constructor(){this.readOnly=!1,this.mode="DOC",this.contentHtml="",this.onChange=new u}ngOnChanges(e){}ngOnInit(){}ngOnDestroy(){}onBridgeDataChange(e){this.onChange.emit(e)}save(){return a(this,null,function*(){return this.unifiedEditor?yield this.unifiedEditor.getData():this.data})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=m({type:n,selectors:[["app-paper-editor"]],viewQuery:function(r,i){if(r&1&&v(M,5),r&2){let o;H(o=y())&&(i.unifiedEditor=o.first)}},inputs:{data:"data",readOnly:"readOnly",paperId:"paperId",mode:"mode",contentHtml:"contentHtml"},outputs:{onChange:"onChange"},standalone:!0,features:[d,w],decls:2,vars:5,consts:[["unifiedEditor",""],[3,"onDataChange","mode","paperId","initialData","readOnly","contentHtml"]],template:function(r,i){if(r&1){let o=S();g(0,"app-unified-editor",1,0),f("onDataChange",function(k){return l(o),c(i.onBridgeDataChange(k))}),C()}r&2&&E("mode",i.mode)("paperId",i.paperId)("initialData",i.data)("readOnly",i.readOnly)("contentHtml",i.contentHtml)},dependencies:[I,_,D,O],styles:[".ce-block__content[_ngcontent-%COMP%], .ce-toolbar__content[_ngcontent-%COMP%]{max-width:900px}.ce-editorjs[_ngcontent-%COMP%]{padding-bottom:50px}"]})}}return n})();var W=(()=>{class n{constructor(e,r){this.httpClient=e,this.commonHttpErrorService=r}getPapers(e){let r="papers",i=new p().set("pageSize",e.pageSize.toString()).set("skip",e.skip.toString()).set("orderBy",e.orderBy||"createdDate desc");return e.categoryId&&(i=i.set("categoryId",e.categoryId)),e.name&&(i=i.set("name",e.name)),e.clientId&&(i=i.set("clientId",e.clientId)),e.statusId&&(i=i.set("statusId",e.statusId)),e.metaTags&&(i=i.set("metaTags",e.metaTags)),this.httpClient.get(r,{params:i,observe:"response"}).pipe(t(this.commonHttpErrorService.handleError))}getAssignedPapers(e){let r="papers/assigned",i=new p().set("pageSize",e.pageSize.toString()).set("skip",e.skip.toString());return e.categoryId&&(i=i.set("categoryId",e.categoryId)),e.name&&(i=i.set("name",e.name)),this.httpClient.get(r,{params:i,observe:"response"}).pipe(t(this.commonHttpErrorService.handleError))}getPaper(e){return this.httpClient.get(`papers/${e}`).pipe(t(this.commonHttpErrorService.handleError))}addPaper(e){return this.httpClient.post("papers",e).pipe(t(this.commonHttpErrorService.handleError))}updatePaper(e,r){return this.httpClient.put(`papers/${e}`,r).pipe(t(this.commonHttpErrorService.handleError))}deletePaper(e){return this.httpClient.delete(`papers/${e}`).pipe(t(this.commonHttpErrorService.handleError))}getPermissions(e){return this.httpClient.get(`papers/${e}/permissions`).pipe(t(this.commonHttpErrorService.handleError))}addRolePermission(e){return this.httpClient.post("papers/permissions/role",e).pipe(t(this.commonHttpErrorService.handleError))}addUserPermission(e){return this.httpClient.post("papers/permissions/user",e).pipe(t(this.commonHttpErrorService.handleError))}deleteRolePermission(e){return this.httpClient.delete(`papers/permissions/role/${e}`).pipe(t(this.commonHttpErrorService.handleError))}deleteUserPermission(e){return this.httpClient.delete(`papers/permissions/user/${e}`).pipe(t(this.commonHttpErrorService.handleError))}getVersions(e){return this.httpClient.get(`papers/${e}/versions`).pipe(t(this.commonHttpErrorService.handleError))}restoreVersion(e){return this.httpClient.post(`papers/versions/${e}/restore`,{}).pipe(t(this.commonHttpErrorService.handleError))}getComments(e){return this.httpClient.get(`papers/${e}/comments`).pipe(t(this.commonHttpErrorService.handleError))}addComment(e){return this.httpClient.post("papers/comments",e).pipe(t(this.commonHttpErrorService.handleError))}deleteComment(e){return this.httpClient.delete(`papers/comments/${e}`).pipe(t(this.commonHttpErrorService.handleError))}getAuditTrails(e){return this.httpClient.get(`papers/${e}/audit`).pipe(t(this.commonHttpErrorService.handleError))}getShareLink(e){return this.httpClient.get(`papers/${e}/share-link`).pipe(t(this.commonHttpErrorService.handleError))}saveShareLink(e){return this.httpClient.post("papers/share-link",e).pipe(t(this.commonHttpErrorService.handleError))}deleteShareLink(e){return this.httpClient.delete(`papers/share-link/${e}`).pipe(t(this.commonHttpErrorService.handleError))}getSheetColumns(e){return this.httpClient.get(`papers/${e}/sheets/columns`).pipe(t(this.commonHttpErrorService.handleError))}addSheetColumn(e,r){return this.httpClient.post(`papers/${e}/sheets/columns`,r).pipe(t(this.commonHttpErrorService.handleError))}updateSheetColumn(e,r){return this.httpClient.patch(`sheets/columns/${e}`,r).pipe(t(this.commonHttpErrorService.handleError))}deleteSheetColumn(e){return this.httpClient.delete(`sheets/columns/${e}`).pipe(t(this.commonHttpErrorService.handleError))}getSheetRows(e,r){let i=`papers/${e}/sheets/rows`,o=new p().set("pageSize",r.pageSize.toString()).set("page",r.page.toString());return this.httpClient.get(i,{params:o,observe:"response"}).pipe(t(this.commonHttpErrorService.handleError))}addSheetRow(e,r){return this.httpClient.post(`papers/${e}/sheets/rows`,{data:r}).pipe(t(this.commonHttpErrorService.handleError))}updateSheetRow(e,r){return this.httpClient.patch(`sheets/rows/${e}`,r).pipe(t(this.commonHttpErrorService.handleError))}deleteSheetRow(e){return this.httpClient.delete(`sheets/rows/${e}`).pipe(t(this.commonHttpErrorService.handleError))}static{this.\u0275fac=function(r){return new(r||n)(s($),s(P))}}static{this.\u0275prov=h({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();export{W as a,A as b};
