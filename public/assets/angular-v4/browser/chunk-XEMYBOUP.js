import{a as ui,b as fi,c as _i}from"./chunk-NHJQYGB7.js";import{a as P,b as hi}from"./chunk-BFIBOEJN.js";import{e as li}from"./chunk-BA7IEC3F.js";import{a as di,b as ci}from"./chunk-5ETFIZHZ.js";import{a as si}from"./chunk-EDFYBFRY.js";import{a as $e,b as je,c as Ye,d as We,e as Ge}from"./chunk-DL7A26HC.js";import{a as ut,b as ft}from"./chunk-3NG6G7DU.js";import{b as ht}from"./chunk-6RIQ7ZPY.js";import{b as _t}from"./chunk-6KAN7QFK.js";import{b as St}from"./chunk-I5DMEMR4.js";import"./chunk-DDGV2SYP.js";import"./chunk-4PLUQBVO.js";import{a as vt,b as Ct,c as Qe}from"./chunk-WGGER5HX.js";import{a as ct}from"./chunk-DL4SMTXP.js";import"./chunk-V4GBUP5U.js";import{$ as pi,A as pt,B as ne,C as mt,D as ni,E as ai,F as ri,G as oi,H as Se,I as ve,J as Ce,L as ge,M as Ee,O as xe,P as Te,R as Ie,S as Pe,U as be,W as De,X as Ue,Y as Me,Z as lt,_ as st,a as Ne,aa as mi,b as Wt,ba as F,c as at,ca as ye,ea as ae,f as rt,i as Kt,j as A,ja as B,k as Z,l as Jt,m as Xt,n as Zt,o as ei,p as ti,q as ii,v as te,w as he,x as ot,z as ie}from"./chunk-H5SZDBVN.js";import"./chunk-XE6VZSAJ.js";import{a as nt,c as dt}from"./chunk-KX634QZQ.js";import{C as Ae,D as ke,F as Fe,H as Be,I as et,J as Oe,L as qt,f as jt}from"./chunk-3O3IKF6A.js";import{ca as Yt,ia as y,ja as U,ka as ee,ma as k,na as _e}from"./chunk-TR4MAYT5.js";import{p as H,t as w,u as R}from"./chunk-AWIVOLPG.js";import"./chunk-J2LIJEQH.js";import"./chunk-AGIEFCW2.js";import"./chunk-F5F27R7A.js";import{A as Qt,B as He,C as zt,D as X,c as le,e as se,h as de,i as ce,m as J,o as it,r as ue,u as fe}from"./chunk-6EN4EXPL.js";import{$ as Ot,$b as v,$c as Ut,B as Pt,Ca as Xe,Cb as f,Fa as h,Fc as l,Gb as d,Gc as s,Hb as Vt,Hc as $,Ka as b,Kd as tt,La as Ze,Md as Ve,N as Ft,Nd as Gt,Pd as yt,Q as Bt,Qb as n,Rb as a,Sa as oe,Sb as C,Ta as g,Tb as x,Ua as E,Ub as T,W as bt,Wb as I,Xa as q,Zb as S,a as qe,b as Ke,cc as N,cd as pe,dd as Y,fa as Nt,fc as G,gc as Q,ha as Dt,hc as z,jd as $t,kc as K,mc as r,md as me,nc as _,ob as i,oc as c,p as Je,pb as O,pc as Ht,pd as M,wa as Mt,xc as L,yc as V,zb as D}from"./chunk-SXJN2XK6.js";var gt=class{constructor(m){this.paperService=m,this.paperSubject=new Je([]),this.responseHeaderSubject=new Je(null),this.loadingSubject=new Je(!1),this.loading$=this.loadingSubject.asObservable(),this.responseHeader$=this.responseHeaderSubject.asObservable()}connect(){return this.paperSubject.asObservable()}disconnect(){this.paperSubject.complete(),this.loadingSubject.complete(),this.responseHeaderSubject.complete()}loadPapers(m){this.loadingSubject.next(!0),this.paperService.getPapers(m).pipe(bt(()=>Pt([])),Dt(()=>this.loadingSubject.next(!1))).subscribe(t=>{if(t&&t.headers){let p={totalCount:t.headers.get("totalCount"),pageSize:t.headers.get("pageSize"),skip:t.headers.get("skip")};this.responseHeaderSubject.next(p),this.paperSubject.next(t.body)}})}loadAssignedPapers(m){this.loadingSubject.next(!0),this.paperService.getAssignedPapers(m).pipe(bt(()=>Pt([])),Dt(()=>this.loadingSubject.next(!1))).subscribe(t=>{if(t&&t.headers){let p={totalCount:t.headers.get("totalCount"),pageSize:t.headers.get("pageSize"),skip:t.headers.get("skip")};this.responseHeaderSubject.next(p),this.paperSubject.next(t.body)}})}};var Et=class extends si{constructor(){super(...arguments),this.id="",this.createdBy="",this.categoryId="",this.clientId="",this.statusId="",this.paperId="",this.metaTags=""}};function yi(e,m){if(e&1){let t=I();n(0,"div",8)(1,"div",9)(2,"mat-form-field",10)(3,"mat-label"),r(4),l(5,"translate"),a(),C(6,"input",11),n(7,"button",12)(8,"mat-icon"),r(9,"content_copy"),a()()()(),n(10,"div",13)(11,"button",14),S("click",function(){g(t);let o=v();return E(o.isResetLink=!0)}),r(12),l(13,"translate"),a(),n(14,"button",15),S("click",function(){g(t);let o=v();return E(o.deleteLink())}),r(15),l(16,"translate"),a()()()}if(e&2){let t=v();i(4),_(s(5,4,"SHAREABLE_LINK")),i(3),d("cdkCopyToClipboard",t.paperLinkForm.get("linkCode").value),i(5),c(" ",s(13,6,"UPDATE_LINK")," "),i(3),c(" ",s(16,8,"DELETE")," ")}}function wi(e,m){e&1&&(n(0,"mat-error"),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"EXPIRY_DATE_IS_REQURED")," "))}function Ri(e,m){if(e&1&&(n(0,"div",16)(1,"mat-form-field",10)(2,"mat-label"),r(3),l(4,"translate"),a(),C(5,"input",26)(6,"owl-date-time",null,0),f(8,wi,3,3,"mat-error",27),a()()),e&2){let t=K(7),p=v(2);i(3),_(s(4,5,"IS_LINK_VALID_UNTIL")),i(2),d("min",p.minDate)("owlDateTimeTrigger",t)("owlDateTime",t),i(3),d("ngIf",p.paperLinkForm.hasError("linkExpiryTimeValidator"))}}function Li(e,m){e&1&&(n(0,"mat-error"),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"PASSWORD_IS_REQUIRED")," "))}function Ai(e,m){if(e&1&&(n(0,"div",16)(1,"mat-form-field",10)(2,"mat-label"),r(3),l(4,"translate"),a(),C(5,"input",28),f(6,Li,3,3,"mat-error",27),a()()),e&2){let t=v(2);i(3),_(s(4,2,"PASSWORD")),i(3),d("ngIf",t.paperLinkForm.hasError("passwordValidator"))}}function ki(e,m){if(e&1){let t=I();n(0,"button",29),S("click",function(){g(t);let o=v(2);return E(o.isResetLink=!1)}),r(1),l(2,"translate"),a()}e&2&&(i(),c(" ",s(2,1,"CANCEL")," "))}function Fi(e,m){if(e&1){let t=I();n(0,"div",8)(1,"div",9)(2,"div",8)(3,"div",16)(4,"mat-slide-toggle",17),r(5),l(6,"translate"),a()(),f(7,Ri,9,7,"div",18),a(),n(8,"div",19)(9,"div",16)(10,"mat-slide-toggle",20),r(11),l(12,"translate"),a()(),f(13,Ai,7,4,"div",18),a(),n(14,"div",19)(15,"div",9)(16,"mat-slide-toggle",21),r(17),l(18,"translate"),a()()(),n(19,"div",22)(20,"div",23)(21,"button",24),S("click",function(){g(t);let o=v();return E(o.createLink())}),r(22),l(23,"translate"),a(),f(24,ki,3,3,"button",25),a()()()()}if(e&2){let t=v();i(5),_(s(6,7,"LINK_EXPIRATION")),i(2),d("ngIf",t.paperLinkForm.get("isLinkExpiryTime").value),i(4),_(s(12,9,"PASSWORD_PROTECTION")),i(2),d("ngIf",t.paperLinkForm.get("isPassword").value),i(4),_(s(18,11,"USERS_WITH_LINK_CAN_DOWNLOAD_THIS_ITEM")),i(5),c(" ",s(23,13,t.isEditMode?"UPDATE_LINK":"CREATE_LINK")," "),i(2),d("ngIf",t.isEditMode)}}var It=(()=>{class e extends y{constructor(t){super(),this.data=t,this.isEditMode=!1,this.isResetLink=!1,this.minDate=new Date,this.baseUrl=`${window.location.protocol}//${window.location.host}/papers/preview/`,this.fb=h(He),this.paperService=h(P),this.toastrService=h(H),this.commonDialogService=h(ae),this.translationService=h(U),this.dialogRef=h(Ae)}ngOnInit(){this.createPaperLinkForm(),this.data.link&&this.data.link.id&&(this.isEditMode=!0,this.patchValue())}patchValue(){this.paperLinkForm.patchValue(this.data.link),this.paperLinkForm.get("linkCode").setValue(`${this.baseUrl}${this.data.link.code}`),this.data.link.expiresAt&&(this.paperLinkForm.get("isLinkExpiryTime").setValue(!0),this.paperLinkForm.get("linkExpiryTime").setValue(this.data.link.expiresAt)),this.data.link.hasPassword&&this.paperLinkForm.get("isPassword").setValue(!0)}createPaperLinkForm(){this.paperLinkForm=this.fb.group({id:[""],isLinkExpiryTime:new J(!1),linkExpiryTime:[""],isPassword:new J(!1),password:[""],linkCode:[""],isAllowDownload:new J(!1)},{validator:this.checkData})}checkData(t){let p=t.get("isLinkExpiryTime").value,o=t.get("linkExpiryTime").value,u=t.get("isPassword").value,j=t.get("password").value,W={};return p&&!o&&(W.linkExpiryTimeValidator=!0),u&&!j&&(W.passwordValidator=!0),W}createLink(){if(!this.paperLinkForm.valid){this.paperLinkForm.markAllAsTouched();return}let t=this.createBuildObject();this.paperService.saveShareLink(t).subscribe(p=>{this.toastrService.success(this.translationService.getValue("LINK_GENERATED_SUCCESSFULLY")),this.data.link=p,this.isEditMode=!0,this.isResetLink=!1,this.patchValue()})}deleteLink(){this.commonDialogService.deleteConformationDialog(this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE")).subscribe(t=>{t&&this.paperService.deleteShareLink(this.data.link.id).subscribe(()=>{this.toastrService.success(this.translationService.getValue("DOCUMENT_LINK_DELETED_SUCCESSFULLY")),this.dialogRef.close(!0)})})}createBuildObject(){let t=this.paperLinkForm.get("id").value,p=this.paperLinkForm.get("linkCode").value;return p&&(p=p.replace(this.baseUrl,"")),{id:t,paperId:this.data.paper.id,isAllowDownload:this.paperLinkForm.get("isAllowDownload").value,password:this.paperLinkForm.get("isPassword").value?this.paperLinkForm.get("password").value:"",hasPassword:this.paperLinkForm.get("isPassword").value,expiresAt:this.paperLinkForm.get("isLinkExpiryTime").value?this.paperLinkForm.get("linkExpiryTime").value:"",code:p}}closeDialog(){this.dialogRef.close()}static{this.\u0275fac=function(p){return new(p||e)(O(ke))}}static{this.\u0275cmp=b({type:e,selectors:[["app-paper-shareable-link"]],standalone:!0,features:[D,L],decls:14,vars:6,consts:[["dt1",""],[1,"modalHeader"],[1,"editRowModal"],[1,"title"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[3,"formGroup"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-12"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","linkCode","readonly",""],["mat-icon-button","","matSuffix","",3,"cdkCopyToClipboard"],[1,"col-md-12","text-center","m-b-10"],["mat-button","","color","primary",3,"click"],["mat-button","","color","warn",3,"click"],[1,"col-md-6"],["formControlName","isLinkExpiryTime"],["class","col-md-6",4,"ngIf"],[1,"row","m-t-15"],["formControlName","isPassword"],["formControlName","isAllowDownload"],[1,"row","m-t-20"],[1,"col-md-12","text-center"],["mat-raised-button","","color","primary",3,"click"],["mat-button","",3,"click",4,"ngIf"],["matInput","","formControlName","linkExpiryTime",3,"min","owlDateTimeTrigger","owlDateTime"],[4,"ngIf"],["matInput","","formControlName","password","type","password"],["mat-button","",3,"click"]],template:function(p,o){p&1&&(n(0,"div",1)(1,"div",2)(2,"div",1)(3,"div",3)(4,"h2"),r(5),l(6,"translate"),a()()()(),n(7,"button",4),S("click",function(){return o.closeDialog()}),n(8,"mat-icon"),r(9,"close"),a()()(),n(10,"div",5)(11,"form",6),f(12,yi,17,10,"div",7)(13,Fi,25,15,"div",7),a()()),p&2&&(i(5),_(s(6,4,"SHAREABLE_LINK")),i(6),d("formGroup",o.paperLinkForm),i(),d("ngIf",o.isEditMode&&!o.isResetLink),i(),d("ngIf",!o.isEditMode||o.isResetLink))},dependencies:[M,Y,R,w,B,it,le,de,ce,ue,fe,ee,k,ne,ie,te,he,ot,A,ni,X,Oe,Be,Z,_e,mt,pt,ai,We,$e,Ye,je,Ge,ci,di]})}}return e})();var Ni=["input"],Vi=()=>["/dashboard"],Hi=()=>[5,10,20,50],Ui=()=>["ALL_PAPERS_EDIT_PAPER","MY_PAPERS_EDIT_PAPER"],$i=()=>["ALL_PAPERS_DELETE_PAPER","MY_PAPERS_DELETE_PAPER"],ji=()=>["ALL_PAPERS_VIEW_PAPERS","MY_PAPERS_VIEW_PAPERS"];function Yi(e,m){if(e&1){let t=I();n(0,"button",44),S("click",function(){g(t);let o=v();return E(o.addPaper())}),n(1,"mat-icon"),r(2,"add"),a(),r(3),l(4,"translate"),a()}e&2&&(i(3),c(" ",s(4,1,"ADD_PAPER")," "))}function Wi(e,m){if(e&1&&(n(0,"mat-option",45),r(1),a()),e&2){let t=m.$implicit;d("value",t.id),i(),c(" ",t.name," ")}}function Gi(e,m){if(e&1&&(n(0,"mat-option",45),r(1),a()),e&2){let t=m.$implicit;d("value",t.id),i(),c(" ",t.companyName," ")}}function Qi(e,m){if(e&1&&(n(0,"mat-option",45),r(1),a()),e&2){let t=m.$implicit;d("value",t.id),i(),c(" ",t.name," ")}}function zi(e,m){e&1&&(n(0,"th",46),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"TYPE")," "))}function qi(e,m){e&1&&(n(0,"mat-icon",49),l(1,"translate"),r(2,"description"),a()),e&2&&N("matTooltip",s(1,1,"DOCUMENT"))}function Ki(e,m){e&1&&(n(0,"mat-icon",49),l(1,"translate"),r(2,"grid_on"),a()),e&2&&N("matTooltip",s(1,1,"SHEET"))}function Ji(e,m){e&1&&(n(0,"mat-icon",49),l(1,"translate"),r(2,"dashboard"),a()),e&2&&N("matTooltip",s(1,1,"WHITEBOARD"))}function Xi(e,m){if(e&1&&(n(0,"td",47),f(1,qi,3,3,"mat-icon",48)(2,Ki,3,3,"mat-icon",48)(3,Ji,3,3,"mat-icon",48),a()),e&2){let t=m.$implicit;i(),d("ngIf",t.contentType==="DOC"),i(),d("ngIf",t.contentType==="SHEET"),i(),d("ngIf",t.contentType==="WHITEBOARD")}}function Zi(e,m){e&1&&(n(0,"th",46),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"ACTION")," "))}function en(e,m){if(e&1){let t=I();n(0,"button",51),S("click",function(){g(t);let o=v().$implicit,u=v();return E(u.editPaper(o))}),n(1,"mat-icon"),r(2,"edit"),a(),r(3),l(4,"translate"),a()}e&2&&(i(3),c(" ",s(4,1,"EDIT")," "))}function tn(e,m){if(e&1){let t=I();n(0,"button",51),S("click",function(){g(t);let o=v().$implicit,u=v();return E(u.deletePaper(o))}),n(1,"mat-icon"),r(2,"delete"),a(),r(3),l(4,"translate"),a()}e&2&&(i(3),c(" ",s(4,1,"DELETE")," "))}function nn(e,m){if(e&1){let t=I();n(0,"button",51),S("click",function(){g(t);let o=v().$implicit,u=v();return E(u.onPermission(o))}),n(1,"mat-icon"),r(2,"security"),a(),r(3),l(4,"translate"),a()}e&2&&(i(3),c(" ",s(4,1,"PERMISSIONS")," "))}function an(e,m){if(e&1){let t=I();n(0,"button",51),S("click",function(){g(t);let o=v().$implicit,u=v();return E(u.onVersionHistory(o))}),n(1,"mat-icon"),r(2,"history"),a(),r(3),l(4,"translate"),a()}e&2&&(i(3),c(" ",s(4,1,"VERSION_HISTORY")," "))}function rn(e,m){if(e&1){let t=I();n(0,"button",51),S("click",function(){g(t);let o=v().$implicit,u=v();return E(u.onComment(o))}),n(1,"mat-icon"),r(2,"chat"),a(),r(3),l(4,"translate"),a()}e&2&&(i(3),c(" ",s(4,1,"COMMENT")," "))}function on(e,m){if(e&1){let t=I();n(0,"button",51),S("click",function(){g(t);let o=v().$implicit,u=v();return E(u.onAuditTrail(o))}),n(1,"mat-icon"),r(2,"assessment"),a(),r(3),l(4,"translate"),a()}e&2&&(i(3),c(" ",s(4,1,"AUDIT_TRAIL")," "))}function pn(e,m){if(e&1){let t=I();n(0,"button",51),S("click",function(){g(t);let o=v().$implicit,u=v();return E(u.onShareLink(o))}),n(1,"mat-icon"),r(2,"share"),a(),r(3),l(4,"translate"),a()}e&2&&(i(3),c(" ",s(4,1,"SHAREABLE_LINK")," "))}function mn(e,m){if(e&1){let t=I();n(0,"td",47)(1,"button",50),S("click",function(o){return g(t),E(o.stopPropagation())}),n(2,"mat-icon"),r(3,"more_vert"),a()(),n(4,"mat-menu",null,1)(6,"button",51),S("click",function(){let o=g(t).$implicit,u=v();return E(u.viewPaper(o))}),n(7,"mat-icon"),r(8,"visibility"),a(),r(9),l(10,"translate"),a(),f(11,en,5,3,"button",52)(12,tn,5,3,"button",52),C(13,"mat-divider"),f(14,nn,5,3,"button",52)(15,an,5,3,"button",52)(16,rn,5,3,"button",52)(17,on,5,3,"button",52)(18,pn,5,3,"button",52),a()()}if(e&2){let t=K(5);i(),d("matMenuTriggerFor",t),i(8),c(" ",s(10,9,"VIEW")," "),i(2),d("hasClaim",V(11,Ui)),i(),d("hasClaim",V(12,$i)),i(2),d("hasClaim","PAPER_PERMISSION_VIEW"),i(),d("hasClaim","PAPER_HISTORY_VIEW"),i(),d("hasClaim",V(13,ji)),i(),d("hasClaim","PAPER_AUDIT_VIEW"),i(),d("hasClaim","PAPER_SHARE_MANAGE")}}function ln(e,m){e&1&&(n(0,"th",53),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"NAME")," "))}function sn(e,m){if(e&1&&(n(0,"td",47),r(1),a()),e&2){let t=m.$implicit;i(),c(" ",t.name," ")}}function dn(e,m){e&1&&(n(0,"th",53),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"CATEGORY")," "))}function cn(e,m){if(e&1&&(n(0,"td",47),r(1),a()),e&2){let t=m.$implicit;i(),c(" ",t.categoryName," ")}}function un(e,m){e&1&&(n(0,"th",53),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"CREATED_DATE")," "))}function fn(e,m){if(e&1&&(n(0,"td",47),r(1),l(2,"date"),a()),e&2){let t=m.$implicit;i(),c(" ",$(2,1,t.createdDate,"dd/MM/yyyy HH:mm")," ")}}function _n(e,m){e&1&&(n(0,"th",53),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"CLIENT")," "))}function hn(e,m){if(e&1&&(n(0,"td",47),r(1),a()),e&2){let t=m.$implicit;i(),c(" ",t.companyName," ")}}function Sn(e,m){e&1&&(n(0,"th",53),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"STATUS")," "))}function vn(e,m){if(e&1&&(n(0,"td",47)(1,"span",54),r(2),a()()),e&2){let t=m.$implicit;i(),Vt("background-color",t.colorCode),i(),_(t.statusName)}}function Cn(e,m){e&1&&(n(0,"th",53),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"CREATED_BY")," "))}function gn(e,m){if(e&1&&(n(0,"td",47),r(1),a()),e&2){let t=m.$implicit;i(),c(" ",t.createdByName," ")}}function En(e,m){e&1&&C(0,"tr",55)}function xn(e,m){if(e&1){let t=I();n(0,"tr",56),S("click",function(){let o=g(t).$implicit,u=v();return E(u.viewPaper(o))}),a()}}function Tn(e,m){e&1&&(n(0,"div",57),C(1,"mat-spinner"),a())}var kt=(()=>{class e extends y{constructor(t,p,o,u,j,W,Mi){super(),this.paperService=t,this.translationService=p,this.toastrService=o,this.dialog=u,this.commonDialogService=j,this.router=W,this.route=Mi,this.displayedColumns=["action","contentType","name","categoryName","createdDate","companyName","statusName","createdBy"],this.selection=new jt(!0,[]),this.isAssigned=!1,this.categoryStore=h(St),this.clientStore=h(_t),this.documentStatusStore=h(ht),this.paperResource=new Et,this.paperResource.pageSize=10,this.paperResource.orderBy="createdDate desc"}ngOnInit(){this.isAssigned=this.route.snapshot.data.isAssigned||!1,this.dataSource=new gt(this.paperService),this.loadData(),this.sub$.sink=this.translationService.lanDir$.subscribe(t=>this.direction=t)}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.sub$.sink=Bt(this.sort.sortChange,this.paginator.page).pipe(Mt(()=>{this.paperResource.skip=this.paginator.pageIndex*this.paginator.pageSize,this.paperResource.pageSize=this.paginator.pageSize,this.paperResource.orderBy=this.sort.active+" "+this.sort.direction,this.loadData()})).subscribe(),this.sub$.sink=Ft(this.input.nativeElement,"keyup").pipe(Ot(1e3),Nt(),Mt(()=>{this.paginator.pageIndex=0,this.paperResource.skip=0,this.paperResource.name=this.input.nativeElement.value,this.loadData()})).subscribe()}loadData(){this.isAssigned?this.dataSource.loadAssignedPapers(this.paperResource):this.dataSource.loadPapers(this.paperResource)}onCategoryChange(t){this.paperResource.categoryId=t==="0"?"":t,this.paginator.pageIndex=0,this.paperResource.skip=0,this.loadData()}onClientChange(t){this.paperResource.clientId=t==="0"?"":t,this.paginator.pageIndex=0,this.paperResource.skip=0,this.loadData()}onStatusChange(t){this.paperResource.statusId=t==="0"?"":t,this.paginator.pageIndex=0,this.paperResource.skip=0,this.loadData()}onComment(t){this.router.navigate(["/papers",t.id],{queryParams:{tab:"comment"}})}addPaper(){this.router.navigate(["/papers/manage"])}editPaper(t){this.router.navigate(["/papers/manage",t.id])}viewPaper(t){this.router.navigate(["/papers",t.id])}deletePaper(t){this.sub$.sink=this.commonDialogService.deleteConformationDialog(`Are you sure you want to delete ${t.name}?`).subscribe(p=>{p&&(this.sub$.sink=this.paperService.deletePaper(t.id).subscribe(()=>{this.toastrService.success("Paper deleted successfully"),this.loadData()}))})}onShareLink(t){this.paperService.getShareLink(t.id).subscribe(p=>{this.dialog.open(It,{width:"600px",data:{paper:t,link:p}})})}onPermission(t){this.router.navigate(["/papers",t.id],{queryParams:{tab:"permission"}})}onVersionHistory(t){this.router.navigate(["/papers",t.id],{queryParams:{tab:"version"}})}onAuditTrail(t){this.router.navigate(["/papers",t.id],{queryParams:{tab:"audit"}})}static{this.\u0275fac=function(p){return new(p||e)(O(P),O(U),O(H),O(Fe),O(ae),O(Ve),O(tt))}}static{this.\u0275cmp=b({type:e,selectors:[["app-paper-list"]],viewQuery:function(p,o){if(p&1&&(G(F,5),G(Me,5),G(Ni,5)),p&2){let u;Q(u=z())&&(o.paginator=u.first),Q(u=z())&&(o.sort=u.first),Q(u=z())&&(o.input=u.first)}},features:[D],decls:97,vars:48,consts:[["input",""],["menu","matMenu"],[1,"content"],[1,"content-block"],[1,"block-header"],[1,"breadcrumb-main"],[1,"row"],[1,"col-6"],[1,"page-title"],[1,"breadcrumb-list","list-unstyled"],[1,"breadcrumb-item","bcrumb-1"],[3,"routerLink"],[1,"fas","fa-home"],[1,"breadcrumb-item","active"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"body"],[1,"row","margin-bottom-10"],[1,"col-md-3"],["mat-raised-button","","color","primary",3,"click",4,"appHasClaim"],[1,"col-md-9","text-right"],["appearance","outline",1,"example-full-width"],["matInput","",3,"placeholder"],["matSuffix",""],[3,"selectionChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[1,"table-responsive"],["mat-table","","matSort","","matSortActive","createdDate","matSortDirection","desc",1,"w-100",3,"dataSource"],["matColumnDef","contentType"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","action"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","categoryName"],["matColumnDef","createdDate"],["matColumnDef","companyName"],["matColumnDef","statusName"],["matColumnDef","createdBy"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","cursor-pointer",3,"click",4,"matRowDef","matRowDefColumns"],["class","table-loading-shade",4,"ngIf"],[3,"length","pageSize","pageSizeOptions"],["mat-raised-button","","color","primary",3,"click"],[3,"value"],["mat-header-cell",""],["mat-cell",""],[3,"matTooltip",4,"ngIf"],[3,"matTooltip"],["mat-icon-button","",3,"click","matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"hasClaim"],["mat-header-cell","","mat-sort-header",""],[1,"label"],["mat-header-row",""],["mat-row","",1,"cursor-pointer",3,"click"],[1,"table-loading-shade"]],template:function(p,o){if(p&1){let u=I();n(0,"section",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7)(6,"h4",8),r(7),l(8,"translate"),a()(),n(9,"div",7)(10,"ul",9)(11,"li",10)(12,"a",11),C(13,"i",12),a()(),n(14,"li",13),r(15),l(16,"translate"),a()()()()()(),n(17,"div",6)(18,"div",14)(19,"div",15)(20,"div",16)(21,"div",17)(22,"div",18),f(23,Yi,5,3,"button",19),a(),n(24,"div",20)(25,"mat-form-field",21)(26,"mat-label"),r(27),l(28,"translate"),a(),C(29,"input",22,0),l(31,"translate"),n(32,"mat-icon",23),r(33,"search"),a()()()(),n(34,"div",17)(35,"div",18)(36,"mat-form-field",21)(37,"mat-label"),r(38),l(39,"translate"),a(),n(40,"mat-select",24),S("selectionChange",function(W){return g(u),E(o.onCategoryChange(W.value))}),n(41,"mat-option",25),r(42),l(43,"translate"),a(),f(44,Wi,2,2,"mat-option",26),a()()(),n(45,"div",18)(46,"mat-form-field",21)(47,"mat-label"),r(48),l(49,"translate"),a(),n(50,"mat-select",24),S("selectionChange",function(W){return g(u),E(o.onClientChange(W.value))}),n(51,"mat-option",25),r(52),l(53,"translate"),a(),f(54,Gi,2,2,"mat-option",26),a()()(),n(55,"div",18)(56,"mat-form-field",21)(57,"mat-label"),r(58),l(59,"translate"),a(),n(60,"mat-select",24),S("selectionChange",function(W){return g(u),E(o.onStatusChange(W.value))}),n(61,"mat-option",25),r(62),l(63,"translate"),a(),f(64,Qi,2,2,"mat-option",26),a()()()(),n(65,"div",27)(66,"table",28),x(67,29),f(68,zi,3,3,"th",30)(69,Xi,4,3,"td",31),T(),x(70,32),f(71,Zi,3,3,"th",30)(72,mn,19,14,"td",31),T(),x(73,33),f(74,ln,3,3,"th",34)(75,sn,2,1,"td",31),T(),x(76,35),f(77,dn,3,3,"th",34)(78,cn,2,1,"td",31),T(),x(79,36),f(80,un,3,3,"th",34)(81,fn,3,4,"td",31),T(),x(82,37),f(83,_n,3,3,"th",34)(84,hn,2,1,"td",31),T(),x(85,38),f(86,Sn,3,3,"th",34)(87,vn,3,3,"td",31),T(),x(88,39),f(89,Cn,3,3,"th",34)(90,gn,2,1,"td",31),T(),f(91,En,1,0,"tr",40)(92,xn,1,0,"tr",41),a(),f(93,Tn,2,0,"div",42),l(94,"async"),C(95,"mat-paginator",43),l(96,"async"),a()()()()()()()}if(p&2){let u;i(7),_(s(8,22,o.isAssigned?"MY_PAPERS":"ALL_PAPERS")),i(5),d("routerLink",V(46,Vi)),i(3),_(s(16,24,o.isAssigned?"MY_PAPERS":"ALL_PAPERS")),i(8),d("appHasClaim","ALL_PAPERS_CREATE_PAPER"),i(4),_(s(28,26,"SEARCH_PAPER")),i(2),N("placeholder",s(31,28,"SEARCH_PAPER")),i(9),_(s(39,30,"CATEGORY")),i(4),_(s(43,32,"ALL")),i(2),d("ngForOf",o.categoryStore.categories()),i(4),_(s(49,34,"CLIENT")),i(4),_(s(53,36,"ALL")),i(2),d("ngForOf",o.clientStore.clients()),i(4),_(s(59,38,"STATUS")),i(4),_(s(63,40,"ALL")),i(2),d("ngForOf",o.documentStatusStore.statusList()),i(2),d("dataSource",o.dataSource),i(25),d("matHeaderRowDef",o.displayedColumns),i(),d("matRowDefColumns",o.displayedColumns),i(),d("ngIf",s(94,42,o.dataSource.loading$)),i(2),d("length",(u=s(96,44,o.dataSource.responseHeader$))==null?null:u.totalCount)("pageSize",10)("pageSizeOptions",V(47,Hi))}},dependencies:[pe,Y,Gt,ee,k,ne,ie,te,ot,Jt,A,Ne,ei,Zt,ti,ri,Se,Ce,Te,ge,ve,Ie,Ee,xe,Pe,be,Me,lt,F,at,pi,Yt,$t,me,w]})}}return e})();function In(e,m){e&1&&(n(0,"mat-error"),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"COMMENT_IS_REQUIRED")," "))}function Pn(e,m){if(e&1){let t=I();n(0,"tr")(1,"td"),r(2),a(),n(3,"td"),r(4),a(),n(5,"td"),r(6),l(7,"date"),a(),n(8,"td")(9,"button",13),S("click",function(){let o=g(t).$implicit,u=v();return E(u.onDelete(o.id))}),n(10,"mat-icon"),r(11,"delete"),a()()()()}if(e&2){let t=m.$implicit;i(2),_(t.comment),i(2),_(t.createdBy),i(2),_($(7,3,t.createdAt,"dd/MM/yyyy HH:mm"))}}function bn(e,m){e&1&&(n(0,"tr")(1,"td",14),r(2),l(3,"translate"),a()()),e&2&&(i(2),_(s(3,1,"NO_DATA_FOUND")))}var Ci=(()=>{class e extends y{constructor(){super(...arguments),this.paperId="",this.shouldLoad=!1,this.paperComments=[],this.fb=h(Qt),this.paperService=h(P),this.commonDialogService=h(ae),this.translationService=h(U),this.toastrService=h(H)}ngOnInit(){this.createForm()}ngOnChanges(t){t.shouldLoad&&this.shouldLoad&&this.paperId&&this.getPaperComments()}createForm(){this.commentForm=this.fb.group({comment:["",[se.required]]})}getPaperComments(){this.paperService.getComments(this.paperId).subscribe(t=>{this.paperComments=t})}addComment(){if(this.commentForm.invalid){this.commentForm.markAllAsTouched();return}let t={paperId:this.paperId,comment:this.commentForm.get("comment").value};this.paperService.addComment(t).subscribe(()=>{this.commentForm.patchValue({comment:""}),this.commentForm.markAsUntouched(),this.getPaperComments()})}onDelete(t){this.commonDialogService.deleteConformationDialog(this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE")).subscribe(p=>{p&&this.paperService.deleteComment(t).subscribe(()=>{this.toastrService.success(this.translationService.getValue("COMMENT_DELETED_SUCCESSFULLY")),this.getPaperComments()})})}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=q(e)))(o||e)}})()}static{this.\u0275cmp=b({type:e,selectors:[["app-paper-comments"]],inputs:{paperId:"paperId",shouldLoad:"shouldLoad"},standalone:!0,features:[D,oe,L],decls:38,vars:22,consts:[[1,"row"],[1,"col-md-12"],[3,"ngSubmit","formGroup"],[1,"col-md-10"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","comment"],[4,"ngIf"],[1,"col-md-2","p-t-15"],["mat-raised-button","","color","primary","type","submit"],[1,"row","m-t-20"],[1,"table-responsive"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],["mat-icon-button","","color","warn",3,"click"],["colspan","4",1,"text-center"]],template:function(p,o){p&1&&(n(0,"div",0)(1,"div",1)(2,"form",2),S("ngSubmit",function(){return o.addComment()}),n(3,"div",0)(4,"div",3)(5,"mat-form-field",4)(6,"mat-label"),r(7),l(8,"translate"),a(),C(9,"textarea",5),f(10,In,3,3,"mat-error",6),a()(),n(11,"div",7)(12,"button",8)(13,"mat-icon"),r(14,"add"),a(),r(15),l(16,"translate"),a()()()()()(),n(17,"div",9)(18,"div",1)(19,"div",10)(20,"table",11)(21,"thead")(22,"tr")(23,"th"),r(24),l(25,"translate"),a(),n(26,"th"),r(27),l(28,"translate"),a(),n(29,"th"),r(30),l(31,"translate"),a(),n(32,"th"),r(33),l(34,"translate"),a()()(),n(35,"tbody"),f(36,Pn,12,6,"tr",12)(37,bn,4,3,"tr",6),a()()()()()),p&2&&(i(2),d("formGroup",o.commentForm),i(5),_(s(8,10,"COMMENT")),i(3),d("ngIf",o.commentForm.get("comment").hasError("required")),i(5),c(" ",s(16,12,"ADD")," "),i(9),_(s(25,14,"COMMENT")),i(3),_(s(28,16,"CREATED_BY")),i(3),_(s(31,18,"CREATED_DATE")),i(3),_(s(34,20,"ACTION")),i(3),d("ngForOf",o.paperComments),i(),d("ngIf",o.paperComments.length===0))},dependencies:[M,pe,Y,me,R,w,B,it,le,de,ce,ue,fe,ee,k,ne,ie,te,he,A,X]})}}return e})();var Mn=()=>[5,10,20];function yn(e,m){e&1&&(n(0,"th",13),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"VERSION")," "))}function wn(e,m){if(e&1&&(n(0,"td",14),r(1),a()),e&2){let t=m.index,p=v();i(),c(" v",p.dataSource.data.length-t," ")}}function Rn(e,m){e&1&&(n(0,"th",13),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"CREATED_BY")," "))}function Ln(e,m){if(e&1&&(n(0,"td",14),r(1),a()),e&2){let t=m.$implicit;i(),c(" ",t.createdBy," ")}}function An(e,m){e&1&&(n(0,"th",13),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"CREATED_DATE")," "))}function kn(e,m){if(e&1&&(n(0,"td",14),r(1),l(2,"utcToLocalTime"),a()),e&2){let t=m.$implicit;i(),c(" ",$(2,1,t.createdDate,"short")," ")}}function Fn(e,m){e&1&&(n(0,"th",13),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"ACTION")," "))}function Bn(e,m){if(e&1){let t=I();n(0,"td",14)(1,"button",15),l(2,"translate"),S("click",function(){let o=g(t).$implicit,u=v();return E(u.restoreVersion(o))}),n(3,"mat-icon"),r(4,"restore"),a()()()}e&2&&(i(),N("matTooltip",s(2,1,"RESTORE")))}function On(e,m){e&1&&C(0,"tr",16)}function Nn(e,m){e&1&&C(0,"tr",17)}var gi=(()=>{class e extends y{constructor(){super(...arguments),this.paperId="",this.shouldLoad=!1,this.dataSource=new Ue,this.displayedColumns=["version","createdBy","createdDate","action"],this.paperService=h(P),this.toastrService=h(H),this.translationService=h(U),this.commandDialogService=h(ae)}ngOnChanges(t){t.shouldLoad&&this.shouldLoad&&this.paperId&&this.getPaperVersions()}getPaperVersions(){this.paperService.getVersions(this.paperId).subscribe(t=>{this.dataSource.data=t,this.dataSource.paginator=this.paginator})}restoreVersion(t){this.commandDialogService.deleteConformationDialog(`${this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_RESTORE_THIS_TO_CURRENT_VERSION")}?`).subscribe(p=>{p&&this.paperService.restoreVersion(t.id).subscribe(()=>{this.toastrService.success(this.translationService.getValue("VERSION_RESTORED_SUCCESSFULLY")),this.getPaperVersions()})})}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=q(e)))(o||e)}})()}static{this.\u0275cmp=b({type:e,selectors:[["app-paper-versions"]],viewQuery:function(p,o){if(p&1&&G(F,5),p&2){let u;Q(u=z())&&(o.paginator=u.first)}},inputs:{paperId:"paperId",shouldLoad:"shouldLoad"},standalone:!0,features:[D,oe,L],decls:19,vars:5,consts:[[1,"row"],[1,"col-md-12"],[1,"table-responsive"],["mat-table","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","version"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","createdBy"],["matColumnDef","createdDate"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click","matTooltip"],["mat-header-row",""],["mat-row",""]],template:function(p,o){p&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"table",3),x(4,4),f(5,yn,3,3,"th",5)(6,wn,2,1,"td",6),T(),x(7,7),f(8,Rn,3,3,"th",5)(9,Ln,2,1,"td",6),T(),x(10,8),f(11,An,3,3,"th",5)(12,kn,3,4,"td",6),T(),x(13,9),f(14,Fn,3,3,"th",5)(15,Bn,5,3,"td",6),T(),f(16,On,1,0,"tr",10)(17,Nn,1,0,"tr",11),a(),C(18,"mat-paginator",12),a()()()),p&2&&(i(3),d("dataSource",o.dataSource),i(13),d("matHeaderRowDef",o.displayedColumns),i(),d("matRowDefColumns",o.displayedColumns),i(),d("pageSizeOptions",V(4,Mn)))},dependencies:[M,De,Se,Ce,Te,ge,ve,Ie,Ee,xe,Pe,be,R,w,ye,F,Z,A,B,k,Ne,rt]})}}return e})();var Vn=()=>[5,10,20];function Hn(e,m){e&1&&(n(0,"th",14),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"DATE_TIME")," "))}function Un(e,m){if(e&1&&(n(0,"td",15),r(1),l(2,"utcToLocalTime"),a()),e&2){let t=m.$implicit;i(),c(" ",$(2,1,t.createdDate,"short")," ")}}function $n(e,m){e&1&&(n(0,"th",14),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"OPERATION")," "))}function jn(e,m){if(e&1&&(n(0,"td",15),r(1),l(2,"translate"),a()),e&2){let t=m.$implicit;i(),c(" ",s(2,1,t.operationName.toUpperCase())," ")}}function Yn(e,m){e&1&&(n(0,"th",14),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"BY_WHOM")," "))}function Wn(e,m){if(e&1&&(n(0,"td",15),r(1),a()),e&2){let t=m.$implicit;i(),c(" ",t.createdBy," ")}}function Gn(e,m){e&1&&(n(0,"th",14),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"TO_WHOM_USER")," "))}function Qn(e,m){if(e&1&&(n(0,"td",15),r(1),a()),e&2){let t=m.$implicit;i(),c(" ",t.permissionUser||"-"," ")}}function zn(e,m){e&1&&(n(0,"th",14),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"TO_WHOM_ROLE")," "))}function qn(e,m){if(e&1&&(n(0,"td",15),r(1),a()),e&2){let t=m.$implicit;i(),c(" ",t.permissionRole||"-"," ")}}function Kn(e,m){e&1&&C(0,"tr",16)}function Jn(e,m){e&1&&C(0,"tr",17)}var Ei=(()=>{class e extends y{constructor(){super(...arguments),this.paperId="",this.shouldLoad=!1,this.dataSource=new Ue,this.displayedColumns=["createdDate","operationName","createdBy","permissionUser","permissionRole"],this.paperService=h(P)}ngOnInit(){}ngOnChanges(t){t.shouldLoad&&this.shouldLoad&&this.paperId&&this.getAuditTrails()}getAuditTrails(){this.paperService.getAuditTrails(this.paperId).subscribe(t=>{this.dataSource.data=t,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=q(e)))(o||e)}})()}static{this.\u0275cmp=b({type:e,selectors:[["app-paper-audit-trail"]],viewQuery:function(p,o){if(p&1&&(G(F,5),G(Me,5)),p&2){let u;Q(u=z())&&(o.paginator=u.first),Q(u=z())&&(o.sort=u.first)}},inputs:{paperId:"paperId",shouldLoad:"shouldLoad"},standalone:!0,features:[D,oe,L],decls:22,vars:5,consts:[[1,"row"],[1,"col-md-12"],[1,"table-responsive"],["mat-table","","matSort","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","createdDate"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","operationName"],["matColumnDef","createdBy"],["matColumnDef","permissionUser"],["matColumnDef","permissionRole"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(p,o){p&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"table",3),x(4,4),f(5,Hn,3,3,"th",5)(6,Un,3,4,"td",6),T(),x(7,7),f(8,$n,3,3,"th",5)(9,jn,3,3,"td",6),T(),x(10,8),f(11,Yn,3,3,"th",5)(12,Wn,2,1,"td",6),T(),x(13,9),f(14,Gn,3,3,"th",5)(15,Qn,2,1,"td",6),T(),x(16,10),f(17,zn,3,3,"th",5)(18,qn,2,1,"td",6),T(),f(19,Kn,1,0,"tr",11)(20,Jn,1,0,"tr",12),a(),C(21,"mat-paginator",13),a()()()),p&2&&(i(3),d("dataSource",o.dataSource),i(16),d("matHeaderRowDef",o.displayedColumns),i(),d("matRowDefColumns",o.displayedColumns),i(),d("pageSizeOptions",V(4,Vn)))},dependencies:[M,R,w,Kt,rt,De,Se,Ce,Te,ge,ve,Ie,Ee,xe,Pe,be,ye,F,st,Me,lt]})}}return e})();function ta(e,m){if(e&1&&(n(0,"ng-option",23),r(1),a()),e&2){let t=m.$implicit;d("value",t),i(),Ht("",t.firstName," ",t.lastName,"")}}function ia(e,m){e&1&&(n(0,"mat-error"),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"START_DATE_IS_REQURED")," "))}function na(e,m){e&1&&(n(0,"mat-error"),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"END_DATE_IS_REQURED")," "))}function aa(e,m){if(e&1&&(n(0,"div",16)(1,"div",24)(2,"mat-form-field",25)(3,"mat-label"),r(4),l(5,"translate"),a(),C(6,"input",26)(7,"owl-date-time",null,0),f(9,ia,3,3,"mat-error",27),a()(),n(10,"div",24)(11,"mat-form-field",25)(12,"mat-label"),r(13),l(14,"translate"),a(),C(15,"input",28)(16,"owl-date-time",null,1),f(18,na,3,3,"mat-error",27),a()()()),e&2){let t=K(8),p=K(17),o=v();i(4),_(s(5,10,"CHOOSE_A_START_DATE")),i(2),d("min",o.minDate)("owlDateTimeTrigger",t)("owlDateTime",t),i(3),d("ngIf",o.permissionForm.get("startDate").touched&&o.permissionForm.get("startDate").hasError("required")),i(4),_(s(14,12,"CHOOSE_A_END_DATE")),i(2),d("min",o.permissionForm.get("startDate").value||o.minDate)("owlDateTimeTrigger",p)("owlDateTime",p),i(3),d("ngIf",o.permissionForm.get("endDate").touched&&o.permissionForm.get("endDate").hasError("required"))}}var xi=(()=>{class e extends y{constructor(t){super(),this.data=t,this.paperService=h(P),this.toastrService=h(H),this.fb=h(He),this.translationService=h(U),this.dialogRef=h(Ae),this.minDate=new Date}ngOnInit(){this.createUserPermissionForm()}closeDialog(){this.dialogRef.close()}createUserPermissionForm(){this.permissionForm=this.fb.group({isTimeBound:new J(!1),startDate:[""],endDate:[""],isAllowDownload:new J(!1),selectedUsers:[]})}timeBoundChange(t){t.checked?(this.permissionForm.get("startDate").setValidators([se.required]),this.permissionForm.get("endDate").setValidators([se.required])):(this.permissionForm.get("startDate").clearValidators(),this.permissionForm.get("startDate").updateValueAndValidity(),this.permissionForm.get("endDate").clearValidators(),this.permissionForm.get("endDate").updateValueAndValidity())}savePaperUserPermission(){if(!this.permissionForm.valid){this.permissionForm.markAllAsTouched();return}let t=this.permissionForm.get("selectedUsers").value??[];if(t?.length==0){this.toastrService.error(this.translationService.getValue("PLEASE_SELECT_ATLEAST_ONE_USER"));return}let p=t.map(o=>Ke(qe({},this.permissionForm.value),{id:"",paperId:this.data.paperId,userId:o.id}));this.paperService.addUserPermission(p).subscribe(()=>{this.toastrService.success(this.translationService.getValue("PERMISSION_ADDED_SUCCESSFULLY")),this.dialogRef.close(!0)})}onNoClick(){this.dialogRef.close()}static{this.\u0275fac=function(p){return new(p||e)(O(ke))}}static{this.\u0275cmp=b({type:e,selectors:[["app-manage-paper-user-permission"]],standalone:!0,features:[D,L],decls:38,vars:22,consts:[["date1",""],["date2",""],[1,"modalHeader"],[1,"editRowModal"],[1,"title"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["color","warn"],["mat-dialog-content","",3,"formGroup"],[1,"row"],[1,"form-group","col-md-12"],["formControlName","selectedUsers",3,"multiple"],[3,"value",4,"ngFor","ngForOf"],[1,"row","m-t-15"],[1,"col-md-12"],["color","primary","formControlName","isTimeBound",3,"change"],["class","row m-t-10",4,"ngIf"],[1,"row","m-t-10"],["color","primary","formControlName","isAllowDownload"],["mat-dialog-actions","",1,"m-r-10"],[1,"btn","btn-success","btn-sm","m-r-10",3,"click"],["name","save",1,"small-icon"],[1,"btn","btn-danger","btn-sm",3,"click"],["name","x-circle",1,"small-icon"],[3,"value"],[1,"col-md-6"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","startDate",3,"min","owlDateTimeTrigger","owlDateTime"],[4,"ngIf"],["matInput","","formControlName","endDate",3,"min","owlDateTimeTrigger","owlDateTime"]],template:function(p,o){p&1&&(n(0,"div",2)(1,"div",3)(2,"div",2)(3,"div",4)(4,"h2"),r(5),l(6,"translate"),a()()()(),n(7,"button",5),S("click",function(){return o.closeDialog()}),n(8,"mat-icon",6),r(9,"close"),a()()(),n(10,"div",7)(11,"div",8)(12,"div",9)(13,"label"),r(14),l(15,"translate"),a(),n(16,"ng-select",10),f(17,ta,2,3,"ng-option",11),a()()(),n(18,"div",12)(19,"div",13)(20,"mat-checkbox",14),S("change",function(j){return o.timeBoundChange(j)}),r(21),l(22,"translate"),a()()(),f(23,aa,19,14,"div",15),n(24,"div",16)(25,"div",13)(26,"mat-checkbox",17),r(27),l(28,"translate"),a()()()(),n(29,"div",18)(30,"button",19),S("click",function(){return o.savePaperUserPermission()}),C(31,"i-feather",20),r(32),l(33,"translate"),a(),n(34,"button",21),S("click",function(){return o.onNoClick()}),C(35,"i-feather",22),r(36),l(37,"translate"),a()()),p&2&&(i(5),_(s(6,10,"USER_PERMISSION")),i(5),d("formGroup",o.permissionForm),i(4),_(s(15,12,"USERS")),i(2),d("multiple",!0),i(),d("ngForOf",o.data.users),i(4),c(" ",s(22,14,"SPACIFY_THE_PERIOD")," "),i(2),d("ngIf",o.permissionForm.get("isTimeBound").value),i(4),_(s(28,16,"ALLOW_DOWNLOAD")),i(5),c(" ",s(33,18,"SAVE")," "),i(4),c(" ",s(37,20,"CANCEL")," "))},dependencies:[M,pe,Y,R,w,B,le,de,ce,ue,fe,k,ne,ie,te,he,A,nt,X,Oe,et,Be,ft,ut,Z,_e,Qe,Ct,vt,We,$e,Ye,je,Ge,dt]})}}return e})();function ra(e,m){if(e&1&&(n(0,"ng-option",23),r(1),a()),e&2){let t=m.$implicit;d("value",t),i(),_(t.name)}}function oa(e,m){e&1&&(n(0,"mat-error"),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"START_DATE_IS_REQURED")," "))}function pa(e,m){e&1&&(n(0,"mat-error"),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"END_DATE_IS_REQURED")," "))}function ma(e,m){if(e&1&&(n(0,"div",16)(1,"div",24)(2,"mat-form-field",25)(3,"mat-label"),r(4),l(5,"translate"),a(),C(6,"input",26)(7,"owl-date-time",null,0),f(9,oa,3,3,"mat-error",27),a()(),n(10,"div",24)(11,"mat-form-field",25)(12,"mat-label"),r(13),l(14,"translate"),a(),C(15,"input",28)(16,"owl-date-time",null,1),f(18,pa,3,3,"mat-error",27),a()()()),e&2){let t=K(8),p=K(17),o=v();i(4),_(s(5,10,"CHOOSE_A_START_DATE")),i(2),d("min",o.minDate)("owlDateTimeTrigger",t)("owlDateTime",t),i(3),d("ngIf",o.permissionForm.get("startDate").touched&&o.permissionForm.get("startDate").hasError("required")),i(4),_(s(14,12,"CHOOSE_A_END_DATE")),i(2),d("min",o.permissionForm.get("startDate").value||o.minDate)("owlDateTimeTrigger",p)("owlDateTime",p),i(3),d("ngIf",o.permissionForm.get("endDate").touched&&o.permissionForm.get("endDate").hasError("required"))}}var Ti=(()=>{class e extends y{constructor(t){super(),this.data=t,this.paperService=h(P),this.toastrService=h(H),this.fb=h(He),this.translationService=h(U),this.dialogRef=h(Ae),this.minDate=new Date}ngOnInit(){this.createRolePermissionForm()}closeDialog(){this.dialogRef.close()}createRolePermissionForm(){this.permissionForm=this.fb.group({isTimeBound:new J(!1),startDate:[""],endDate:[""],isAllowDownload:new J(!1),selectedRoles:[]})}timeBoundChange(t){t.checked?(this.permissionForm.get("startDate").setValidators([se.required]),this.permissionForm.get("endDate").setValidators([se.required])):(this.permissionForm.get("startDate").clearValidators(),this.permissionForm.get("startDate").updateValueAndValidity(),this.permissionForm.get("endDate").clearValidators(),this.permissionForm.get("endDate").updateValueAndValidity())}savePaperRolePermission(){if(!this.permissionForm.valid){this.permissionForm.markAllAsTouched();return}let t=this.permissionForm.get("selectedRoles").value??[];if(t?.length==0){this.toastrService.error(this.translationService.getValue("PLEASE_SELECT_ATLEAST_ONE_ROLE"));return}let p=t.map(o=>Ke(qe({},this.permissionForm.value),{id:"",paperId:this.data.paperId,roleId:o.id}));this.paperService.addRolePermission(p).subscribe(()=>{this.toastrService.success(this.translationService.getValue("PERMISSION_ADDED_SUCCESSFULLY")),this.dialogRef.close(!0)})}onNoClick(){this.dialogRef.close()}static{this.\u0275fac=function(p){return new(p||e)(O(ke))}}static{this.\u0275cmp=b({type:e,selectors:[["app-manage-paper-role-permission"]],standalone:!0,features:[D,L],decls:38,vars:22,consts:[["date1",""],["date2",""],[1,"modalHeader"],[1,"editRowModal"],[1,"title"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["color","warn"],["mat-dialog-content","",3,"formGroup"],[1,"row"],[1,"form-group","col-md-12"],["formControlName","selectedRoles",3,"multiple"],[3,"value",4,"ngFor","ngForOf"],[1,"row","m-t-15"],[1,"col-md-12"],["color","primary","formControlName","isTimeBound",3,"change"],["class","row m-t-10",4,"ngIf"],[1,"row","m-t-10"],["color","primary","formControlName","isAllowDownload"],["mat-dialog-actions","",1,"m-r-10"],[1,"btn","btn-success","btn-sm","m-r-10",3,"click"],["name","save",1,"small-icon"],[1,"btn","btn-danger","btn-sm",3,"click"],["name","x-circle",1,"small-icon"],[3,"value"],[1,"col-md-6"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","startDate",3,"min","owlDateTimeTrigger","owlDateTime"],[4,"ngIf"],["matInput","","formControlName","endDate",3,"min","owlDateTimeTrigger","owlDateTime"]],template:function(p,o){p&1&&(n(0,"div",2)(1,"div",3)(2,"div",2)(3,"div",4)(4,"h2"),r(5),l(6,"translate"),a()()()(),n(7,"button",5),S("click",function(){return o.closeDialog()}),n(8,"mat-icon",6),r(9,"close"),a()()(),n(10,"div",7)(11,"div",8)(12,"div",9)(13,"label"),r(14),l(15,"translate"),a(),n(16,"ng-select",10),f(17,ra,2,2,"ng-option",11),a()()(),n(18,"div",12)(19,"div",13)(20,"mat-checkbox",14),S("change",function(j){return o.timeBoundChange(j)}),r(21),l(22,"translate"),a()()(),f(23,ma,19,14,"div",15),n(24,"div",16)(25,"div",13)(26,"mat-checkbox",17),r(27),l(28,"translate"),a()()()(),n(29,"div",18)(30,"button",19),S("click",function(){return o.savePaperRolePermission()}),C(31,"i-feather",20),r(32),l(33,"translate"),a(),n(34,"button",21),S("click",function(){return o.onNoClick()}),C(35,"i-feather",22),r(36),l(37,"translate"),a()()),p&2&&(i(5),_(s(6,10,"ROLE_PERMISSION")),i(5),d("formGroup",o.permissionForm),i(4),_(s(15,12,"ROLES")),i(2),d("multiple",!0),i(),d("ngForOf",o.data.roles),i(4),c(" ",s(22,14,"SPACIFY_THE_PERIOD")," "),i(2),d("ngIf",o.permissionForm.get("isTimeBound").value),i(4),_(s(28,16,"ALLOW_DOWNLOAD")),i(5),c(" ",s(33,18,"SAVE")," "),i(4),c(" ",s(37,20,"CANCEL")," "))},dependencies:[M,pe,Y,R,w,B,le,de,ce,ue,fe,k,ne,ie,te,he,A,nt,X,Oe,et,Be,ft,ut,Z,_e,Qe,Ct,vt,We,$e,Ye,je,Ge,dt]})}}return e})();var la=()=>[5,10,20];function sa(e,m){e&1&&(n(0,"th",19),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"ACTION")," "))}function da(e,m){if(e&1){let t=I();n(0,"td",20)(1,"button",21),S("click",function(){let o=g(t).$implicit,u=v();return E(o.type==="User"?u.deleteUserPermission(o):u.deleteRolePermission(o))}),n(2,"mat-icon"),r(3,"delete"),a()()()}}function ca(e,m){e&1&&(n(0,"th",19),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"ALLOW_DOWNLOAD")," "))}function ua(e,m){if(e&1&&(n(0,"td",20),r(1),l(2,"translate"),a()),e&2){let t=m.$implicit;i(),c(" ",s(2,1,t.isAllowDownload?"YES":"NO")," ")}}function fa(e,m){e&1&&(n(0,"th",19),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"TYPE")," "))}function _a(e,m){if(e&1&&(n(0,"td",20),r(1),l(2,"translate"),a()),e&2){let t=m.$implicit;i(),c(" ",s(2,1,t.type)," ")}}function ha(e,m){e&1&&(n(0,"th",19),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"NAME")," "))}function Sa(e,m){if(e&1&&(n(0,"td",20),r(1),a()),e&2){let t=m.$implicit;i(),c(" ",t.name," ")}}function va(e,m){e&1&&(n(0,"th",19),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"EMAIL")," "))}function Ca(e,m){if(e&1&&(n(0,"td",20),r(1),a()),e&2){let t=m.$implicit;i(),c(" ",t.email||"-"," ")}}function ga(e,m){e&1&&(n(0,"th",19),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"START_DATE")," "))}function Ea(e,m){if(e&1&&(n(0,"td",20),r(1),l(2,"date"),a()),e&2){let t=m.$implicit;i(),c(" ",$(2,1,t.startDate,"dd/MM/yyyy")||"-"," ")}}function xa(e,m){e&1&&(n(0,"th",19),r(1),l(2,"translate"),a()),e&2&&(i(),c(" ",s(2,1,"END_DATE")," "))}function Ta(e,m){if(e&1&&(n(0,"td",20),r(1),l(2,"date"),a()),e&2){let t=m.$implicit;i(),c(" ",$(2,1,t.endDate,"dd/MM/yyyy")||"-"," ")}}function Ia(e,m){e&1&&C(0,"tr",22)}function Pa(e,m){e&1&&C(0,"tr",23)}var Ii=(()=>{class e extends y{constructor(){super(...arguments),this.shouldLoad=!1,this.displayedColumns=["action","isAllowDownload","type","name","email","startDate","endDate"],this.paperService=h(P),this.commonDialogService=h(ae),this.translationService=h(U),this.toastrService=h(H),this.commonService=h(qt),this.dialog=h(Fe)}ngOnChanges(t){t.shouldLoad&&this.shouldLoad&&this.paperId&&this.getPaperPermissions()}getPaperPermissions(){this.paperService.getPermissions(this.paperId).subscribe(t=>{this.permissionsDataSource=new Ue(t),this.permissionsDataSource.paginator=this.paginator})}deleteUserPermission(t){this.commonDialogService.deleteConformationDialog(this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE")).subscribe(p=>{p&&this.paperService.deleteUserPermission(t.id).subscribe(()=>{this.toastrService.success(this.translationService.getValue("PERMISSION_DELETED_SUCCESSFULLY")),this.getPaperPermissions()})})}deleteRolePermission(t){this.commonDialogService.deleteConformationDialog(this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE")).subscribe(p=>{p&&this.paperService.deleteRolePermission(t.id).subscribe(()=>{this.toastrService.success(this.translationService.getValue("PERMISSION_DELETED_SUCCESSFULLY")),this.getPaperPermissions()})})}addPaperUserPermission(){this.commonService.getUsersForDropdown().subscribe(t=>{this.dialog.open(xi,{width:"600px",data:{users:t,paperId:this.paperId}}).afterClosed().subscribe(o=>{o&&this.getPaperPermissions()})})}addPaperRolePermission(){this.commonService.getRolesForDropdown().subscribe(t=>{this.dialog.open(Ti,{width:"600px",data:{roles:t,paperId:this.paperId}}).afterClosed().subscribe(o=>{o&&this.getPaperPermissions()})})}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=q(e)))(o||e)}})()}static{this.\u0275cmp=b({type:e,selectors:[["app-paper-permissions"]],viewQuery:function(p,o){if(p&1&&G(F,5),p&2){let u;Q(u=z())&&(o.paginator=u.first)}},inputs:{paperId:"paperId",shouldLoad:"shouldLoad"},standalone:!0,features:[D,oe,L],decls:40,vars:11,consts:[[1,"row"],[1,"col-md-12"],[1,"row","m-b-10"],["mat-raised-button","","color","primary",1,"m-r-10",3,"click"],["mat-raised-button","","color","accent",3,"click"],[1,"table-responsive"],["mat-table","",1,"mat-elevation-z8","w-100",3,"dataSource"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","isAllowDownload"],["matColumnDef","type"],["matColumnDef","name"],["matColumnDef","email"],["matColumnDef","startDate"],["matColumnDef","endDate"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(p,o){p&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",1)(4,"button",3),S("click",function(){return o.addPaperUserPermission()}),n(5,"mat-icon"),r(6,"person_add"),a(),r(7),l(8,"translate"),a(),n(9,"button",4),S("click",function(){return o.addPaperRolePermission()}),n(10,"mat-icon"),r(11,"group_add"),a(),r(12),l(13,"translate"),a()()(),n(14,"div",5)(15,"table",6),x(16,7),f(17,sa,3,3,"th",8)(18,da,4,0,"td",9),T(),x(19,10),f(20,ca,3,3,"th",8)(21,ua,3,3,"td",9),T(),x(22,11),f(23,fa,3,3,"th",8)(24,_a,3,3,"td",9),T(),x(25,12),f(26,ha,3,3,"th",8)(27,Sa,2,1,"td",9),T(),x(28,13),f(29,va,3,3,"th",8)(30,Ca,2,1,"td",9),T(),x(31,14),f(32,ga,3,3,"th",8)(33,Ea,3,4,"td",9),T(),x(34,15),f(35,xa,3,3,"th",8)(36,Ta,3,4,"td",9),T(),f(37,Ia,1,0,"tr",16)(38,Pa,1,0,"tr",17),a(),C(39,"mat-paginator",18),a()()()),p&2&&(i(7),c(" ",s(8,6,"ASSIGN_SHARE_WITH_USERS")," "),i(5),c(" ",s(13,8,"ASSIGN_SHARE_WITH_ROLES")," "),i(3),d("dataSource",o.permissionsDataSource),i(22),d("matHeaderRowDef",o.displayedColumns),i(),d("matRowDefColumns",o.displayedColumns),i(),d("pageSizeOptions",V(10,la)))},dependencies:[M,me,De,Se,Ce,Te,ge,ve,Ie,Ee,xe,Pe,be,R,w,ye,F,B,ee,k,A]})}}return e})();var ba=()=>["ALL_PAPERS_EDIT_PAPER","MY_PAPERS_EDIT_PAPER"];function Da(e,m){if(e&1){let t=I();n(0,"button",24),S("click",function(){g(t);let o=v();return E(o.editPaper())}),n(1,"mat-icon"),r(2,"edit"),a(),r(3),l(4,"translate"),a()}e&2&&(i(3),c(" ",s(4,1,"EDIT")," "))}function Ma(e,m){if(e&1&&C(0,"app-paper-editor",25),e&2){let t=v();d("data",t.editorData)("readOnly",!0)("paperId",t.paperId)("contentHtml",t.paperInfo.contentHtmlSanitized)("mode",t.paperInfo.contentType==="DOC"?"DOC":"SHEET")}}function ya(e,m){if(e&1&&C(0,"app-paper-comments",26),e&2){let t=v();d("paperId",t.paperId)("shouldLoad",t.loadedTabs[2])}}function wa(e,m){if(e&1&&C(0,"app-paper-versions",26),e&2){let t=v();d("paperId",t.paperId)("shouldLoad",t.loadedTabs[3])}}function Ra(e,m){if(e&1&&C(0,"app-paper-audit-trail",26),e&2){let t=v();d("paperId",t.paperId)("shouldLoad",t.loadedTabs[4])}}function La(e,m){if(e&1&&C(0,"app-paper-permissions",26),e&2){let t=v();d("paperId",t.paperId)("shouldLoad",t.loadedTabs[5])}}var Pi=(()=>{class e extends y{constructor(){super(...arguments),this.paperInfo={},this.activeTabIndex=0,this.categoryStore=h(St),this.clientStore=h(_t),this.documentStatusStore=h(ht),this.paperService=h(P),this.route=h(tt),this.router=h(Ve),this.location=h(Ut),this.dialog=h(Fe),this.loadedTabs=[!0,!1,!1,!1,!1,!1]}ngOnInit(){this.sub$.sink=this.route.data.subscribe(t=>{this.paperInfo=t.paper,this.paperInfo&&(this.paperId=this.paperInfo.id,this.editorData=this.paperInfo.contentJson?JSON.parse(this.paperInfo.contentJson):null)}),this.sub$.sink=this.route.queryParams.subscribe(t=>{let p=t.tab;p&&this.switchToTab(p)})}switchToTab(t){let p=0;switch(t){case"content":p=0;break;case"general":p=1;break;case"comment":p=2;break;case"version":p=3;break;case"audit":p=4;break;case"permission":p=5;break}this.loadedTabs[p]=!0,this.activeTabIndex=p}onTabChange(t){let p=t.index;this.loadedTabs[p]||(this.loadedTabs[p]=!0)}editPaper(){this.router.navigate(["/papers/manage",this.paperId])}getShareLink(){this.paperService.getShareLink(this.paperId).subscribe(t=>{this.dialog.open(It,{width:"600px",data:{paper:this.paperInfo,link:t}})})}onPaperCancel(){this.location.back()}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=q(e)))(o||e)}})()}static{this.\u0275cmp=b({type:e,selectors:[["app-paper-detail"]],standalone:!0,features:[D,L],decls:96,vars:60,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[1,"breadcrumb-main"],[1,"row"],[1,"col-6"],[1,"breadcrumb-title"],[1,"header-buttons"],["mat-icon-button","","matTooltip","BACK",3,"click"],["mat-raised-button","","color","primary","class","m-r-5",3,"click",4,"hasClaim"],["mat-raised-button","","color","accent",3,"click"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"body"],[3,"selectedTabChange","selectedIndex"],[3,"label"],[1,"p-t-20","min-h-400"],[3,"data","readOnly","paperId","contentHtml","mode",4,"ngIf"],[1,"col-md-6"],[1,"list-group","list-group-unbordered"],[1,"list-group-item"],[1,"pull-right"],[3,"paperId","shouldLoad",4,"ngIf"],["mat-raised-button","","color","primary",1,"m-r-5",3,"click"],[3,"data","readOnly","paperId","contentHtml","mode"],[3,"paperId","shouldLoad"]],template:function(p,o){p&1&&(n(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2"),r(8),l(9,"translate"),a()()(),n(10,"div",5)(11,"ul",7)(12,"li")(13,"button",8),S("click",function(){return o.onPaperCancel()}),n(14,"mat-icon"),r(15,"arrow_back"),a()()(),n(16,"li"),f(17,Da,5,3,"button",9),n(18,"button",10),S("click",function(){return o.getShareLink()}),n(19,"mat-icon"),r(20,"share"),a(),r(21),l(22,"translate"),a()()()()()()(),n(23,"div",4)(24,"div",11)(25,"div",12)(26,"div",13)(27,"h2"),r(28),a()(),n(29,"div",14)(30,"mat-tab-group",15),S("selectedTabChange",function(j){return o.onTabChange(j)}),n(31,"mat-tab",16),l(32,"translate"),n(33,"div",17),f(34,Ma,1,5,"app-paper-editor",18),a()(),n(35,"mat-tab",16),l(36,"translate"),n(37,"div",17)(38,"div",4)(39,"div",19)(40,"ul",20)(41,"li",21)(42,"b"),r(43),l(44,"translate"),a(),n(45,"a",22),r(46),a()(),n(47,"li",21)(48,"b"),r(49),l(50,"translate"),a(),n(51,"a",22),r(52),a()(),n(53,"li",21)(54,"b"),r(55),l(56,"translate"),a(),n(57,"a",22),r(58),a()()()(),n(59,"div",19)(60,"ul",20)(61,"li",21)(62,"b"),r(63),l(64,"translate"),a(),n(65,"a",22),r(66),a()(),n(67,"li",21)(68,"b"),r(69),l(70,"translate"),a(),n(71,"a",22),r(72),l(73,"date"),a()(),n(74,"li",21)(75,"b"),r(76),l(77,"translate"),a(),n(78,"a",22),r(79),a()()()()()()(),n(80,"mat-tab",16),l(81,"translate"),n(82,"div",17),f(83,ya,1,2,"app-paper-comments",23),a()(),n(84,"mat-tab",16),l(85,"translate"),n(86,"div",17),f(87,wa,1,2,"app-paper-versions",23),a()(),n(88,"mat-tab",16),l(89,"translate"),n(90,"div",17),f(91,Ra,1,2,"app-paper-audit-trail",23),a()(),n(92,"mat-tab",16),l(93,"translate"),n(94,"div",17),f(95,La,1,2,"app-paper-permissions",23),a()()()()()()()()()),p&2&&(i(8),_(s(9,28,"DETAILS")),i(9),d("hasClaim",V(59,ba)),i(4),c(" ",s(22,30,"SHARE")," "),i(7),_(o.paperInfo.name),i(2),d("selectedIndex",o.activeTabIndex),i(),N("label",s(32,32,"CONTENT")),i(3),d("ngIf",o.loadedTabs[0]),i(),N("label",s(36,34,"GENERAL")),i(8),_(s(44,36,"NAME")),i(3),_(o.paperInfo.name),i(3),_(s(50,38,"CATEGORY")),i(3),_(o.paperInfo.categoryName),i(3),_(s(56,40,"CLIENT")),i(3),_(o.paperInfo.companyName),i(5),_(s(64,42,"STATUS")),i(3),_(o.paperInfo.statusName),i(3),_(s(70,44,"CREATED_DATE")),i(3),_($(73,46,o.paperInfo.createdDate,"dd/MM/yyyy")),i(4),_(s(77,49,"CREATED_BY")),i(3),_(o.paperInfo.createdBy),i(),N("label",s(81,51,"COMMENT")),i(3),d("ngIf",o.loadedTabs[2]),i(),N("label",s(85,53,"VERSION_HISTORY")),i(3),d("ngIf",o.loadedTabs[3]),i(),N("label",s(89,55,"AUDIT_TRAIL")),i(3),d("ngIf",o.loadedTabs[4]),i(),N("label",s(93,57,"PERMISSIONS")),i(3),d("ngIf",o.loadedTabs[5]))},dependencies:[M,Y,me,R,w,B,ee,k,A,Ne,at,_i,ui,fi,Ci,gi,Ei,Ii,hi]})}}return e})();var bi=e=>{let m=h(P),t=h(Ve),p=e.params.id;return p!=null?m.getPaper(p):(t.navigate(["/papers"]),null)};var Aa=[{path:"",component:kt,data:{claimType:"ALL_PAPERS_VIEW_PAPERS",isAssigned:!1},canActivate:[ct]},{path:"assigned",component:kt,data:{claimType:"ALL_PAPERS_VIEW_PAPERS",isAssigned:!0},canActivate:[ct]},{path:"manage",loadChildren:()=>import("./chunk-WKNHRNO7.js").then(e=>e.PaperManageModule)},{path:"manage/:id",loadChildren:()=>import("./chunk-WKNHRNO7.js").then(e=>e.PaperManageModule)},{path:":id",component:Pi,data:{claimType:"ALL_PAPERS_VIEW_PAPERS"},canActivate:[ct],resolve:{paper:bi}}],Di=(()=>{class e{static{this.\u0275fac=function(p){return new(p||e)}}static{this.\u0275mod=Ze({type:e})}static{this.\u0275inj=Xe({imports:[yt.forChild(Aa),yt]})}}return e})();var Mm=(()=>{class e{static{this.\u0275fac=function(p){return new(p||e)}}static{this.\u0275mod=Ze({type:e})}static{this.\u0275inj=Xe({imports:[M,Di,B,De,ye,st,ii,Z,_e,mt,pt,mi,Xt,oi,X,zt,R,Qe,Wt,li]})}}return e})();export{Mm as PaperModule};
