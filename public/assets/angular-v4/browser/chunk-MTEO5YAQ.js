import{a as h}from"./chunk-5DGY2OXT.js";import{b as p}from"./chunk-AGIEFCW2.js";import{B as c,Ba as l,Ea as a,W as s,ha as d,p as n,td as m,xd as u}from"./chunk-SXJN2XK6.js";var S=class{get count(){return this._count}constructor(o){this.documentAuditTrailService=o,this.documentAuditTrailsSubject=new n([]),this.responseHeaderSubject=new n(null),this.loadingSubject=new n(!1),this.loading$=this.loadingSubject.asObservable(),this._count=0,this.responseHeaderSubject$=this.responseHeaderSubject.asObservable()}connect(o){return this.documentAuditTrailsSubject.asObservable()}disconnect(o){this.documentAuditTrailsSubject.complete(),this.loadingSubject.complete()}loadDocumentAuditTrails(o){this.loadingSubject.next(!0),this.documentAuditTrailService.getDocumentAuditTrials(o).pipe(s(()=>c([])),d(()=>this.loadingSubject.next(!1))).subscribe(t=>{let e=new h;e.pageSize=parseInt(t.headers.get("pageSize")),e.totalCount=parseInt(t.headers.get("totalCount")),e.skip=parseInt(t.headers.get("skip")),this.responseHeaderSubject.next(e);let r=[...t.body];this._count=r.length,this.documentAuditTrailsSubject.next(r)})}};var T=(()=>{class i{constructor(t,e){this.httpClient=t,this.commonHttpErrorService=e}getDocumentAuditTrials(t){let e="documentAuditTrail",r=new m().set("fields",t.fields).set("orderBy",t.orderBy).set("pageSize",t.pageSize.toString()).set("skip",t.skip.toString()).set("searchQuery",t.searchQuery).set("categoryId",t.categoryId).set("operation",t.operation).set("name",t.name).set("id",t.id.toString()).set("createdBy",t.createdBy.toString()).set("documentId",t.documentId?t.documentId.toString():"");return this.httpClient.get(e,{params:r,observe:"response"}).pipe(s(this.commonHttpErrorService.handleError))}static{this.\u0275fac=function(e){return new(e||i)(a(u),a(p))}}static{this.\u0275prov=l({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{S as a,T as b};
