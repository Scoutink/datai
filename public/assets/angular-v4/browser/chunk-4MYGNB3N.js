import{e as ia}from"./chunk-HUQBVWNM.js";import{a as sa}from"./chunk-5OZ33I3S.js";import"./chunk-SW6QPDNJ.js";import{a as xa,b as Sa}from"./chunk-VYBREDH7.js";import{a as Fi,b as Xt,c as ya,e as jt,f as Ca,g as Ta,h as wa,i as ba,j as Qt,k as ka}from"./chunk-2RZGI2GI.js";import"./chunk-5BJUJSQ2.js";import{c as na}from"./chunk-MDTWJNMV.js";import"./chunk-UQDQDCM7.js";import{a as $t,b as aa}from"./chunk-FUBOQZYU.js";import"./chunk-5OA3UTKR.js";import{a as oa,b as ra,c as la,e as ca,f as da,h as ha,i as ma,k as pa,l as ga,n as ua,o as fa,p as va,q as _a}from"./chunk-ZQ2PWCHX.js";import"./chunk-TNLJ7CAF.js";import{a as ta}from"./chunk-DXCWD2WZ.js";import{G as Jn,J as et,K as ea,b as Yn,c as qn}from"./chunk-VNAU6AHI.js";import{c as $n,d as Zn,e as Kn}from"./chunk-2GYG6N64.js";import{a as Un}from"./chunk-YTVNRIZ3.js";import{F as Nt,m as Wn,p as Gn}from"./chunk-3XAX4OT5.js";import{ia as Yt,ja as Qn}from"./chunk-NF46UI75.js";import{c as Nn,d as Di,g as Ai,h as Li,j as Ei,p as jn,t as Je}from"./chunk-SIUWMJOE.js";import"./chunk-GTE6R5NX.js";import{b as Xn}from"./chunk-FGSJTZPD.js";import"./chunk-73F4PDV3.js";import"./chunk-TMWBOQE5.js";import{$ as Tn,$b as Ot,$c as Hn,Ab as v,Ac as ne,B as fn,Bb as he,Bc as Ae,Cb as me,Cc as Pe,Db as Sn,Dc as He,Ea as $,Eb as Dn,F as _e,Fa as W,G as vn,Ga as ae,Gc as Bn,H as Ti,Ha as Et,Hc as Rt,Jc as pt,Jd as Mi,Kb as g,L as lt,Lb as y,M as _n,Ma as se,Mb as G,Na as B,Nb as Ve,O as Lt,Oa as P,Ob as Oe,P as Ne,Pa as Te,Qb as te,Ra as Fe,S as xn,Sc as gt,Ta as Mt,Tb as R,U as yn,Va as S,Vb as w,W as Cn,Wa as Se,Wb as An,Wc as q,X as ct,Xb as Ln,Xc as Le,Yb as En,Yc as ue,Za as oe,Zb as Mn,Zc as we,_b as Fn,_c as Pn,a as re,ab as Ft,ac as ht,b as rt,bc as mt,bd as zt,cd as Ee,e as fo,ea as wn,eb as Ze,ec as Ie,g as vo,ga as wi,gb as kn,gc as N,hc as pe,hd as Wt,ib as p,ic as Z,id as Rn,ja as Ue,jb as T,jc as ki,jd as fe,kd as Gt,ld as Si,m as At,ma as bi,mb as Vt,mc as It,nc as Bt,o as Ce,oa as dt,ob as xe,oc as Pt,pb as qe,q as gn,qc as Vn,rd as zn,sc as De,tb as Ke,tc as Be,uc as ge,va as ce,vc as Ht,w as Ci,wa as z,wb as F,x as un,xa as bn,xc as On,ya as de,yc as In,za as Me,zb as ee,zc as Y}from"./chunk-EOQA7B6X.js";var Ea=fo((Jc,La)=>{"use strict";La.exports=yo;function tt(t){return t instanceof Buffer?Buffer.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}function yo(t){if(t=t||{},t.circles)return Co(t);let n=new Map;if(n.set(Date,o=>new Date(o)),n.set(Map,(o,r)=>new Map(i(Array.from(o),r))),n.set(Set,(o,r)=>new Set(i(Array.from(o),r))),t.constructorHandlers)for(let o of t.constructorHandlers)n.set(o[0],o[1]);let e=null;return t.proto?s:a;function i(o,r){let l=Object.keys(o),c=new Array(l.length);for(let d=0;d<l.length;d++){let h=l[d],u=o[h];typeof u!="object"||u===null?c[h]=u:u.constructor!==Object&&(e=n.get(u.constructor))?c[h]=e(u,r):ArrayBuffer.isView(u)?c[h]=tt(u):c[h]=r(u)}return c}function a(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return i(o,a);if(o.constructor!==Object&&(e=n.get(o.constructor)))return e(o,a);let r={};for(let l in o){if(Object.hasOwnProperty.call(o,l)===!1)continue;let c=o[l];typeof c!="object"||c===null?r[l]=c:c.constructor!==Object&&(e=n.get(c.constructor))?r[l]=e(c,a):ArrayBuffer.isView(c)?r[l]=tt(c):r[l]=a(c)}return r}function s(o){if(typeof o!="object"||o===null)return o;if(Array.isArray(o))return i(o,s);if(o.constructor!==Object&&(e=n.get(o.constructor)))return e(o,s);let r={};for(let l in o){let c=o[l];typeof c!="object"||c===null?r[l]=c:c.constructor!==Object&&(e=n.get(c.constructor))?r[l]=e(c,s):ArrayBuffer.isView(c)?r[l]=tt(c):r[l]=s(c)}return r}}function Co(t){let n=[],e=[],i=new Map;if(i.set(Date,l=>new Date(l)),i.set(Map,(l,c)=>new Map(s(Array.from(l),c))),i.set(Set,(l,c)=>new Set(s(Array.from(l),c))),t.constructorHandlers)for(let l of t.constructorHandlers)i.set(l[0],l[1]);let a=null;return t.proto?r:o;function s(l,c){let d=Object.keys(l),h=new Array(d.length);for(let u=0;u<d.length;u++){let m=d[u],f=l[m];if(typeof f!="object"||f===null)h[m]=f;else if(f.constructor!==Object&&(a=i.get(f.constructor)))h[m]=a(f,c);else if(ArrayBuffer.isView(f))h[m]=tt(f);else{let b=n.indexOf(f);b!==-1?h[m]=e[b]:h[m]=c(f)}}return h}function o(l){if(typeof l!="object"||l===null)return l;if(Array.isArray(l))return s(l,o);if(l.constructor!==Object&&(a=i.get(l.constructor)))return a(l,o);let c={};n.push(l),e.push(c);for(let d in l){if(Object.hasOwnProperty.call(l,d)===!1)continue;let h=l[d];if(typeof h!="object"||h===null)c[d]=h;else if(h.constructor!==Object&&(a=i.get(h.constructor)))c[d]=a(h,o);else if(ArrayBuffer.isView(h))c[d]=tt(h);else{let u=n.indexOf(h);u!==-1?c[d]=e[u]:c[d]=o(h)}}return n.pop(),e.pop(),c}function r(l){if(typeof l!="object"||l===null)return l;if(Array.isArray(l))return s(l,r);if(l.constructor!==Object&&(a=i.get(l.constructor)))return a(l,r);let c={};n.push(l),e.push(c);for(let d in l){let h=l[d];if(typeof h!="object"||h===null)c[d]=h;else if(h.constructor!==Object&&(a=i.get(h.constructor)))c[d]=a(h,r);else if(ArrayBuffer.isView(h))c[d]=tt(h);else{let u=n.indexOf(h);u!==-1?c[d]=e[u]:c[d]=r(h)}}return n.pop(),e.pop(),c}}});var Ut=(()=>{class t{constructor(e,i){this.httpClient=e,this.commonHttpErrorService=i}getDocumentByCategory(){return this.httpClient.get("Dashboard/GetDocumentByCategory")}getReminders(e,i){let a=`dashboard/reminders/${e}/${i}`;return this.httpClient.get(a).pipe(xn(this.commonHttpErrorService.handleError))}static{this.\u0275fac=function(i){return new(i||t)(de(zn),de(Xn))}}static{this.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var{abs:Wc,max:Gc,min:Nc}=Math;function Aa(t){return[+t[0],+t[1]]}function _o(t){return[Aa(t[0]),Aa(t[1])]}var Yc={name:"x",handles:["w","e"].map(Vi),input:function(t,n){return t==null?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},$c={name:"y",handles:["n","s"].map(Vi),input:function(t,n){return t==null?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Xc={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Vi),input:function(t){return t==null?null:_o(t)},output:function(t){return t}};function Vi(t){return{type:t}}var Ha=vo(Ea(),1);var Do=["caretElm"],Ao=t=>({model:t});function Lo(t,n){}function Eo(t,n){if(t&1&&(g(0,"span"),F(1,Lo,0,0,"ng-template",5),y()),t&2){let e=w();p(),v("ngTemplateOutlet",e.template)("ngTemplateOutletContext",Be(2,Ao,e.context))}}function Mo(t,n){if(t&1&&G(0,"span",6),t&2){let e=w();v("innerHTML",e.title,Ze)}}function Fo(t,n){if(t&1&&(g(0,"header",4)(1,"span",5),N(2),y()()),t&2){let e=w();p(2),pe(e.title)}}function Vo(t,n){if(t&1){let e=te();g(0,"li",6)(1,"ngx-charts-legend-entry",7),R("select",function(a){B(e);let s=w();return P(s.labelClick.emit(a))})("activate",function(a){B(e);let s=w();return P(s.activate(a))})("deactivate",function(a){B(e);let s=w();return P(s.deactivate(a))}),y()()}if(t&2){let e=n.$implicit,i=w();p(),v("label",e.label)("formattedLabel",e.formattedLabel)("color",e.color)("isActive",i.isActive(e))}}var Oo=["*"];function Io(t,n){if(t&1&&G(0,"ngx-charts-scale-legend",4),t&2){let e=w();v("horizontal",e.legendOptions&&e.legendOptions.position===e.LegendPosition.Below)("valueRange",e.legendOptions.domain)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)}}function Bo(t,n){if(t&1){let e=te();g(0,"ngx-charts-legend",5),R("labelClick",function(a){B(e);let s=w();return P(s.legendLabelClick.emit(a))})("labelActivate",function(a){B(e);let s=w();return P(s.legendLabelActivate.emit(a))})("labelDeactivate",function(a){B(e);let s=w();return P(s.legendLabelDeactivate.emit(a))}),y()}if(t&2){let e=w();v("horizontal",e.legendOptions&&e.legendOptions.position===e.LegendPosition.Below)("data",e.legendOptions.domain)("title",e.legendOptions.title)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)("activeEntries",e.activeEntries)}}var Po=["ngx-charts-svg-radial-gradient",""];function Ho(t,n){if(t&1&&(Te(),G(0,"stop")),t&2){let e=n.$implicit;he("stop-color",e.color)("stop-opacity",e.opacity),ee("offset",e.offset+"%")}}var Ro=["tooltipTemplate"];var zo=(t,n)=>[t,n];var Wo=`.ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .node,.ngx-charts .link,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .node.active,.ngx-charts .node:hover,.ngx-charts .link.active,.ngx-charts .link:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .node:focus,.ngx-charts .link:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .node.hidden,.ngx-charts .link.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}
`;var Go=["ngx-charts-pie-label",""];var No=["ngx-charts-pie-arc",""];function Yo(t,n){if(t&1&&(Te(),g(0,"defs"),G(1,"g",3),y()),t&2){let e=w();p(),v("color",e.fill)("name",e.radialGradientId)("startOpacity",e.startOpacity)}}var $o=["ngx-charts-pie-series",""];function Xo(t,n){if(t&1&&(Te(),G(0,"g",3)),t&2){let e=w().$implicit,i=w();v("data",e)("radius",i.outerRadius)("color",i.color(e))("label",i.labelText(e))("labelTrim",i.trimLabels)("labelTrimSize",i.maxLabelLength)("max",i.max)("value",e.value)("explodeSlices",i.explodeSlices)("animations",i.animations)}}function jo(t,n){if(t&1){let e=te();Te(),g(0,"g"),F(1,Xo,1,10,"g",1),g(2,"g",2),R("select",function(a){B(e);let s=w();return P(s.onClick(a))})("activate",function(a){B(e);let s=w();return P(s.activate.emit(a))})("deactivate",function(a){B(e);let s=w();return P(s.deactivate.emit(a))})("dblclick",function(a){B(e);let s=w();return P(s.dblclick.emit(a))}),y()()}if(t&2){let e=n.$implicit,i=w();p(),v("ngIf",i.labelVisible(e)),p(),v("startAngle",e.startAngle)("endAngle",e.endAngle)("innerRadius",i.innerRadius)("outerRadius",i.outerRadius)("fill",i.color(e))("value",e.data.value)("gradient",i.gradient)("data",e.data)("max",i.max)("explodeSlices",i.explodeSlices)("isActive",i.isActive(e.data))("animate",i.animations)("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Top)("tooltipType",i.styleTypes.tooltip)("tooltipTitle",i.getTooltipTitle(e))("tooltipTemplate",i.tooltipTemplate)("tooltipContext",e.data)}}var Qo=`.pie-label{font-size:11px}.pie-label.animation{animation:.75s ease-in fadeIn}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.pie-label-line{stroke-dasharray:100%}.pie-label-line.animation{animation:3s linear drawOut;transition:d .75s}@keyframes drawOut{0%{stroke-dashoffset:100%}to{stroke-dashoffset:0}}
`;function Uo(t,n,e){e=e||{};let i,a,s,o=null,r=0;function l(){r=e.leading===!1?0:+new Date,o=null,s=t.apply(i,a)}return function(){let c=+new Date;!r&&e.leading===!1&&(r=c);let d=n-(c-r);return i=this,a=arguments,d<=0?(clearTimeout(o),o=null,r=c,s=t.apply(i,a)):!o&&e.trailing!==!1&&(o=setTimeout(l,d)),s}}function Zo(t,n){return function(i,a,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,a,{configurable:!0,enumerable:s.enumerable,value:Uo(s.value,t,n)}),this[a]}}}}var O=function(t){return t.Top="top",t.Bottom="bottom",t.Left="left",t.Right="right",t.Center="center",t}(O||{}),Re=7;function Ma(t,n,e){if(e===O.Top)return t.top-Re;if(e===O.Bottom)return t.top+t.height-n.height+Re;if(e===O.Center)return t.top+t.height/2-n.height/2}function Fa(t,n,e){if(e===O.Left)return t.left-Re;if(e===O.Right)return t.left+t.width-n.width+Re;if(e===O.Center)return t.left+t.width/2-n.width/2}var ft=class t{static calculateVerticalAlignment(n,e,i){let a=Ma(n,e,i);return a+e.height>window.innerHeight&&(a=window.innerHeight-e.height),a}static calculateVerticalCaret(n,e,i,a){let s;a===O.Top&&(s=n.height/2-i.height/2+Re),a===O.Bottom&&(s=e.height-n.height/2-i.height/2-Re),a===O.Center&&(s=e.height/2-i.height/2);let o=Ma(n,e,a);return o+e.height>window.innerHeight&&(s+=o+e.height-window.innerHeight),s}static calculateHorizontalAlignment(n,e,i){let a=Fa(n,e,i);return a+e.width>window.innerWidth&&(a=window.innerWidth-e.width),a}static calculateHorizontalCaret(n,e,i,a){let s;a===O.Left&&(s=n.width/2-i.width/2+Re),a===O.Right&&(s=e.width-n.width/2-i.width/2-Re),a===O.Center&&(s=e.width/2-i.width/2);let o=Fa(n,e,a);return o+e.width>window.innerWidth&&(s+=o+e.width-window.innerWidth),s}static shouldFlip(n,e,i,a){let s=!1;return i===O.Right&&n.left+n.width+e.width+a>window.innerWidth&&(s=!0),i===O.Left&&n.left-e.width-a<0&&(s=!0),i===O.Top&&n.top-e.height-a<0&&(s=!0),i===O.Bottom&&n.top+n.height+e.height+a>window.innerHeight&&(s=!0),s}static positionCaret(n,e,i,a,s){let o=0,r=0;return n===O.Right?(r=-7,o=t.calculateVerticalCaret(i,e,a,s)):n===O.Left?(r=e.width,o=t.calculateVerticalCaret(i,e,a,s)):n===O.Top?(o=e.height,r=t.calculateHorizontalCaret(i,e,a,s)):n===O.Bottom&&(o=-7,r=t.calculateHorizontalCaret(i,e,a,s)),{top:o,left:r}}static positionContent(n,e,i,a,s){let o=0,r=0;return n===O.Right?(r=i.left+i.width+a,o=t.calculateVerticalAlignment(i,e,s)):n===O.Left?(r=i.left-e.width-a,o=t.calculateVerticalAlignment(i,e,s)):n===O.Top?(o=i.top-e.height-a,r=t.calculateHorizontalAlignment(i,e,s)):n===O.Bottom&&(o=i.top+i.height+a,r=t.calculateHorizontalAlignment(i,e,s)),{top:o,left:r}}static determinePlacement(n,e,i,a){if(t.shouldFlip(i,e,n,a)){if(n===O.Right)return O.Left;if(n===O.Left)return O.Right;if(n===O.Top)return O.Bottom;if(n===O.Bottom)return O.Top}return n}},qo=(()=>{class t{constructor(e,i,a){this.element=e,this.renderer=i,this.platformId=a}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!Gt(this.platformId))return;let e=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;let a=e.getBoundingClientRect();this.checkFlip(i,a),this.positionContent(e,i,a),this.showCaret&&this.positionCaret(i,a),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,i,a){let{top:s,left:o}=ft.positionContent(this.placement,a,i,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${s}px`),this.renderer.setStyle(e,"left",`${o}px`)}positionCaret(e,i){let a=this.caretElm.nativeElement,s=a.getBoundingClientRect(),{top:o,left:r}=ft.positionCaret(this.placement,i,e,s,this.alignment);this.renderer.setStyle(a,"top",`${o}px`),this.renderer.setStyle(a,"left",`${r}px`)}checkFlip(e,i){this.placement=ft.determinePlacement(this.placement,i,e,this.spacing)}onWindowResize(){this.position()}}return t.\u0275fac=function(e){return new(e||t)(T(oe),T(xe),T(Ft))},t.\u0275cmp=$({type:t,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,i){if(e&1&&Ot(Do,5),e&2){let a;ht(a=mt())&&(i.caretElm=a.first)}},hostVars:2,hostBindings:function(e,i){e&1&&R("resize",function(){return i.onWindowResize()},!1,kn),e&2&&Sn(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[["caretElm",""],[3,"hidden"],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,i){e&1&&(g(0,"div"),G(1,"span",1,0),g(3,"div",2),F(4,Eo,2,4,"span",3)(5,Mo,1,1,"span",4),y()()),e&2&&(p(),Dn("tooltip-caret position-",i.placement,""),v("hidden",!i.showCaret),p(3),v("ngIf",!i.title),p(),v("ngIf",i.title))},dependencies:[we,Ee],styles:[`.ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}
`],encapsulation:2}),un([Zo(100)],t.prototype,"onWindowResize",null),t})(),Oi=class{constructor(n){this.injectionService=n,this.defaults={},this.components=new Map}getByType(n=this.type){return this.components.get(n)}create(n){return this.createByType(this.type,n)}createByType(n,e){e=this.assignDefaults(e);let i=this.injectComponent(n,e);return this.register(n,i),i}destroy(n){let e=this.components.get(n.componentType);if(e&&e.length){let i=e.indexOf(n);i>-1&&(e[i].destroy(),e.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(n){let e=this.components.get(n);if(e&&e.length){let i=e.length-1;for(;i>=0;)this.destroy(e[i--])}}injectComponent(n,e){return this.injectionService.appendComponent(n,e)}assignDefaults(n){let e=re({},this.defaults.inputs),i=re({},this.defaults.outputs);return!n.inputs&&!n.outputs&&(n={inputs:n}),e&&(n.inputs=re(re({},e),n.inputs)),i&&(n.outputs=re(re({},i),n.outputs)),n}register(n,e){this.components.has(n)||this.components.set(n,[]),this.components.get(n).push(e)}};function Ko(t){return t.element}var Ra=(()=>{class t{constructor(e,i,a){this.applicationRef=e,this.componentFactoryResolver=i,this.injector=a}static setGlobalRootViewContainer(e){t.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(t.globalRootViewContainer)return t.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return Ko(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,i){if(i){if(i.inputs!==void 0){let a=Object.getOwnPropertyNames(i.inputs);for(let s of a)e.instance[s]=i.inputs[s]}if(i.outputs!==void 0){let a=Object.getOwnPropertyNames(i.outputs);for(let s of a)e.instance[s]=i.outputs[s]}}return e}appendComponent(e,i={},a){a||(a=this.getRootViewContainer());let s=this.getComponentRootNode(a),o=new Gn(s,this.componentFactoryResolver,this.applicationRef,this.injector),r=new Wn(e),l=o.attach(r);return this.projectComponentBindings(l,i),l}}return t.globalRootViewContainer=null,t.\u0275fac=function(e){return new(e||t)(de(Bn),de(Vt),de(Mt))},t.\u0275prov=ce({token:t,factory:t.\u0275fac}),t})(),zi=(()=>{class t extends Oi{constructor(e){super(e),this.type=qo}}return t.\u0275fac=function(e){return new(e||t)(de(Ra))},t.\u0275prov=ce({token:t,factory:t.\u0275fac}),t})(),Ye=function(t){return t.Right="right",t.Below="below",t}(Ye||{}),ut=function(t){return t.ScaleLegend="scaleLegend",t.Legend="legend",t}(ut||{}),j=function(t){return t.Time="time",t.Linear="linear",t.Ordinal="ordinal",t.Quantile="quantile",t}(j||{}),Jo=(()=>{class t{constructor(){this.horizontal=!1}ngOnChanges(e){let i=this.gradientString(this.colors.range(),this.colors.domain()),a=this.horizontal?"right":"bottom";this.gradient=`linear-gradient(to ${a}, ${i})`}gradientString(e,i){i.push(1);let a=[];return e.reverse().forEach((s,o)=>{a.push(`${s} ${Math.round(i[o]*100)}%`)}),a.join(", ")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$({type:t,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},features:[se],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(e,i){e&1&&(g(0,"div",0)(1,"div",1)(2,"span"),N(3),y()(),G(4,"div",2),g(5,"div",1)(6,"span"),N(7),y()()()),e&2&&(he("height",i.horizontal?void 0:i.height,"px")("width",i.width,"px"),me("horizontal-legend",i.horizontal),p(3),pe(i.valueRange[1].toLocaleString()),p(),he("background",i.gradient),p(3),pe(i.valueRange[0].toLocaleString()))},styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}
`],encapsulation:2,changeDetection:0}),t})();function Ii(t){return t instanceof Date?t=t.toLocaleDateString():t=t.toLocaleString(),t}function er(t){return t.toLocaleString().replace(/[&'`"<>]/g,n=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"})[n])}var tr=(()=>{class t{constructor(){this.isActive=!1,this.select=new S,this.activate=new S,this.deactivate=new S,this.toggle=new S}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$({type:t,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(e,i){e&1&&R("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"click","title"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(e,i){e&1&&(g(0,"span",0),R("click",function(){return i.select.emit(i.formattedLabel)}),g(1,"span",1),R("click",function(){return i.toggle.emit(i.formattedLabel)}),y(),g(2,"span",2),N(3),y()()),e&2&&(me("active",i.isActive),v("title",i.formattedLabel),p(),he("background-color",i.color),p(2),Z(" ",i.trimmedLabel," "))},encapsulation:2,changeDetection:0}),t})(),ir=(()=>{class t{constructor(e){this.cd=e,this.horizontal=!1,this.labelClick=new S,this.labelActivate=new S,this.labelDeactivate=new S,this.legendEntries=[]}ngOnChanges(e){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){let e=[];for(let i of this.data){let a=Ii(i);e.findIndex(o=>o.label===a)===-1&&e.push({label:i,formattedLabel:a,color:this.colors.getColor(i)})}return e}isActive(e){return this.activeEntries?this.activeEntries.find(a=>e.label===a.name)!==void 0:!1}activate(e){this.labelActivate.emit(e)}deactivate(e){this.labelDeactivate.emit(e)}trackBy(e,i){return i.label}}return t.\u0275fac=function(e){return new(e||t)(T(pt))},t.\u0275cmp=$({type:t,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[se],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"select","activate","deactivate","label","formattedLabel","color","isActive"]],template:function(e,i){e&1&&(g(0,"div"),F(1,Fo,3,1,"header",0),g(2,"div",1)(3,"ul",2),F(4,Vo,2,4,"li",3),y()()()),e&2&&(he("width",i.width,"px"),p(),v("ngIf",(i.title==null?null:i.title.length)>0),p(2),he("max-height",i.height-45,"px"),me("horizontal-legend",i.horizontal),p(),v("ngForOf",i.legendEntries)("ngForTrackBy",i.trackBy))},dependencies:[tr,we,ue],styles:[`.chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
`],encapsulation:2,changeDetection:0}),t})(),nr=(()=>{class t{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new S,this.legendLabelActivate=new S,this.legendLabelDeactivate=new S,this.LegendPosition=Ye,this.LegendType=ut}ngOnChanges(e){this.update()}update(){let e=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===Ye.Right)&&(this.legendType===ut.ScaleLegend?e=1:e=2));let i=12-e;this.chartWidth=Math.floor(this.view[0]*i/12),this.legendWidth=!this.legendOptions||this.legendOptions.position===Ye.Right?Math.floor(this.view[0]*e/12):this.chartWidth}getLegendType(){return this.legendOptions.scaleType===j.Linear?ut.ScaleLegend:ut.Legend}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$({type:t,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[Vn([zi]),se],ngContentSelectors:Oo,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"labelClick","labelActivate","labelDeactivate","horizontal","data","title","colors","height","width","activeEntries"]],template:function(e,i){e&1&&(An(),g(0,"div",0),Te(),g(1,"svg",1),Ln(2),y(),F(3,Io,1,5,"ngx-charts-scale-legend",2)(4,Bo,1,7,"ngx-charts-legend",3),y()),e&2&&(he("width",i.view[0],"px")("height",i.view[1],"px"),p(),ee("width",i.chartWidth)("height",i.view[1]),p(2),v("ngIf",i.showLegend&&i.legendType===i.LegendType.ScaleLegend),p(),v("ngIf",i.showLegend&&i.legendType===i.LegendType.Legend))},dependencies:[Jo,ir,we],encapsulation:2,changeDetection:0}),t})(),ar=(()=>{class t{constructor(e,i){this.element=e,this.zone=i,this.visible=new S,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){let e=()=>{if(!this.element)return;let{offsetHeight:i,offsetWidth:a}=this.element.nativeElement;i&&a?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e())})}}return t.\u0275fac=function(e){return new(e||t)(T(oe),T(Se))},t.\u0275dir=ae({type:t,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),t})();function Va(t){return toString.call(t)==="[object Date]"}var sr=(()=>{class t{constructor(e,i,a,s){this.chartElement=e,this.zone=i,this.cd=a,this.platformId=s,this.scheme="cool",this.schemeType=j.Ordinal,this.animations=!0,this.select=new S}ngOnInit(){Si(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new ar(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(e){this.update()}update(){if(this.results?this.results=this.cloneData(this.results):this.results=[],this.view)this.width=this.view[0],this.height=this.view[1];else{let e=this.getContainerDims();e&&(this.width=e.width,this.height=e.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let e,i,a=this.chartElement.nativeElement;if(Gt(this.platformId)&&a.parentNode!==null){let s=a.parentNode.getBoundingClientRect();e=s.width,i=s.height}return e&&i?{width:e,height:i}:null}formatDates(){for(let e=0;e<this.results.length;e++){let i=this.results[e];if(i.label=i.name,Va(i.label)&&(i.label=i.label.toLocaleDateString()),i.series)for(let a=0;a<i.series.length;a++){let s=i.series[a];s.label=s.name,Va(s.label)&&(s.label=s.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!Gt(this.platformId))return;let i=lt(window,"resize").pipe(Cn(200)).subscribe(a=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}cloneData(e){let i=[];for(let a of e){let s={};if(a.name!==void 0&&(s.name=a.name),a.value!==void 0&&(s.value=a.value),a.series!==void 0){s.series=[];for(let o of a.series){let r=Object.assign({},o);s.series.push(r)}}a.extra!==void 0&&(s.extra=JSON.parse(JSON.stringify(a.extra))),a.source!==void 0&&(s.source=a.source),a.target!==void 0&&(s.target=a.target),i.push(s)}return i}}return t.\u0275fac=function(e){return new(e||t)(T(oe),T(Se),T(pt),T(Ft))},t.\u0275cmp=$({type:t,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},features:[se],decls:1,vars:0,template:function(e,i){e&1&&G(0,"div")},encapsulation:2}),t})();function or(t,n=16){return typeof t!="string"?typeof t=="number"?t+"":"":(t=t.trim(),t.length<=n?t:`${t.slice(0,n)}...`)}var Bi=function(t){return t.Start="start",t.Middle="middle",t.End="end",t}(Bi||{});var Oa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({imports:[[fe]]}),t})(),Wi=function(t){return t.popover="popover",t.tooltip="tooltip",t}(Wi||{}),it=function(t){return t[t.all="all"]="all",t[t.focus="focus"]="focus",t[t.mouseover="mouseover"]="mouseover",t}(it||{}),rr=(()=>{class t{constructor(e,i,a){this.tooltipService=e,this.viewContainerRef=i,this.renderer=a,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=O.Top,this.tooltipAlignment=O.Center,this.tooltipType=Wi.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=it.all,this.tooltipImmediateExit=!1,this.show=new S,this.hide=new S}get listensForFocus(){return this.tooltipShowEvent===it.all||this.tooltipShowEvent===it.focus}get listensForHover(){return this.tooltipShowEvent===it.all||this.tooltipShowEvent===it.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(e){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(e))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(e){if(this.component||this.tooltipDisabled)return;let i=e?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();let a=this.createBoundOptions();this.component=this.tooltipService.create(a),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},i)}addHideListeners(e){this.mouseEnterContentEvent=this.renderer.listen(e,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(e,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",i=>{e.contains(i.target)||this.hideTooltip()}))}hideTooltip(e=!1){if(!this.component)return;let i=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),e?i():this.timeout=setTimeout(i,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return t.\u0275fac=function(e){return new(e||t)(T(zi),T(qe),T(xe))},t.\u0275dir=ae({type:t,selectors:[["","ngx-tooltip",""]],hostBindings:function(e,i){e&1&&R("focusin",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(s){return i.onMouseLeave(s.target)})("click",function(){return i.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),t})(),Ia=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({providers:[Ra,zi],imports:[[fe]]}),t})(),Ba={};function za(){let t=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return t=`a${t}`,Ba[t]?za():(Ba[t]=!0,t)}var Wa=function(t){return t.Vertical="vertical",t.Horizontal="horizontal",t}(Wa||{});var lr=(()=>{class t{constructor(){this.endOpacity=1,this.cx=0,this.cy=0}get stops(){return this.stopsInput||this.stopsDefault}set stops(e){this.stopsInput=e}ngOnChanges(e){this.r="30%",("color"in e||"startOpacity"in e||"endOpacity"in e)&&(this.stopsDefault=[{offset:0,color:this.color,opacity:this.startOpacity},{offset:100,color:this.color,opacity:this.endOpacity}])}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$({type:t,selectors:[["g","ngx-charts-svg-radial-gradient",""]],inputs:{color:"color",name:"name",startOpacity:"startOpacity",endOpacity:"endOpacity",cx:"cx",cy:"cy",stops:"stops"},features:[se],attrs:Po,decls:2,vars:5,consts:[["gradientUnits","userSpaceOnUse",3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(e,i){e&1&&(Te(),g(0,"radialGradient",0),F(1,Ho,1,5,"stop",1),y()),e&2&&(v("id",i.name),ee("cx",i.cx)("cy",i.cy)("r",i.r),p(),v("ngForOf",i.stops))},dependencies:[ue],encapsulation:2,changeDetection:0}),t})();var Pi;typeof window<"u"?Pi=window:typeof global<"u"&&(Pi=global);var Ud=Pi.MouseEvent;var le=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({imports:[[fe,Oa,Ia],fe,Oa,Ia]}),t})();function cr({width:t,height:n,margins:e,showXAxis:i=!1,showYAxis:a=!1,xAxisHeight:s=0,yAxisWidth:o=0,showXLabel:r=!1,showYLabel:l=!1,showLegend:c=!1,legendType:d=j.Ordinal,legendPosition:h=Ye.Right,columns:u=12}){let m=e[3],f=t,b=n-e[0]-e[2];return c&&h===Ye.Right&&(d===j.Ordinal?u-=2:u-=1),f=f*u/12,f=f-e[1]-e[3],i&&(b-=5,b-=s,r&&(b-=30)),a&&(f-=5,f-=o,m+=o,m+=10,l&&(f-=30,m+=30)),f=Math.max(0,f),b=Math.max(0,b),{width:Math.floor(f),height:Math.floor(b),xOffset:Math.floor(m)}}var Pa=[{name:"vivid",selectable:!0,group:j.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:j.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:j.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:j.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:j.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:j.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:j.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:j.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:j.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:j.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:j.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:j.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:j.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:j.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:j.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}],Hi=class{constructor(n,e,i,a){typeof n=="string"&&(n=Pa.find(s=>s.name===n)),this.colorDomain=n.domain,this.scaleType=e,this.domain=i,this.customColors=a,this.scale=this.generateColorScheme(n,e,this.domain)}generateColorScheme(n,e,i){typeof n=="string"&&(n=Pa.find(s=>s.name===n));let a;switch(e){case j.Quantile:a=ka().range(n.domain).domain(i);break;case j.Ordinal:a=wa().range(n.domain).domain(i);break;case j.Linear:{let s=[...n.domain];s.length===1&&(s.push(s[0]),this.colorDomain=s);let o=Ta(0,1,1/s.length);a=Qt().range(s).domain(o)}break;default:break}return a}getColor(n){if(n==null)throw new Error("Value can not be null");if(this.scaleType===j.Linear){let e=Qt().domain(this.domain).range([0,1]);return this.scale(e(n))}else{if(typeof this.customColors=="function")return this.customColors(n);let e=n.toString(),i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(a=>a.name.toLowerCase()===e.toLowerCase())),i?i.value:this.scale(n)}}getLinearGradientStops(n,e){e===void 0&&(e=this.domain[0]);let i=Qt().domain(this.domain).range([0,1]),a=ba().domain(this.colorDomain).range([0,1]),s=this.getColor(n),o=i(e),r=this.getColor(e),l=i(n),c=1,d=o,h=[];for(h.push({color:r,offset:o,originalOffset:o,opacity:1});d<l&&c<this.colorDomain.length;){let u=this.colorDomain[c],m=a(u);if(m<=o){c++;continue}if(m.toFixed(4)>=(l-a.bandwidth()).toFixed(4))break;h.push({color:u,offset:m,opacity:1}),d=m,c++}if(h[h.length-1].offset<100&&h.push({color:s,offset:l,opacity:1}),l===o)h[0].offset=0,h[1].offset=100;else if(h[h.length-1].offset!==100)for(let u of h)u.offset=(u.offset-o)/(l-o)*100;return h}};var dr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({imports:[[le]]}),t})();var Ga=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({imports:[[le]]}),t})(),Zd=(0,Ha.default)();var hr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({imports:[[le]]}),t})();var mr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({imports:[[le]]}),t})();var pr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({imports:[[le]]}),t})();var Na=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({imports:[[le]]}),t})(),gr=(()=>{class t{constructor(e){this.platformId=e,this.animations=!0,this.labelTrim=!0,this.labelTrimSize=10,this.trimLabel=or}ngOnChanges(e){this.setTransforms(),this.update()}setTransforms(){if(Si(this.platformId))this.styleTransform=`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=`translate(${this.textX},${this.textY})`,this.textTransition=this.animations?"transform 0.75s":null;else{let e=/(edge|msie|trident)/i.test(navigator.userAgent);this.styleTransform=e?null:`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=e?`translate(${this.textX},${this.textY})`:null,this.textTransition=e||!this.animations?null:"transform 0.75s"}}update(){let e=this.radius;this.explodeSlices&&(e=this.radius*this.value/this.max);let a=Xt().innerRadius(e).outerRadius(e).centroid(this.data),s=this.data.pos[1]/a[1];(this.data.pos[1]===0||a[1]===0)&&(s=1);let o=[s*a[0],s*a[1]];this.line=`M${a}L${o}L${this.data.pos}`}get textX(){return this.data.pos[0]}get textY(){return this.data.pos[1]}textAnchor(){return this.midAngle(this.data)<Math.PI?Bi.Start:Bi.End}midAngle(e){return e.startAngle+(e.endAngle-e.startAngle)/2}}return t.\u0275fac=function(e){return new(e||t)(T(Ft))},t.\u0275cmp=$({type:t,selectors:[["g","ngx-charts-pie-label",""]],inputs:{data:"data",radius:"radius",label:"label",color:"color",max:"max",value:"value",explodeSlices:"explodeSlices",animations:"animations",labelTrim:"labelTrim",labelTrimSize:"labelTrimSize"},features:[se],attrs:Go,decls:6,vars:17,consts:[["dy",".35em",1,"pie-label"],["fill","none",1,"pie-label-line","line"]],template:function(e,i){e&1&&(g(0,"title"),N(1),y(),Te(),g(2,"g")(3,"text",0),N(4),y()(),G(5,"path",1)),e&2&&(p(),pe(i.label),p(),he("transform",i.styleTransform)("transition",i.textTransition),ee("transform",i.attrTransform),p(),he("text-anchor",i.textAnchor())("shape-rendering","crispEdges"),me("animation",i.animations),p(),Z(" ",i.labelTrim?i.trimLabel(i.label,i.labelTrimSize):i.label," "),p(),me("animation",i.animations),ee("d",i.line)("stroke",i.color))},encapsulation:2,changeDetection:0}),t})();var qd=2*Math.PI;var ur=(()=>{class t{constructor(e){this.startAngle=0,this.endAngle=Math.PI*2,this.cornerRadius=0,this.explodeSlices=!1,this.gradient=!1,this.animate=!0,this.pointerEvents=!0,this.isActive=!1,this.select=new S,this.activate=new S,this.deactivate=new S,this.dblclick=new S,this.barOrientation=Wa,this.initialized=!1,this.element=e.nativeElement}ngOnChanges(e){this.update()}getGradient(){return this.gradient?this.gradientFill:this.fill}getPointerEvents(){return this.pointerEvents?"auto":"none"}update(){let e=this.calculateArc();this.startOpacity=.5,this.radialGradientId="linearGrad"+za().toString(),this.gradientFill=`url(#${this.radialGradientId})`,this.animate?this.initialized?this.updateAnimation():(this.loadAnimation(),this.initialized=!0):this.path=e.startAngle(this.startAngle).endAngle(this.endAngle)()}calculateArc(){let e=this.outerRadius;return this.explodeSlices&&this.innerRadius===0&&(e=this.outerRadius*this.value/this.max),Xt().innerRadius(this.innerRadius).outerRadius(e).cornerRadius(this.cornerRadius)}loadAnimation(){let e=Fi(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),i=this.calculateArc();e.transition().attrTween("d",function(a){this._current=this._current||a;let s=Object.assign({},a);s.endAngle=s.startAngle;let o=jt(s,s);return this._current=o(0),function(r){return i(o(r))}}).transition().duration(750).attrTween("d",function(a){this._current=this._current||a;let s=jt(this._current,a);return this._current=s(0),function(o){return i(s(o))}})}updateAnimation(){let e=Fi(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),i=this.calculateArc();e.transition().duration(750).attrTween("d",function(a){this._current=this._current||a;let s=jt(this._current,a);return this._current=s(0),function(o){return i(s(o))}})}onClick(){clearTimeout(this._timeout),this._timeout=setTimeout(()=>this.select.emit(this.data),200)}onDblClick(e){e.preventDefault(),e.stopPropagation(),clearTimeout(this._timeout),this.dblclick.emit({data:this.data,nativeEvent:e})}}return t.\u0275fac=function(e){return new(e||t)(T(oe))},t.\u0275cmp=$({type:t,selectors:[["g","ngx-charts-pie-arc",""]],inputs:{fill:"fill",startAngle:"startAngle",endAngle:"endAngle",innerRadius:"innerRadius",outerRadius:"outerRadius",cornerRadius:"cornerRadius",value:"value",max:"max",data:"data",explodeSlices:"explodeSlices",gradient:"gradient",animate:"animate",pointerEvents:"pointerEvents",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[se],attrs:No,decls:3,vars:7,consts:[[1,"arc-group"],[4,"ngIf"],[1,"arc",3,"click","dblclick","mouseenter","mouseleave"],["ngx-charts-svg-radial-gradient","",3,"color","name","startOpacity"]],template:function(e,i){e&1&&(Te(),g(0,"g",0),F(1,Yo,2,3,"defs",1),g(2,"path",2),R("click",function(){return i.onClick()})("dblclick",function(s){return i.onDblClick(s)})("mouseenter",function(){return i.activate.emit(i.data)})("mouseleave",function(){return i.deactivate.emit(i.data)}),y()()),e&2&&(p(),v("ngIf",i.gradient),p(),he("pointer-events",i.getPointerEvents()),me("active",i.isActive),ee("d",i.path)("fill",i.getGradient()))},dependencies:[lr,we],encapsulation:2,changeDetection:0}),t})(),fr=(()=>{class t{constructor(){this.series=[],this.innerRadius=60,this.outerRadius=80,this.trimLabels=!0,this.maxLabelLength=10,this.tooltipDisabled=!1,this.animations=!0,this.select=new S,this.activate=new S,this.deactivate=new S,this.dblclick=new S,this.placementTypes=O,this.styleTypes=Wi}ngOnChanges(e){this.update()}update(){let i=ya().value(a=>a.value).sort(null)(this.series);this.max=Ca(i,a=>a.value),this.data=this.calculateLabelPositions(i),this.tooltipText=this.tooltipText||this.defaultTooltipText}midAngle(e){return e.startAngle+(e.endAngle-e.startAngle)/2}outerArc(){return Xt().innerRadius(this.outerRadius*1.5).outerRadius(this.outerRadius*1.5)}calculateLabelPositions(e){let s=e;s.forEach(o=>{o.pos=this.outerArc().centroid(o),o.pos[0]=1.5*this.outerRadius*(this.midAngle(o)<Math.PI?1:-1)});for(let o=0;o<s.length-1;o++){let r=s[o];if(this.labelVisible(r))for(let l=o+1;l<s.length;l++){let c=s[l];if(this.labelVisible(c)&&c.pos[0]*r.pos[0]>0){let d=10-Math.abs(c.pos[1]-r.pos[1]);d>0&&(c.pos[1]+=Math.sign(c.pos[0])*d)}}}return s}labelVisible(e){return this.showLabels&&e.endAngle-e.startAngle>Math.PI/30}getTooltipTitle(e){return this.tooltipTemplate?void 0:this.tooltipText(e)}labelText(e){return this.labelFormatting?this.labelFormatting(e.data.name):this.label(e)}label(e){return Ii(e.data.name)}defaultTooltipText(e){let i=this.label(e),a=Ii(e.data.value);return`
      <span class="tooltip-label">${er(i)}</span>
      <span class="tooltip-val">${a}</span>
    `}color(e){return this.colors.getColor(this.label(e))}trackBy(e,i){return i.data.name}onClick(e){this.select.emit(e)}isActive(e){return this.activeEntries?this.activeEntries.find(a=>e.name===a.name&&e.series===a.series)!==void 0:!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$({type:t,selectors:[["g","ngx-charts-pie-series",""]],inputs:{colors:"colors",series:"series",dims:"dims",innerRadius:"innerRadius",outerRadius:"outerRadius",explodeSlices:"explodeSlices",showLabels:"showLabels",gradient:"gradient",activeEntries:"activeEntries",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",animations:"animations"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[se],attrs:$o,decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations",4,"ngIf"],["ngx-charts-pie-arc","","ngx-tooltip","",3,"select","activate","deactivate","dblclick","startAngle","endAngle","innerRadius","outerRadius","fill","value","gradient","data","max","explodeSlices","isActive","animate","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations"]],template:function(e,i){e&1&&F(0,jo,3,19,"g",0),e&2&&v("ngForOf",i.data)("ngForTrackBy",i.trackBy)},dependencies:[gr,ur,ue,we,rr],encapsulation:2,changeDetection:0}),t})();var Ya=(()=>{class t extends sr{constructor(){super(...arguments),this.labels=!1,this.legend=!1,this.legendTitle="Legend",this.legendPosition=Ye.Right,this.explodeSlices=!1,this.doughnut=!1,this.arcWidth=.25,this.activeEntries=[],this.tooltipDisabled=!1,this.trimLabels=!0,this.maxLabelLength=10,this.dblclick=new S,this.select=new S,this.activate=new S,this.deactivate=new S}update(){super.update(),this.labels&&this.hasNoOptionalMarginsSet()?this.margins=[30,80,30,80]:!this.labels&&this.hasNoOptionalMarginsSet()&&(this.margins=[20,20,20,20]),this.dims=cr({width:this.width,height:this.height,margins:this.margins,showLegend:this.legend,legendPosition:this.legendPosition}),this.formatDates();let e=this.margins[3]+this.dims.width/2,i=this.margins[0]+this.dims.height/2;this.translation=`translate(${e}, ${i})`,this.outerRadius=Math.min(this.dims.width,this.dims.height),this.labels?this.outerRadius/=3:this.outerRadius/=2,this.innerRadius=0,this.doughnut&&(this.innerRadius=this.outerRadius*(1-this.arcWidth)),this.domain=this.getDomain(),this.data=this.results.sort((a,s)=>this.domain.indexOf(a.name)-this.domain.indexOf(s.name)),this.setColors(),this.legendOptions=this.getLegendOptions()}getDomain(){return this.results.map(e=>e.label)}onClick(e){this.select.emit(e)}setColors(){this.colors=new Hi(this.scheme,j.Ordinal,this.domain,this.customColors)}getLegendOptions(){return{scaleType:j.Ordinal,domain:this.domain,colors:this.colors,title:this.legendTitle,position:this.legendPosition}}onActivate(e,i=!1){e=this.results.find(s=>i?s.label===e.name:s.name===e.name),!(this.activeEntries.findIndex(s=>s.name===e.name&&s.value===e.value&&s.series===e.series)>-1)&&(this.activeEntries=[e,...this.activeEntries],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e,i=!1){e=this.results.find(s=>i?s.label===e.name:s.name===e.name);let a=this.activeEntries.findIndex(s=>s.name===e.name&&s.value===e.value&&s.series===e.series);this.activeEntries.splice(a,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}hasNoOptionalMarginsSet(){return!this.margins||this.margins.length<=0}}return t.\u0275fac=(()=>{let n;return function(i){return(n||(n=Fe(t)))(i||t)}})(),t.\u0275cmp=$({type:t,selectors:[["ngx-charts-pie-chart"]],contentQueries:function(e,i,a){if(e&1&&Fn(a,Ro,5),e&2){let s;ht(s=mt())&&(i.tooltipTemplate=s.first)}},inputs:{labels:"labels",legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",explodeSlices:"explodeSlices",doughnut:"doughnut",arcWidth:"arcWidth",gradient:"gradient",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",margins:"margins"},outputs:{dblclick:"dblclick",select:"select",activate:"activate",deactivate:"deactivate"},features:[Ke],decls:3,vars:24,consts:[[3,"legendLabelActivate","legendLabelDeactivate","legendLabelClick","view","showLegend","legendOptions","activeEntries","animations"],[1,"pie-chart","chart"],["ngx-charts-pie-series","",3,"dblclick","select","activate","deactivate","colors","series","showLabels","labelFormatting","trimLabels","maxLabelLength","activeEntries","innerRadius","outerRadius","explodeSlices","gradient","animations","tooltipDisabled","tooltipTemplate","tooltipText"]],template:function(e,i){e&1&&(g(0,"ngx-charts-chart",0),R("legendLabelActivate",function(s){return i.onActivate(s,!0)})("legendLabelDeactivate",function(s){return i.onDeactivate(s,!0)})("legendLabelClick",function(s){return i.onClick(s)}),Te(),g(1,"g",1)(2,"g",2),R("dblclick",function(s){return i.dblclick.emit(s)})("select",function(s){return i.onClick(s)})("activate",function(s){return i.onActivate(s)})("deactivate",function(s){return i.onDeactivate(s)}),y()()()),e&2&&(v("view",ge(21,zo,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),p(),ee("transform",i.translation),p(),v("colors",i.colors)("series",i.data)("showLabels",i.labels)("labelFormatting",i.labelFormatting)("trimLabels",i.trimLabels)("maxLabelLength",i.maxLabelLength)("activeEntries",i.activeEntries)("innerRadius",i.innerRadius)("outerRadius",i.outerRadius)("explodeSlices",i.explodeSlices)("gradient",i.gradient)("animations",i.animations)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)("tooltipText",i.tooltipText))},dependencies:[nr,fr],styles:[Wo,Qo],encapsulation:2,changeDetection:0}),t})();var Gi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({imports:[[le]]}),t})(),vr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({imports:[[le,Gi,Na]]}),t})();var _r=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({imports:[[le]]}),t})();var xr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({imports:[[le]]}),t})();var yr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({imports:[[le,Gi,Ga]]}),t})();function Cr(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}var Tr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({imports:[[le]]}),t})(),$a=(()=>{class t{constructor(){Cr()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({imports:[le,dr,Ga,hr,mr,pr,Tr,Na,vr,_r,Gi,xr,yr]}),t})();var Qa=(()=>{class t{constructor(e){this.dashboardService=e,this.single=[],this.view=[700,400]}ngOnInit(){this.getDocumentCategoryChartData()}getDocumentCategoryChartData(){this.dashboardService.getDocumentByCategory().subscribe(e=>{this.single=e.map(i=>({name:i.categoryName,value:i.documentCount}))})}static{this.\u0275fac=function(i){return new(i||t)(T(Ut))}}static{this.\u0275cmp=$({type:t,selectors:[["app-document-by-category-chart"]],decls:10,vars:9,consts:[[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"page-title"],["code","DOCUMENTS_BY_CATEGORY"],[1,"body"],[3,"results","legendTitle","legend","labels"]],template:function(i,a){i&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),N(4),Y(5,"translate"),G(6,"app-page-help-text",4),y()(),g(7,"div",5),G(8,"ngx-charts-pie-chart",6),Y(9,"translate"),y()()()),i&2&&(p(4),Z("",ne(5,5,"DOCUMENTS_BY_CATEGORY")," "),p(4),En("legendTitle",ne(9,7,"DOCUMENT_CATEGORIES")),v("results",a.single)("legend",!0)("labels",!0))},dependencies:[et,Ya,Je],styles:[".chart-wrapper[_ngcontent-%COMP%]{position:relative;height:40vh;width:90%}"]})}}return t})();var kr=function(){function t(){}return t.prototype.getAllStyles=function(n){return window.getComputedStyle(n)},t.prototype.getStyle=function(n,e){return this.getAllStyles(n)[e]},t.prototype.isStaticPositioned=function(n){return(this.getStyle(n,"position")||"static")==="static"},t.prototype.offsetParent=function(n){for(var e=n.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},t.prototype.position=function(n,e){e===void 0&&(e=!0);var i,a={width:0,height:0,top:0,bottom:0,left:0,right:0};if(this.getStyle(n,"position")==="fixed")i=n.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{var s=this.offsetParent(n);i=this.offset(n,!1),s!==document.documentElement&&(a=this.offset(s,!1)),a.top+=s.clientTop,a.left+=s.clientLeft}return i.top-=a.top,i.bottom-=a.top,i.left-=a.left,i.right-=a.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i},t.prototype.offset=function(n,e){e===void 0&&(e=!0);var i=n.getBoundingClientRect(),a={top:window.pageYOffset-document.documentElement.clientTop,left:window.pageXOffset-document.documentElement.clientLeft},s={height:i.height||n.offsetHeight,width:i.width||n.offsetWidth,top:i.top+a.top,bottom:i.bottom+a.top,left:i.left+a.left,right:i.right+a.left};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s},t.prototype.positionElements=function(n,e,i,a){var s=i.split("-"),o=s[0],r=o===void 0?"top":o,l=s[1],c=l===void 0?"center":l,d=a?this.offset(n,!1):this.position(n,!1),h=this.getAllStyles(e),u=parseFloat(h.marginTop),m=parseFloat(h.marginBottom),f=parseFloat(h.marginLeft),b=parseFloat(h.marginRight),k=0,A=0;switch(r){case"top":k=d.top-(e.offsetHeight+u+m);break;case"bottom":k=d.top+d.height;break;case"left":A=d.left-(e.offsetWidth+f+b);break;case"right":A=d.left+d.width;break}switch(c){case"top":k=d.top;break;case"bottom":k=d.top+d.height-e.offsetHeight;break;case"left":A=d.left;break;case"right":A=d.left+d.width-e.offsetWidth;break;case"center":r==="top"||r==="bottom"?A=d.left+d.width/2-e.offsetWidth/2:k=d.top+d.height/2-e.offsetHeight/2;break}e.style.transform="translate("+Math.round(A)+"px, "+Math.round(k)+"px)";var L=e.getBoundingClientRect(),D=document.documentElement,M=window.innerHeight||D.clientHeight,H=window.innerWidth||D.clientWidth;return L.left>=0&&L.top>=0&&L.right<=H&&L.bottom<=M},t}();var Sr=/\s+/,Ua=new kr;function Ni(t,n,e,i,a){var s=Array.isArray(e)?e:e.split(Sr),o=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],r=n.classList,l=function(k){var A=k.split("-"),L=A[0],D=A[1],M=[];return a&&(M.push(a+"-"+L),D&&M.push(a+"-"+L+"-"+D),M.forEach(function(H){r.add(H)})),M};a&&o.forEach(function(k){r.remove(a+"-"+k)});var c=s.findIndex(function(k){return k==="auto"});c>=0&&o.forEach(function(k){s.find(function(A){return A.search("^"+k)!==-1})==null&&s.splice(c++,1,k)});var d=n.style;d.position="absolute",d.top="0",d.left="0",d["will-change"]="transform";for(var h,u=!1,m=0,f=s;m<f.length;m++){h=f[m];var b=l(h);if(Ua.positionElements(t,n,h,i)){u=!0;break}a&&b.forEach(function(k){r.remove(k)})}return u||(h=s[0],l(h),Ua.positionElements(t,n,h,i)),h}var ye=function(){return ye=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++){n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ye.apply(this,arguments)},Yi=function(t,n,e){if(e||arguments.length===2)for(var i=0,a=n.length,s;i<a;i++)(s||!(i in n))&&(s||(s=Array.prototype.slice.call(n,0,i)),s[i]=n[i]);return t.concat(s||Array.prototype.slice.call(n))},Kt=function(t){return t[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY",t}(Kt||{}),Dr=[Kt.SUNDAY,Kt.SATURDAY],$i=7,Xi=24,Zt=60,ze=60*60*24;function Za(t,n){var e=n.startDate,i=n.seconds,a=n.excluded,s=n.precision;if(a.length<1)return 0;for(var o=t.addSeconds,r=t.getDay,l=t.addDays,c=o(e,i-1),d=r(e),h=r(c),u=0,m=e,f=function(){var b=r(m);a.some(function(k){return k===b})&&(u+=Ar(t,{dayStart:d,dayEnd:h,day:b,precision:s,startDate:e,endDate:c})),m=l(m,1)};m<c;)f();return u}function Ar(t,n){var e=n.precision,i=n.day,a=n.dayStart,s=n.dayEnd,o=n.startDate,r=n.endDate,l=t.differenceInSeconds,c=t.endOfDay,d=t.startOfDay;if(e==="minutes"){if(i===a)return l(c(o),o)+1;if(i===s)return l(r,d(r))+1}return ze}function Lr(t,n){var e=n.event,i=n.offset,a=n.startOfWeekDate,s=n.excluded,o=n.precision,r=n.totalDaysInView,l=t.max,c=t.differenceInSeconds,d=t.addDays,h=t.endOfDay,u=t.differenceInDays,m=ze,f=l([e.start,a]);if(e.end)switch(o){case"minutes":m=c(e.end,f);break;default:m=u(d(h(e.end),1),f)*ze;break}var b=i*ze,k=b+m,A=r*ze;return k>A&&(m=A-b),m-=Za(t,{startDate:f,seconds:m,excluded:s,precision:o}),m/ze}function Er(t,n){var e=n.event,i=n.startOfWeek,a=n.excluded,s=n.precision,o=t.differenceInDays,r=t.startOfDay,l=t.differenceInSeconds;if(e.start<i)return 0;var c=0;switch(s){case"days":c=o(r(e.start),i)*ze;break;case"minutes":c=l(e.start,i);break}return c-=Za(t,{startDate:i,seconds:c,excluded:a,precision:s}),Math.abs(c/ze)}function Mr(t,n){var e=n.event,i=n.periodStart,a=n.periodEnd,s=t.isSameSecond,o=e.start,r=e.end||e.start;return!!(o>i&&o<a||r>i&&r<a||o<i&&r>a||s(o,i)||s(o,a)||s(r,i)||s(r,a))}function vt(t,n){var e=n.events,i=n.periodStart,a=n.periodEnd;return e.filter(function(s){return Mr(t,{event:s,periodStart:i,periodEnd:a})})}function qa(t,n){var e=n.date,i=n.weekendDays,a=i===void 0?Dr:i,s=t.startOfDay,o=t.isSameDay,r=t.getDay,l=s(new Date),c=r(e);return{date:e,day:c,isPast:e<l,isToday:o(e,l),isFuture:e>l,isWeekend:a.indexOf(c)>-1}}function ti(t,n){for(var e=n.viewDate,i=n.weekStartsOn,a=n.excluded,s=a===void 0?[]:a,o=n.weekendDays,r=n.viewStart,l=r===void 0?t.startOfWeek(e,{weekStartsOn:i}):r,c=n.viewEnd,d=c===void 0?t.addDays(l,$i):c,h=t.addDays,u=t.getDay,m=[],f=l;f<d;)s.some(function(b){return u(f)===b})||m.push(qa(t,{date:f,weekendDays:o})),f=h(f,1);return m}function Fr(t,n){for(var e=n.date1,i=n.date2,a=n.excluded,s=e,o=0;s<i;)a.indexOf(t.getDay(s))===-1&&o++,s=t.addDays(s,1);return o}function Vr(t,n){var e=n.events,i=e===void 0?[]:e,a=n.excluded,s=a===void 0?[]:a,o=n.precision,r=o===void 0?"days":o,l=n.absolutePositionedEvents,c=l===void 0?!1:l,d=n.viewStart,h=n.viewEnd;d=t.startOfDay(d),h=t.endOfDay(h);var u=t.differenceInSeconds,m=t.differenceInDays,f=Fr(t,{date1:d,date2:h,excluded:s}),b=m(h,d)+1,k=i.filter(function(D){return D.allDay}).map(function(D){var M=Er(t,{event:D,startOfWeek:d,excluded:s,precision:r}),H=Lr(t,{event:D,offset:M,startOfWeekDate:d,excluded:s,precision:r,totalDaysInView:b});return{event:D,offset:M,span:H}}).filter(function(D){return D.offset<f}).filter(function(D){return D.span>0}).map(function(D){return{event:D.event,offset:D.offset,span:D.span,startsBeforeWeek:D.event.start<d,endsAfterWeek:(D.event.end||D.event.start)>h}}).sort(function(D,M){var H=u(D.event.start,M.event.start);return H===0?u(M.event.end||M.event.start,D.event.end||D.event.start):H}),A=[],L=[];return k.forEach(function(D,M){if(L.indexOf(D)===-1){L.push(D);var H=D.span+D.offset,Q=k.slice(M+1).filter(function(E){if(E.offset>=H&&H+E.span<=b&&L.indexOf(E)===-1){var V=E.offset-H;return c||(E.offset=V),H+=E.span+V,L.push(E),!0}}),K=Yi([D],Q,!0),I=K.filter(function(E){return E.event.id}).map(function(E){return E.event.id}).join("-");A.push(ye({row:K},I?{id:I}:{}))}}),A}function Or(t,n){var e=n.events,i=n.viewDate,a=n.hourSegments,s=n.hourDuration,o=n.dayStart,r=n.dayEnd,l=n.weekStartsOn,c=n.excluded,d=n.weekendDays,h=n.segmentHeight,u=n.viewStart,m=n.viewEnd,f=n.minimumEventHeight,b=Br(t,{viewDate:i,hourSegments:a,hourDuration:s,dayStart:o,dayEnd:r}),k=ti(t,{viewDate:i,weekStartsOn:l,excluded:c,weekendDays:d,viewStart:u,viewEnd:m}),A=t.setHours,L=t.setMinutes,D=t.getHours,M=t.getMinutes;return k.map(function(H){var Q=Ir(t,{events:e,viewDate:H.date,hourSegments:a,dayStart:o,dayEnd:r,segmentHeight:h,eventWidth:1,hourDuration:s,minimumEventHeight:f}),K=b.map(function(V){var x=V.segments.map(function(_){var U=L(A(H.date,D(_.date)),M(_.date));return ye(ye({},_),{date:U})});return ye(ye({},V),{segments:x})});function I(V,x){var _=Math.max.apply(Math,x.map(function(X){return X.left+1})),U=V.filter(function(X){return X.left>=_}).filter(function(X){return qt(x,X.top,X.top+X.height).length>0});return U.length>0?I(V,U):_}var E=Q.events.map(function(V){var x=I(Q.events,qt(Q.events,V.top,V.top+V.height)),_=100/x;return ye(ye({},V),{left:V.left*_,width:_})});return{hours:K,date:H.date,events:E.map(function(V){var x=qt(E.filter(function(_){return _.left>V.left}),V.top,V.top+V.height);return x.length>0?ye(ye({},V),{width:Math.min.apply(Math,x.map(function(_){return _.left}))-V.left}):V})}})}function Ka(t,n){var e=n.events,i=e===void 0?[]:e,a=n.viewDate,s=n.weekStartsOn,o=n.excluded,r=o===void 0?[]:o,l=n.precision,c=l===void 0?"days":l,d=n.absolutePositionedEvents,h=d===void 0?!1:d,u=n.hourSegments,m=n.hourDuration,f=n.dayStart,b=n.dayEnd,k=n.weekendDays,A=n.segmentHeight,L=n.minimumEventHeight,D=n.viewStart,M=D===void 0?t.startOfWeek(a,{weekStartsOn:s}):D,H=n.viewEnd,Q=H===void 0?t.endOfWeek(a,{weekStartsOn:s}):H;i||(i=[]);var K=t.startOfDay,I=t.endOfDay;M=K(M),Q=I(Q);var E=vt(t,{events:i,periodStart:M,periodEnd:Q}),V=ti(t,{viewDate:a,weekStartsOn:s,excluded:r,weekendDays:k,viewStart:M,viewEnd:Q});return{allDayEventRows:Vr(t,{events:E,excluded:r,precision:c,absolutePositionedEvents:h,viewStart:M,viewEnd:Q}),period:{events:E,start:V[0].date,end:I(V[V.length-1].date)},hourColumns:Or(t,{events:i,viewDate:a,hourSegments:u,hourDuration:m,dayStart:f,dayEnd:b,weekStartsOn:s,excluded:r,weekendDays:k,segmentHeight:A,viewStart:M,viewEnd:Q,minimumEventHeight:L})}}function Ja(t,n){var e=n.events,i=e===void 0?[]:e,a=n.viewDate,s=n.weekStartsOn,o=n.excluded,r=o===void 0?[]:o,l=n.viewStart,c=l===void 0?t.startOfMonth(a):l,d=n.viewEnd,h=d===void 0?t.endOfMonth(a):d,u=n.weekendDays;i||(i=[]);for(var m=t.startOfWeek,f=t.endOfWeek,b=t.differenceInDays,k=t.startOfDay,A=t.addHours,L=t.endOfDay,D=t.isSameMonth,M=t.getDay,H=m(c,{weekStartsOn:s}),Q=f(h,{weekStartsOn:s}),K=vt(t,{events:i,periodStart:H,periodEnd:Q}),I=[],E,V=function(_i){var ie;if(E?(ie=k(A(E,Xi)),E.getTime()===ie.getTime()&&(ie=k(A(E,Xi+1))),E=ie):ie=E=H,!r.some(function(xi){return M(ie)===xi})){var Qe=qa(t,{date:ie,weekendDays:u}),ve=vt(t,{events:K,periodStart:k(ie),periodEnd:L(ie)});Qe.inMonth=D(ie,a),Qe.events=ve,Qe.badgeTotal=ve.length,I.push(Qe)}},x=0;x<b(Q,H)+1;x++)V(x);var _=[],U=$i-r.length;if(U<$i)for(var x=0;x<I.length;x+=U){var X=I.slice(x,x+U),fi=X.some(function(ie){return c<=ie.date&&ie.date<h});fi&&(_=Yi(Yi([],_,!0),X,!0))}else _=I;for(var vi=Math.floor(_.length/U),Dt=[],x=0;x<vi;x++)Dt.push(x*U);return{rowOffsets:Dt,totalDaysVisibleInWeek:U,days:_,period:{start:_[0].date,end:L(_[_.length-1].date),events:K}}}function qt(t,n,e){return t.filter(function(i){var a=i.top,s=i.top+i.height;return n<s&&s<e||n<a&&a<e?!0:a<=n&&e<=s})}function Ir(t,n){var e=n.events,i=n.viewDate,a=n.hourSegments,s=n.dayStart,o=n.dayEnd,r=n.eventWidth,l=n.segmentHeight,c=n.hourDuration,d=n.minimumEventHeight,h=t.setMinutes,u=t.setHours,m=t.startOfDay,f=t.startOfMinute,b=t.endOfDay,k=t.differenceInMinutes,A=h(u(m(i),Jt(s.hour)),ei(s.minute)),L=h(u(f(b(i)),Jt(o.hour)),ei(o.minute));L.setSeconds(59,999);var D=[],M=vt(t,{events:e.filter(function(I){return!I.allDay}),periodStart:A,periodEnd:L}),H=M.sort(function(I,E){return I.start.valueOf()-E.start.valueOf()}).map(function(I){var E=I.start,V=I.end||E,x=E<A,_=V>L,U=a*l/(c||Zt),X=0;if(E>A){var fi=t.getTimezoneOffset(E),vi=t.getTimezoneOffset(A),Dt=vi-fi;X+=k(E,A)+Dt}X*=U,X=Math.floor(X);var _i=x?A:E,ie=_?L:V,Qe=t.getTimezoneOffset(_i)-t.getTimezoneOffset(ie),ve=k(ie,_i)+Qe;I.end?ve*=U:ve=l,d&&ve<d&&(ve=d),ve=Math.floor(ve);for(var xi=X+ve,go=qt(D,X,xi),yi=0;go.some(function(uo){return uo.left===yi});)yi+=r;var pn={event:I,height:ve,width:r,top:X,left:yi,startsBeforeDay:x,endsAfterDay:_};return D.push(pn),pn}),Q=Math.max.apply(Math,H.map(function(I){return I.left+I.width})),K=vt(t,{events:e.filter(function(I){return I.allDay}),periodStart:m(A),periodEnd:b(L)});return{events:H,width:Q,allDayEvents:K,period:{events:M,start:A,end:L}}}function Jt(t){return Math.max(Math.min(23,t),0)}function ei(t){return Math.max(Math.min(59,t),0)}function Br(t,n){var e=n.viewDate,i=n.hourSegments,a=n.hourDuration,s=n.dayStart,o=n.dayEnd,r=t.setMinutes,l=t.setHours,c=t.startOfDay,d=t.startOfMinute,h=t.endOfDay,u=t.addMinutes,m=t.addDays,f=[],b=r(l(c(e),Jt(s.hour)),ei(s.minute)),k=r(l(d(h(e)),Jt(o.hour)),ei(o.minute)),A=(a||Zt)/i,L=c(e),D=h(e),M=function(V){return V};t.getTimezoneOffset(L)!==t.getTimezoneOffset(D)&&(L=m(L,1),b=m(b,1),k=m(k,1),M=function(V){return m(V,-1)});for(var H=a?Xi*60/a:Zt,Q=0;Q<H;Q++){for(var K=[],I=0;I<i;I++){var E=u(u(b,Q*(a||Zt)),I*A);E>=b&&E<k&&K.push({date:M(E),displayDate:E,isStart:I===0})}K.length>0&&f.push({segments:K})}return f}var nt=function(t){return t.NotArray="Events must be an array",t.StartPropertyMissing="Event is missing the `start` property",t.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",t.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",t.EndsBeforeStart="Event `start` property occurs after the `end`",t}(nt||{});function es(t,n){var e=!0;function i(a,s){n(a,s),e=!1}return Array.isArray(t)?(t.forEach(function(a){a.start?a.start instanceof Date||i(nt.StartPropertyNotDate,a):i(nt.StartPropertyMissing,a),a.end&&(a.end instanceof Date||i(nt.EndPropertyNotDate,a),a.start>a.end&&i(nt.EndsBeforeStart,a))}),e):(n(nt.NotArray,t),!1)}function Pr(t,n){return typeof t>"u"?typeof n>"u"?t:n:t}function Zi(t,n){return t=Pr(t,n),typeof t=="function"?function(){for(var i=arguments,a=arguments.length,s=Array(a),o=0;o<a;o++)s[o]=i[o];return!!t.apply(this,s)}:t?function(){return!0}:function(){return!1}}var ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol?"symbol":typeof t},is=function(t){return t!=null&&(typeof t>"u"?"undefined":ji(t))==="object"&&t.nodeType===1&&ji(t.style)==="object"&&ji(t.ownerDocument)==="object"};function ns(t,n){if(n=Ji(n,!0),!is(n))return-1;for(var e=0;e<t.length;e++)if(t[e]===n)return e;return-1}function qi(t,n){return ns(t,n)!==-1}function Hr(t,n){for(var e=0;e<n.length;e++)qi(t,n[e])||t.push(n[e]);return n}function Rr(t){for(var n=arguments,e=[],i=arguments.length-1;i-- >0;)e[i]=n[i+1];return e=e.map(Ji),Hr(t,e)}function zr(t){for(var n=arguments,e=[],i=arguments.length-1;i-- >0;)e[i]=n[i+1];return e.map(Ji).reduce(function(a,s){var o=ns(t,s);return o!==-1?a.concat(t.splice(o,1)):a},[])}function Ji(t,n){if(typeof t=="string")try{return document.querySelector(t)}catch(e){throw e}if(!is(t)&&!n)throw new TypeError(t+" is not a DOM element.");return t}function Wr(t,n){n=n||{};var e=Zi(n.allowUpdate,!0);return function(a){if(a=a||window.event,t.target=a.target||a.srcElement||a.originalTarget,t.element=this,t.type=a.type,!!e(a)){if(a.targetTouches)t.x=a.targetTouches[0].clientX,t.y=a.targetTouches[0].clientY,t.pageX=a.targetTouches[0].pageX,t.pageY=a.targetTouches[0].pageY,t.screenX=a.targetTouches[0].screenX,t.screenY=a.targetTouches[0].screenY;else{if(a.pageX===null&&a.clientX!==null){var s=a.target&&a.target.ownerDocument||document,o=s.documentElement,r=s.body;t.pageX=a.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),t.pageY=a.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)}else t.pageX=a.pageX,t.pageY=a.pageY;t.x=a.clientX,t.y=a.clientY,t.screenX=a.screenX,t.screenY=a.screenY}t.clientX=t.x,t.clientY=t.y}}}function Gr(){var t={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},t);var n={};return Object.defineProperties(n,t),n}function as(t){if(t===window)return Gr();try{var n=t.getBoundingClientRect();return n.x===void 0&&(n.x=n.left,n.y=n.top),n}catch{throw new TypeError("Can't call getBoundingClientRect on "+t)}}function Nr(t,n){var e=as(n);return t.y>e.top&&t.y<e.bottom&&t.x>e.left&&t.x<e.right}var Ki=void 0;typeof Object.create!="function"?Ki=function(t){var n=function(){};return function(e,i){if(e!==Object(e)&&e!==null)throw TypeError("Argument must be an object, or null");n.prototype=e||{};var a=new n;return n.prototype=null,i!==t&&Object.defineProperties(a,i),e===null&&(a.__proto__=null),a}}():Ki=Object.create;var Yr=Ki,$e=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function $r(t){var n={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};t!==void 0&&t.addEventListener("mousemove",e);function e(s){for(var o=0;o<$e.length;o++)n[$e[o]]=s[$e[o]]}var i=function(){if(MouseEvent)return function(o,r,l){var c=new MouseEvent("mousemove",Qi(n,r));return Ui(c,l),o.dispatchEvent(c)};if(typeof document.createEvent=="function")return function(o,r,l){var c=Qi(n,r),d=document.createEvent("MouseEvents");return d.initMouseEvent("mousemove",!0,!0,window,0,c.screenX,c.screenY,c.clientX,c.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,c.button,c.relatedTarget),Ui(d,l),o.dispatchEvent(d)};if(typeof document.createEventObject=="function")return function(o,r,l){var c=document.createEventObject(),d=Qi(n,r);for(var h in d)c[h]=d[h];return Ui(c,l),o.dispatchEvent(c)}}();function a(){t&&t.removeEventListener("mousemove",e,!1),n=null}return{destroy:a,dispatch:i}}function Qi(t,n){n=n||{};for(var e=Yr(t),i=0;i<$e.length;i++)n[$e[i]]!==void 0&&(e[$e[i]]=n[$e[i]]);return e}function Ui(t,n){console.log("data ",n),t.data=n||{},t.dispatched="mousemove"}var xt=["webkit","moz","ms","o"],_t=function(){if(typeof window>"u")return function(){};for(var t=0,n=xt.length;t<n&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[xt[t]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(i){var a=new Date().getTime(),s=Math.max(0,16-a-e),o=window.setTimeout(function(){return i(a+s)},s);return e=a+s,o}}return window.requestAnimationFrame.bind(window)}(),at=function(){if(typeof window>"u")return function(){};for(var t=0,n=xt.length;t<n&&!window.cancelAnimationFrame;++t)window.cancelAnimationFrame=window[xt[t]+"CancelAnimationFrame"]||window[xt[t]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function Xr(t,n){n===void 0&&(n={});var e=this,i=4,a=!1;if(typeof n.margin!="object"){var s=n.margin||-1;this.margin={left:s,right:s,top:s,bottom:s}}else this.margin=n.margin;this.scrollWhenOutside=n.scrollWhenOutside||!1;var o={},r=Wr(o),l=$r(),c=!1;window.addEventListener("mousemove",r,!1),window.addEventListener("touchmove",r,!1),isNaN(n.maxSpeed)||(i=n.maxSpeed),typeof i!="object"&&(i={left:i,right:i,top:i,bottom:i}),this.autoScroll=Zi(n.autoScroll),this.syncMove=Zi(n.syncMove,!1),this.destroy=function(x){window.removeEventListener("mousemove",r,!1),window.removeEventListener("touchmove",r,!1),window.removeEventListener("mousedown",b,!1),window.removeEventListener("touchstart",b,!1),window.removeEventListener("mouseup",k,!1),window.removeEventListener("touchend",k,!1),window.removeEventListener("pointerup",k,!1),window.removeEventListener("mouseleave",L,!1),window.removeEventListener("mousemove",H,!1),window.removeEventListener("touchmove",H,!1),window.removeEventListener("scroll",f,!0),t=[],x&&A()},this.add=function(){for(var x=[],_=arguments.length;_--;)x[_]=arguments[_];return Rr.apply(void 0,[t].concat(x)),this},this.remove=function(){for(var x=[],_=arguments.length;_--;)x[_]=arguments[_];return zr.apply(void 0,[t].concat(x))};var d=null,h;Object.prototype.toString.call(t)!=="[object Array]"&&(t=[t]),function(x){t=[],x.forEach(function(_){_===window?d=window:e.add(_)})}(t),Object.defineProperties(this,{down:{get:function(){return c}},maxSpeed:{get:function(){return i}},point:{get:function(){return o}},scrolling:{get:function(){return a}}});var u=null,m;window.addEventListener("mousedown",b,!1),window.addEventListener("touchstart",b,!1),window.addEventListener("mouseup",k,!1),window.addEventListener("touchend",k,!1),window.addEventListener("pointerup",k,!1),window.addEventListener("mousemove",H,!1),window.addEventListener("touchmove",H,!1),window.addEventListener("mouseleave",L,!1),window.addEventListener("scroll",f,!0);function f(x){for(var _=0;_<t.length;_++)if(t[_]===x.target){a=!0;break}a&&_t(function(){return a=!1})}function b(){c=!0}function k(){c=!1,A()}function A(){at(m),at(h)}function L(){c=!1}function D(x){if(!x)return null;if(u===x||qi(t,x))return x;for(;x=x.parentNode;)if(qi(t,x))return x;return null}function M(){for(var x=null,_=0;_<t.length;_++)ts(o,t[_])&&(x=t[_]);return x}function H(x){if(e.autoScroll()&&!x.dispatched){var _=x.target,U=document.body;u&&!ts(o,u)&&(e.scrollWhenOutside||(u=null)),_&&_.parentNode===U?_=M():(_=D(_),_||(_=M())),_&&_!==u&&(u=_),d&&(at(h),h=_t(Q)),u&&(at(m),m=_t(K))}}function Q(){I(d),at(h),h=_t(Q)}function K(){u&&(I(u),at(m),m=_t(K))}function I(x){var _=as(x),U,X;o.x<_.left+e.margin.left?U=Math.floor(Math.max(-1,(o.x-_.left)/e.margin.left-1)*e.maxSpeed.left):o.x>_.right-e.margin.right?U=Math.ceil(Math.min(1,(o.x-_.right)/e.margin.right+1)*e.maxSpeed.right):U=0,o.y<_.top+e.margin.top?X=Math.floor(Math.max(-1,(o.y-_.top)/e.margin.top-1)*e.maxSpeed.top):o.y>_.bottom-e.margin.bottom?X=Math.ceil(Math.min(1,(o.y-_.bottom)/e.margin.bottom+1)*e.maxSpeed.bottom):X=0,e.syncMove()&&l.dispatch(x,{pageX:o.pageX+U,pageY:o.pageY+X,clientX:o.x+U,clientY:o.y+X}),setTimeout(function(){X&&E(x,X),U&&V(x,U)})}function E(x,_){x===window?window.scrollTo(x.pageXOffset,x.pageYOffset+_):x.scrollTop+=_}function V(x,_){x===window?window.scrollTo(x.pageXOffset+_,x.pageYOffset):x.scrollLeft+=_}}function jr(t,n){return new Xr(t,n)}function ts(t,n,e){return e?t.y>e.top&&t.y<e.bottom&&t.x>e.left&&t.x<e.right:Nr(t,n)}var ss=jr;function en(t,n,e){e&&e.split(" ").forEach(i=>t.addClass(n.nativeElement,i))}function ii(t,n,e){e&&e.split(" ").forEach(i=>t.removeClass(n.nativeElement,i))}var rs=(()=>{class t{constructor(){this.currentDrag=new Ce}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ls=(()=>{class t{constructor(e){this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(T(oe))},t.\u0275dir=ae({type:t,selectors:[["","mwlDraggableScrollContainer",""]]}),t})(),tn=(()=>{class t{constructor(e,i,a,s,o,r,l){this.element=e,this.renderer=i,this.draggableHelper=a,this.zone=s,this.vcr=o,this.scrollContainer=r,this.document=l,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new S,this.dragStart=new S,this.ghostElementCreated=new S,this.dragging=new S,this.dragEnd=new S,this.pointerDown$=new Ce,this.pointerMove$=new Ce,this.pointerUp$=new Ce,this.eventListenerSubscriptions={},this.destroy$=new Ce,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();let e=this.pointerDown$.pipe(Ne(()=>this.canDrag()),Ti(i=>{i.event.stopPropagation&&!this.scrollContainer&&i.event.stopPropagation();let a=this.renderer.createElement("style");this.renderer.setAttribute(a,"type","text/css"),this.renderer.appendChild(a,this.renderer.createText(`
          body * {
           -moz-user-select: none;
           -ms-user-select: none;
           -webkit-user-select: none;
           user-select: none;
          }
        `)),requestAnimationFrame(()=>{this.document.head.appendChild(a)});let s=this.getScrollPosition(),o=new At(m=>{let f=this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window";return this.renderer.listen(f,"scroll",b=>m.next(b))}).pipe(bi(s),_e(()=>this.getScrollPosition())),r=new Ce,l=new gn;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});let c=Lt(this.pointerUp$,this.pointerDown$,l,this.destroy$).pipe(Ue()),d=vn([this.pointerMove$,o]).pipe(_e(([m,f])=>({currentDrag$:r,transformX:m.clientX-i.clientX,transformY:m.clientY-i.clientY,clientX:m.clientX,clientY:m.clientY,scrollLeft:f.left,scrollTop:f.top,target:m.event.target})),_e(m=>(this.dragSnapGrid.x&&(m.transformX=Math.round(m.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(m.transformY=Math.round(m.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),m)),_e(m=>(this.dragAxis.x||(m.transformX=0),this.dragAxis.y||(m.transformY=0),m)),_e(m=>{let f=m.scrollLeft-s.left,b=m.scrollTop-s.top;return rt(re({},m),{x:m.transformX+f,y:m.transformY+b})}),Ne(({x:m,y:f,transformX:b,transformY:k})=>!this.validateDrag||this.validateDrag({x:m,y:f,transform:{x:b,y:k}})),dt(c),Ue()),h=d.pipe(ct(1),Ue()),u=d.pipe(wn(1),Ue());return h.subscribe(({clientX:m,clientY:f,x:b,y:k})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:l})}),this.scroller=ss([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],rt(re({},this.autoScroll),{autoScroll(){return!0}})),en(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){let A=this.element.nativeElement.getBoundingClientRect(),L=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(L):this.element.nativeElement.parentNode.insertBefore(L,this.element.nativeElement.nextSibling),this.ghostElement=L,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(L,{position:"fixed",top:`${A.top}px`,left:`${A.left}px`,width:`${A.width}px`,height:`${A.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){let D=this.vcr.createEmbeddedView(this.ghostElementTemplate);L.innerHTML="",D.rootNodes.filter(M=>M instanceof Node).forEach(M=>{L.appendChild(M)}),u.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(D))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:m-b,clientY:f-k,element:L})}),u.subscribe(()=>{L.parentElement.removeChild(L),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(r)}),u.pipe(Ti(m=>{let f=l.pipe(yn(),ct(1),_e(b=>rt(re({},m),{dragCancelled:b>0})));return l.complete(),f})).subscribe(({x:m,y:f,dragCancelled:b})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:m,y:f,dragCancelled:b})}),ii(this.renderer,this.element,this.dragActiveClass),r.complete()}),Lt(c,u).pipe(ct(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(a)})}),d}),Ue());Lt(e.pipe(ct(1),_e(i=>[,i])),e.pipe(wi())).pipe(Ne(([i,a])=>i?i.x!==a.x||i.y!==a.y:!0),_e(([i,a])=>a)).subscribe(({x:i,y:a,currentDrag$:s,clientX:o,clientY:r,transformX:l,transformY:c,target:d})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:i,y:a})}),requestAnimationFrame(()=>{if(this.ghostElement){let h=`translate3d(${l}px, ${c}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:h,"-webkit-transform":h,"-ms-transform":h,"-moz-transform":h,"-o-transform":h})}}),s.next({clientX:o,clientY:r,dropData:this.dropData,target:d})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){let e=this.canDrag(),i=Object.keys(this.eventListenerSubscriptions).length>0;e&&!i?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",a=>{this.onMouseDown(a)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",a=>{this.onMouseUp(a)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",a=>{this.onTouchStart(a)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",a=>{this.onTouchEnd(a)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",a=>{this.onTouchEnd(a)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&i&&this.unsubscribeEventListeners()}onMouseDown(e){e.button===0&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",i=>{this.pointerMove$.next({event:i,clientX:i.clientX,clientY:i.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){e.button===0&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let i,a,s;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),a=!1,s=this.hasScrollbar(),i=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){let o=lt(this.document,"contextmenu").subscribe(l=>{l.preventDefault()}),r=lt(this.document,"touchmove",{passive:!1}).subscribe(l=>{this.touchStartLongPress&&!a&&s&&(a=this.shouldBeginDrag(e,l,i)),(!this.touchStartLongPress||!s||a)&&(l.preventDefault(),this.pointerMove$.next({event:l,clientX:l.targetTouches[0].clientX,clientY:l.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{o.unsubscribe(),r.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,i){Object.keys(i).forEach(a=>{this.renderer.setStyle(e,a,i[a])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,i,a){let s=this.getScrollPosition(),o={top:Math.abs(s.top-a.top),left:Math.abs(s.left-a.left)},r=Math.abs(i.targetTouches[0].clientX-e.touches[0].clientX)-o.left,l=Math.abs(i.targetTouches[0].clientY-e.touches[0].clientY)-o.top,c=r+l,d=this.touchStartLongPress;return(c>d.delta||o.top>0||o.left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=d.delay?(this.disableScroll(),!0):!1}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){let e=this.getScrollElement(),i=e.scrollWidth>e.clientWidth,a=e.scrollHeight>e.clientHeight;return i||a}}return t.\u0275fac=function(e){return new(e||t)(T(oe),T(xe),T(rs),T(Se),T(qe),T(ls,8),T(gt))},t.\u0275dir=ae({type:t,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[se]}),t})();function os(t,n,e){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}var cs=(()=>{class t{constructor(e,i,a,s,o){this.element=e,this.draggableHelper=i,this.zone=a,this.renderer=s,this.scrollContainer=o,this.dragEnter=new S,this.dragLeave=new S,this.dragOver=new S,this.drop=new S}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{en(this.renderer,this.element,this.dragActiveClass);let i={updateCache:!0},a=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{i.updateCache=!0}),s,o=e.pipe(_e(({clientX:c,clientY:d,dropData:h,target:u})=>{s={clientX:c,clientY:d,dropData:h,target:u},i.updateCache&&(i.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(i.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),i.updateCache=!1);let m=os(c,d,i.rect),f=!this.validateDrop||this.validateDrop({clientX:c,clientY:d,target:u,dropData:h});return i.scrollContainerRect?m&&f&&os(c,d,i.scrollContainerRect):m&&f})),r=o.pipe(Tn()),l;r.pipe(Ne(c=>c)).subscribe(()=>{l=!0,en(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(s)})}),o.pipe(Ne(c=>c)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(s)})}),r.pipe(wi(),Ne(([c,d])=>c&&!d)).subscribe(()=>{l=!1,ii(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(s)})}),e.subscribe({complete:()=>{a(),ii(this.renderer,this.element,this.dragActiveClass),l&&(ii(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(s)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(T(oe),T(rs),T(Se),T(xe),T(ls,8))},t.\u0275dir=ae({type:t,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),t})(),yt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({}),t})();var vh=typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;var _h=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});var nn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({}),t})();var Ur=(t,n)=>({event:t,trackByActionId:n}),Zr=t=>({action:t});function qr(t,n){if(t&1){let e=te();g(0,"a",5),Y(1,"calendarA11y"),R("mwlClick",function(a){let s=B(e).$implicit,o=w(2).event;return P(s.onClick({event:o,sourceEvent:a}))})("mwlKeydownEnter",function(a){let s=B(e).$implicit,o=w(2).event;return P(s.onClick({event:o,sourceEvent:a}))}),y()}if(t&2){let e=n.$implicit;v("ngClass",e.cssClass)("innerHtml",e.label,Ze),ee("aria-label",Ae(1,3,Be(6,Zr,e),"actionButtonLabel"))}}function Kr(t,n){if(t&1&&(g(0,"span",3),F(1,qr,2,8,"a",4),y()),t&2){let e=w(),i=e.event,a=e.trackByActionId;p(),v("ngForOf",i.actions)("ngForTrackBy",a)}}function Jr(t,n){if(t&1&&F(0,Kr,2,2,"span",2),t&2){let e=n.event;v("ngIf",e.actions)}}function el(t,n){}var tl=(t,n)=>({event:t,view:n}),sn=()=>({});function il(t,n){if(t&1&&(G(0,"span",2),Y(1,"calendarEventTitle"),Y(2,"calendarA11y")),t&2){let e=n.event,i=n.view;v("innerHTML",Pe(1,2,e.title,i,e),Ze),ee("aria-hidden",Ae(2,6,De(9,sn),"hideEventTitle"))}}function nl(t,n){}var al=(t,n,e)=>({contents:t,placement:n,event:e});function sl(t,n){if(t&1&&(g(0,"div",2),G(1,"div",3)(2,"div",4),y()),t&2){let e=n.contents,i=n.placement;v("ngClass","cal-tooltip-"+i),p(2),v("innerHtml",e,Ze)}}function ol(t,n){}var rl=(t,n,e,i,a,s,o,r,l,c,d,h)=>({day:t,openDay:n,locale:e,tooltipPlacement:i,highlightDay:a,unhighlightDay:s,eventClicked:o,tooltipTemplate:r,tooltipAppendToBody:l,tooltipDelay:c,trackByEventId:d,validateDrag:h}),ll=(t,n)=>({day:t,locale:n}),on=t=>({backgroundColor:t}),cl=(t,n)=>({event:t,draggedFrom:n}),ps=(t,n)=>({x:t,y:n}),gs=()=>({delay:300,delta:30});function dl(t,n){if(t&1&&(g(0,"span",7),N(1),y()),t&2){let e=w().day;p(),pe(e.badgeTotal)}}function hl(t,n){if(t&1){let e=te();g(0,"div",10),Y(1,"calendarEventTitle"),Y(2,"calendarA11y"),R("mouseenter",function(){let a=B(e).$implicit,s=w(2).highlightDay;return P(s.emit({event:a}))})("mouseleave",function(){let a=B(e).$implicit,s=w(2).unhighlightDay;return P(s.emit({event:a}))})("mwlClick",function(a){let s=B(e).$implicit,o=w(2).eventClicked;return P(o.emit({event:s,sourceEvent:a}))}),y()}if(t&2){let e=n.$implicit,i=w(2),a=i.day,s=i.tooltipPlacement,o=i.tooltipTemplate,r=i.tooltipAppendToBody,l=i.tooltipDelay,c=i.validateDrag;me("cal-draggable",e.draggable),v("ngStyle",Be(22,on,e.color==null?null:e.color.primary))("ngClass",e==null?null:e.cssClass)("mwlCalendarTooltip",Pe(1,15,e.title,"monthTooltip",e))("tooltipPlacement",s)("tooltipEvent",e)("tooltipTemplate",o)("tooltipAppendToBody",r)("tooltipDelay",l)("dropData",ge(24,cl,e,a))("dragAxis",ge(27,ps,e.draggable,e.draggable))("validateDrag",c)("touchStartLongPress",De(30,gs)),ee("aria-hidden",Ae(2,19,De(31,sn),"hideMonthCellEvents"))}}function ml(t,n){if(t&1&&(g(0,"div",8),F(1,hl,3,32,"div",9),y()),t&2){let e=w(),i=e.day,a=e.trackByEventId;p(),v("ngForOf",i.events)("ngForTrackBy",a)}}function pl(t,n){if(t&1&&(g(0,"div",2),Y(1,"calendarA11y"),g(2,"span",3),F(3,dl,2,1,"span",4),g(4,"span",5),N(5),Y(6,"calendarDate"),y()()(),F(7,ml,2,2,"div",6)),t&2){let e=n.day,i=n.locale;ee("aria-label",Ae(1,4,ge(11,ll,e,i),"monthCell")),p(3),v("ngIf",e.badgeTotal>0),p(2),pe(Pe(6,7,e.date,"monthViewDayNumber",i)),p(2),v("ngIf",e.events.length>0)}}function gl(t,n){}var ul=(t,n,e,i,a)=>({events:t,eventClicked:n,isOpen:e,trackByEventId:i,validateDrag:a}),ds=(t,n)=>({date:t,locale:n}),fl=t=>({event:t}),vl=(t,n)=>({event:t,locale:n});function _l(t,n){if(t&1){let e=te();g(0,"div",7),G(1,"span",8),N(2," "),g(3,"mwl-calendar-event-title",9),Y(4,"calendarA11y"),R("mwlClick",function(a){let s=B(e).$implicit,o=w(2).eventClicked;return P(o.emit({event:s,sourceEvent:a}))})("mwlKeydownEnter",function(a){let s=B(e).$implicit,o=w(2).eventClicked;return P(o.emit({event:s,sourceEvent:a}))}),y(),N(5," "),G(6,"mwl-calendar-event-actions",10),y()}if(t&2){let e=n.$implicit,i=w(2).validateDrag,a=w();me("cal-draggable",e.draggable),v("ngClass",e==null?null:e.cssClass)("dropData",Be(16,fl,e))("dragAxis",ge(18,ps,e.draggable,e.draggable))("validateDrag",i)("touchStartLongPress",De(21,gs)),p(),v("ngStyle",Be(22,on,e.color==null?null:e.color.primary)),p(2),v("event",e)("customTemplate",a.eventTitleTemplate),ee("aria-label",Ae(4,13,ge(24,vl,e,a.locale),"eventDescription")),p(3),v("event",e)("customTemplate",a.eventActionsTemplate)}}function xl(t,n){if(t&1&&(g(0,"div",3),G(1,"span",4),Y(2,"calendarA11y"),G(3,"span",5),Y(4,"calendarA11y"),F(5,_l,7,27,"div",6),y()),t&2){let e=w(),i=e.events,a=e.trackByEventId,s=w();v("@collapse",void 0),p(),ee("aria-label",Ae(2,5,ge(11,ds,s.date,s.locale),"openDayEventsAlert")),p(2),ee("aria-label",Ae(4,8,ge(14,ds,s.date,s.locale),"openDayEventsLandmark")),p(2),v("ngForOf",i)("ngForTrackBy",a)}}function yl(t,n){if(t&1&&F(0,xl,6,17,"div",2),t&2){let e=n.isOpen;v("ngIf",e)}}function Cl(t,n){}var Tl=(t,n,e)=>({days:t,locale:n,trackByWeekDayHeaderDate:e});function wl(t,n){if(t&1){let e=te();g(0,"div",4),R("click",function(a){let s=B(e).$implicit,o=w(2);return P(o.columnHeaderClicked.emit({isoDayNumber:s.day,sourceEvent:a}))}),N(1),Y(2,"calendarDate"),y()}if(t&2){let e=n.$implicit,i=w().locale;me("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),v("ngClass",e.cssClass),p(),Z(" ",Pe(2,10,e.date,"monthViewColumnHeader",i)," ")}}function bl(t,n){if(t&1&&(g(0,"div",2),F(1,wl,3,14,"div",3),y()),t&2){let e=n.days,i=n.trackByWeekDayHeaderDate;p(),v("ngForOf",e)("ngForTrackBy",i)}}function kl(t,n){}function Sl(t,n){if(t&1){let e=te();g(0,"mwl-calendar-month-cell",7),Y(1,"calendarA11y"),R("mwlClick",function(a){let s=B(e).$implicit,o=w(2);return P(o.dayClicked.emit({day:s,sourceEvent:a}))})("mwlKeydownEnter",function(a){let s=B(e).$implicit,o=w(2);return P(o.dayClicked.emit({day:s,sourceEvent:a}))})("highlightDay",function(a){B(e);let s=w(2);return P(s.toggleDayHighlight(a.event,!0))})("unhighlightDay",function(a){B(e);let s=w(2);return P(s.toggleDayHighlight(a.event,!1))})("drop",function(a){let s=B(e).$implicit,o=w(2);return P(o.eventDropped(s,a.dropData.event,a.dropData.draggedFrom))})("eventClicked",function(a){B(e);let s=w(2);return P(s.eventClicked.emit({event:a.event,sourceEvent:a.sourceEvent}))}),y()}if(t&2){let e=n.$implicit,i=w(2);v("ngClass",e==null?null:e.cssClass)("day",e)("openDay",i.openDay)("locale",i.locale)("tooltipPlacement",i.tooltipPlacement)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipTemplate",i.tooltipTemplate)("tooltipDelay",i.tooltipDelay)("customTemplate",i.cellTemplate)("ngStyle",Be(15,on,e.backgroundColor))("clickListenerDisabled",i.dayClicked.observers.length===0),ee("tabindex",Ae(1,12,De(17,sn),"monthCellTabIndex"))}}function Dl(t,n){if(t&1){let e=te();g(0,"div")(1,"div",4),F(2,Sl,2,18,"mwl-calendar-month-cell",5),Y(3,"slice"),y(),g(4,"mwl-calendar-open-day-events",6),R("eventClicked",function(a){B(e);let s=w();return P(s.eventClicked.emit({event:a.event,sourceEvent:a.sourceEvent}))})("drop",function(a){B(e);let s=w();return P(s.eventDropped(s.openDay,a.dropData.event,a.dropData.draggedFrom))}),y()()}if(t&2){let e=n.$implicit,i=w();p(2),v("ngForOf",Pe(3,9,i.view.days,e,e+i.view.totalDaysVisibleInWeek))("ngForTrackBy",i.trackByDate),p(2),v("locale",i.locale)("isOpen",i.openRowIndex===e)("events",i.openDay==null?null:i.openDay.events)("date",i.openDay==null?null:i.openDay.date)("customTemplate",i.openDayEventsTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)}}var si=(()=>{class t{constructor(e,i,a){this.renderer=e,this.elm=i,this.document=a,this.clickListenerDisabled=!1,this.click=new S,this.destroy$=new Ce}ngOnInit(){this.clickListenerDisabled||this.listen().pipe(dt(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new At(e=>this.renderer.listen(this.elm.nativeElement,"click",i=>{e.next(i)}))}}return t.\u0275fac=function(e){return new(e||t)(T(xe),T(oe),T(gt))},t.\u0275dir=ae({type:t,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),t})(),rn=(()=>{class t{constructor(e,i,a){this.host=e,this.ngZone=i,this.renderer=a,this.keydown=new S,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",e=>{(e.keyCode===13||e.which===13||e.key==="Enter")&&(e.preventDefault(),e.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(e)}))})})}ngOnDestroy(){this.keydownListener!==null&&(this.keydownListener(),this.keydownListener=null)}}return t.\u0275fac=function(e){return new(e||t)(T(oe),T(Se),T(xe))},t.\u0275dir=ae({type:t,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),t})(),ni=(()=>{class t{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:i}){return e.badgeTotal>0?`
        ${q(e.date,"EEEE MMMM d",i)},
        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},
         click to expand
      `:`${q(e.date,"EEEE MMMM d",i)}`}openDayEventsLandmark({date:e,locale:i}){return`
      Beginning of expanded view for ${q(e,"EEEE MMMM dd",i)}
    `}openDayEventsAlert({date:e,locale:i}){return`${q(e,"EEEE MMMM dd",i)} expanded`}eventDescription({event:e,locale:i}){if(e.allDay===!0)return this.allDayEventDescription({event:e,locale:i});let a=`
      ${q(e.start,"EEEE MMMM dd",i)},
      ${e.title}, from ${q(e.start,"hh:mm a",i)}
    `;return e.end?a+` to ${q(e.end,"hh:mm a",i)}`:a}allDayEventDescription({event:e,locale:i}){let a=`
      ${e.title}, event spans multiple days:
      start time ${q(e.start,"MMMM dd hh:mm a",i)}
    `;return e.end?a+`, stop time ${q(e.end,"MMMM d hh:mm a",i)}`:a+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return t.\u0275fac=function(e){return new(e||t)(de(Wt))},t.\u0275prov=ce({token:t,factory:t.\u0275fac}),t})(),bt=(()=>{class t{constructor(e,i){this.calendarA11y=e,this.locale=i}transform(e,i){if(e.locale=e.locale||this.locale,typeof this.calendarA11y[i]>"u"){let a=Object.getOwnPropertyNames(Object.getPrototypeOf(ni.prototype)).filter(s=>s!=="constructor");throw new Error(`${i} is not a valid a11y method. Can only be one of ${a.join(", ")}`)}return this.calendarA11y[i](e)}}return t.\u0275fac=function(e){return new(e||t)(T(ni,16),T(Rt,16))},t.\u0275pipe=Et({name:"calendarA11y",type:t,pure:!0}),t})(),Al=(()=>{class t{constructor(){this.trackByActionId=(e,i)=>i.id?i.id:i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$({type:t,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"mwlClick","mwlKeydownEnter","ngClass","innerHtml"]],template:function(e,i){if(e&1&&F(0,Jr,1,1,"ng-template",null,0,He)(2,el,0,0,"ng-template",1),e&2){let a=Ie(1);p(2),v("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",ge(2,Ur,i.event,i.trackByActionId))}},dependencies:[Le,ue,we,Ee,si,rn,bt],encapsulation:2}),t})(),Ct=class{month(n,e){return n.title}monthTooltip(n,e){return n.title}week(n,e){return n.title}weekTooltip(n,e){return n.title}day(n,e){return n.title}dayTooltip(n,e){return n.title}},us=(()=>{class t{constructor(e){this.calendarEventTitle=e}transform(e,i,a){return this.calendarEventTitle[i](a,e)}}return t.\u0275fac=function(e){return new(e||t)(T(Ct,16))},t.\u0275pipe=Et({name:"calendarEventTitle",type:t,pure:!0}),t})(),Ll=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$({type:t,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,i){if(e&1&&F(0,il,3,10,"ng-template",null,0,He)(2,nl,0,0,"ng-template",1),e&2){let a=Ie(1);p(2),v("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",ge(2,tl,i.event,i.view))}},dependencies:[Ee,us,bt],encapsulation:2}),t})(),El=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$({type:t,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,i){if(e&1&&F(0,sl,3,2,"ng-template",null,0,He)(2,ol,0,0,"ng-template",1),e&2){let a=Ie(1);p(2),v("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",Ht(2,al,i.contents,i.placement,i.event))}},dependencies:[Le,Ee],encapsulation:2}),t})(),Ml=(()=>{class t{constructor(e,i,a,s,o,r){this.elementRef=e,this.injector=i,this.renderer=a,this.viewContainerRef=o,this.document=r,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new Ce,this.tooltipFactory=s.resolveComponentFactory(El)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(this.delay===null?fn("now"):_n(this.delay)).pipe(dt(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=Ni(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),e.indexOf(this.tooltipRef.instance.placement)===-1&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}}return t.\u0275fac=function(e){return new(e||t)(T(oe),T(Mt),T(xe),T(Vt),T(qe),T(gt))},t.\u0275dir=ae({type:t,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,i){e&1&&R("mouseenter",function(){return i.onMouseOver()})("mouseleave",function(){return i.onMouseOut()})},inputs:{contents:[0,"mwlCalendarTooltip","contents"],placement:[0,"tooltipPlacement","placement"],customTemplate:[0,"tooltipTemplate","customTemplate"],event:[0,"tooltipEvent","event"],appendToBody:[0,"tooltipAppendToBody","appendToBody"],delay:[0,"tooltipDelay","delay"]},features:[se]}),t})(),We=function(t){return t.Month="month",t.Week="week",t.Day="day",t}(We||{}),Fl=t=>es(t,(...e)=>console.warn("angular-calendar",...e));var fs=(t,n)=>n.id?n.id:n,Vl=(t,n)=>n.date.toISOString();function Tt(t,n,e,i){let a=0,s=0,o=e<0?t.subDays:t.addDays,r=n;for(;s<=Math.abs(e);){r=o(n,a);let l=t.getDay(r);i.indexOf(l)===-1&&s++,a++}return r}function Ol(t,n,e,i=[],a){let s=a?t.startOfDay(n):t.startOfWeek(n,{weekStartsOn:e}),o=t.endOfWeek(n,{weekStartsOn:e});for(;i.indexOf(t.getDay(s))>-1&&s<o;)s=t.addDays(s,1);if(a){let r=t.endOfDay(Tt(t,s,a-1,i));return{viewStart:s,viewEnd:r}}else{let r=o;for(;i.indexOf(t.getDay(r))>-1&&r>s;)r=t.subDays(r,1);return{viewStart:s,viewEnd:r}}}function vs({x:t,y:n}){return Math.abs(t)>1||Math.abs(n)>1}var ke=class{},_s=(()=>{class t{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new S}onClick(){let e={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.view===We.Day?this.viewDateChange.emit(Tt(this.dateAdapter,this.viewDate,-1,this.excludeDays)):this.view===We.Week&&this.daysInWeek?this.viewDateChange.emit(Tt(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays)):this.viewDateChange.emit(e(this.viewDate,1))}}return t.\u0275fac=function(e){return new(e||t)(T(ke))},t.\u0275dir=ae({type:t,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(e,i){e&1&&R("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),t})(),xs=(()=>{class t{constructor(e){this.dateAdapter=e,this.excludeDays=[],this.viewDateChange=new S}onClick(){let e={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.view===We.Day?this.viewDateChange.emit(Tt(this.dateAdapter,this.viewDate,1,this.excludeDays)):this.view===We.Week&&this.daysInWeek?this.viewDateChange.emit(Tt(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays)):this.viewDateChange.emit(e(this.viewDate,1))}}return t.\u0275fac=function(e){return new(e||t)(T(ke))},t.\u0275dir=ae({type:t,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(e,i){e&1&&R("click",function(){return i.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),t})(),ys=(()=>{class t{constructor(e){this.dateAdapter=e,this.viewDateChange=new S}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}}return t.\u0275fac=function(e){return new(e||t)(T(ke))},t.\u0275dir=ae({type:t,selectors:[["","mwlCalendarToday",""]],hostBindings:function(e,i){e&1&&R("click",function(){return i.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),t})(),Il=(()=>{class t{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:i}){return q(e,"EEEE",i)}monthViewDayNumber({date:e,locale:i}){return q(e,"d",i)}monthViewTitle({date:e,locale:i}){return q(e,"LLLL y",i)}weekViewColumnHeader({date:e,locale:i}){return q(e,"EEEE",i)}weekViewColumnSubHeader({date:e,locale:i}){return q(e,"MMM d",i)}weekViewTitle({date:e,locale:i,weekStartsOn:a,excludeDays:s,daysInWeek:o}){let{viewStart:r,viewEnd:l}=Ol(this.dateAdapter,e,a,s,o),c=(d,h)=>q(d,"MMM d"+(h?", yyyy":""),i);return`${c(r,r.getUTCFullYear()!==l.getUTCFullYear())} - ${c(l,!0)}`}weekViewHour({date:e,locale:i}){return q(e,"h a",i)}dayViewHour({date:e,locale:i}){return q(e,"h a",i)}dayViewTitle({date:e,locale:i}){return q(e,"EEEE, MMMM d, y",i)}}return t.\u0275fac=function(e){return new(e||t)(de(ke))},t.\u0275prov=ce({token:t,factory:t.\u0275fac}),t})(),ai=(()=>{class t extends Il{}return t.\u0275fac=(()=>{let n;return function(i){return(n||(n=Fe(t)))(i||t)}})(),t.\u0275prov=ce({token:t,factory:t.\u0275fac}),t})(),oi=(()=>{class t{constructor(e,i){this.dateFormatter=e,this.locale=i}transform(e,i,a=this.locale,s=0,o=[],r){if(typeof this.dateFormatter[i]>"u"){let l=Object.getOwnPropertyNames(Object.getPrototypeOf(ai.prototype)).filter(c=>c!=="constructor");throw new Error(`${i} is not a valid date formatter. Can only be one of ${l.join(", ")}`)}return this.dateFormatter[i]({date:e,locale:a,weekStartsOn:s,excludeDays:o,daysInWeek:r})}}return t.\u0275fac=function(e){return new(e||t)(T(ai,16),T(Rt,16))},t.\u0275pipe=Et({name:"calendarDate",type:t,pure:!0}),t})(),ln=(()=>{class t{constructor(e){this.dateAdapter=e}getMonthView(e){return Ja(this.dateAdapter,e)}getWeekViewHeader(e){return ti(this.dateAdapter,e)}getWeekView(e){return Ka(this.dateAdapter,e)}}return t.\u0275fac=function(e){return new(e||t)(de(ke))},t.\u0275prov=ce({token:t,factory:t.\u0275fac}),t})(),Qh=new bn("Moment");var Cs=function(t){return t.Drag="drag",t.Drop="drop",t.Resize="resize",t}(Cs||{}),wt=(()=>{class t{static forRoot(e,i={}){return{ngModule:t,providers:[e,i.eventTitleFormatter||Ct,i.dateFormatter||ai,i.utils||ln,i.a11y||ni]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({providers:[Wt],imports:[fe]}),t})(),Bl=(()=>{class t{constructor(){this.highlightDay=new S,this.unhighlightDay=new S,this.eventClicked=new S,this.trackByEventId=fs,this.validateDrag=vs}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$({type:t,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(e,i){e&2&&me("cal-past",i.day.isPast)("cal-today",i.day.isToday)("cal-future",i.day.isFuture)("cal-weekend",i.day.isWeekend)("cal-in-month",i.day.inMonth)("cal-out-month",!i.day.inMonth)("cal-has-events",i.day.events.length>0)("cal-open",i.day===i.openDay)("cal-event-highlight",!!i.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"mouseenter","mouseleave","mwlClick","ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress"]],template:function(e,i){if(e&1&&F(0,pl,8,14,"ng-template",null,0,He)(2,gl,0,0,"ng-template",1),e&2){let a=Ie(1);p(2),v("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",In(2,rl,[i.day,i.openDay,i.locale,i.tooltipPlacement,i.highlightDay,i.unhighlightDay,i.eventClicked,i.tooltipTemplate,i.tooltipAppendToBody,i.tooltipDelay,i.trackByEventId,i.validateDrag]))}},dependencies:[Le,ue,we,Ee,zt,tn,Ml,si,oi,us,bt],encapsulation:2}),t})(),Pl=Nn("collapse",[Li("void",Ai({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),Li("*",Ai({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),Ei("* => void",Di("150ms ease-out")),Ei("void => *",Di("150ms ease-in"))]),Hl=(()=>{class t{constructor(){this.isOpen=!1,this.eventClicked=new S,this.trackByEventId=fs,this.validateDrag=vs}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$({type:t,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"mwlClick","mwlKeydownEnter","event","customTemplate"],[3,"event","customTemplate"]],template:function(e,i){if(e&1&&F(0,yl,1,1,"ng-template",null,0,He)(2,Cl,0,0,"ng-template",1),e&2){let a=Ie(1);p(2),v("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",On(2,ul,i.events,i.eventClicked,i.isOpen,i.trackByEventId,i.validateDrag))}},dependencies:[Le,ue,we,Ee,zt,tn,Al,Ll,si,rn,bt],encapsulation:2,data:{animation:[Pl]}}),t})(),Rl=(()=>{class t{constructor(){this.columnHeaderClicked=new S,this.trackByWeekDayHeaderDate=Vl}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=$({type:t,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"click","ngClass"]],template:function(e,i){if(e&1&&F(0,bl,2,2,"ng-template",null,0,He)(2,kl,0,0,"ng-template",1),e&2){let a=Ie(1);p(2),v("ngTemplateOutlet",i.customTemplate||a)("ngTemplateOutletContext",Ht(2,Tl,i.days,i.locale,i.trackByWeekDayHeaderDate))}},dependencies:[Le,ue,Ee,oi],encapsulation:2}),t})(),Ts=(()=>{class t{constructor(e,i,a,s){this.cdr=e,this.utils=i,this.dateAdapter=s,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new S,this.dayClicked=new S,this.eventClicked=new S,this.columnHeaderClicked=new S,this.eventTimesChanged=new S,this.trackByRowOffset=(o,r)=>this.view.days.slice(r,this.view.totalDaysVisibleInWeek).map(l=>l.date.toISOString()).join("-"),this.trackByDate=(o,r)=>r.date.toISOString(),this.locale=a}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){let i=e.viewDate||e.excludeDays||e.weekendDays,a=e.viewDate||e.events||e.excludeDays||e.weekendDays;i&&this.refreshHeader(),e.events&&Fl(this.events),a&&this.refreshBody(),(i||a)&&this.emitBeforeViewRender(),(e.activeDayIsOpen||e.viewDate||e.events||e.excludeDays||e.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(e,i){this.view.days.forEach(a=>{i&&a.events.indexOf(e)>-1?a.backgroundColor=e.color&&e.color.secondary||"#D1E8FF":delete a.backgroundColor})}eventDropped(e,i,a){if(e!==a){let s=this.dateAdapter.getYear(e.date),o=this.dateAdapter.getMonth(e.date),r=this.dateAdapter.getDate(e.date),l=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(i.start,s),o),r),c;if(i.end){let d=this.dateAdapter.differenceInSeconds(l,i.start);c=this.dateAdapter.addSeconds(i.end,d)}this.eventTimesChanged.emit({event:i,newStart:l,newEnd:c,day:e,type:Cs.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(this.activeDayIsOpen===!0){let e=this.activeDay||this.viewDate;this.openDay=this.view.days.find(a=>this.dateAdapter.isSameDay(a.date,e));let i=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(i/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return t.\u0275fac=function(e){return new(e||t)(T(pt),T(ln),T(Rt),T(ke))},t.\u0275cmp=$({type:t,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[se],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"columnHeaderClicked","days","locale","customTemplate"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"eventClicked","drop","locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked","ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled"]],template:function(e,i){e&1&&(g(0,"div",0)(1,"mwl-calendar-month-view-header",1),R("columnHeaderClicked",function(s){return i.columnHeaderClicked.emit(s)}),y(),g(2,"div",2),F(3,Dl,5,13,"div",3),y()()),e&2&&(p(),v("days",i.columnHeaders)("locale",i.locale)("customTemplate",i.headerTemplate),p(2),v("ngForOf",i.view.rowOffsets)("ngForTrackBy",i.trackByRowOffset))},dependencies:[Le,ue,zt,cs,si,rn,Bl,Hl,Rl,Rn,bt],encapsulation:2}),t})(),hs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({imports:[fe,yt,wt,yt]}),t})();var an=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({imports:[fe,nn,yt,wt,nn,yt]}),t})();var ms=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({imports:[fe,wt,an]}),t})(),ws=(()=>{class t{static forRoot(e,i={}){return{ngModule:t,providers:[e,i.eventTitleFormatter||Ct,i.dateFormatter||ai,i.utils||ln,i.a11y||ni]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=W({type:t}),t.\u0275inj=z({imports:[wt,hs,an,ms,wt,hs,an,ms]}),t})();function C(t){let n=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&n==="[object Date]"?new t.constructor(+t):typeof t=="number"||n==="[object Number]"||typeof t=="string"||n==="[object String]"?new Date(t):new Date(NaN)}function J(t,n){return t instanceof Date?new t.constructor(n):new Date(n)}function st(t,n){let e=C(t);return isNaN(n)?J(t,NaN):(n&&e.setDate(e.getDate()+n),e)}function ri(t,n){let e=C(t);if(isNaN(n))return J(t,NaN);if(!n)return e;let i=e.getDate(),a=J(t,e.getTime());a.setMonth(e.getMonth()+n+1,0);let s=a.getDate();return i>=s?a:(e.setFullYear(a.getFullYear(),a.getMonth(),i),e)}function ot(t,n){let e=+C(t);return J(t,e+n)}var Wl=Math.pow(10,8)*24*60*60*1e3,lm=-Wl,bs=6048e5,ks=864e5,Xe=6e4,kt=36e5;var Gl=3600;var Ss=Gl*24,cm=Ss*7,Nl=Ss*365.2425,Yl=Nl/12,dm=Yl*3;function Ds(t,n){return ot(t,n*kt)}var $l={};function li(){return $l}function ci(t,n){let e=li(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,a=C(t),s=a.getDay(),o=(s<i?7:0)+s-i;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function je(t){return ci(t,{weekStartsOn:1})}function As(t){let n=C(t),e=n.getFullYear(),i=J(t,0);i.setFullYear(e+1,0,4),i.setHours(0,0,0,0);let a=je(i),s=J(t,0);s.setFullYear(e,0,4),s.setHours(0,0,0,0);let o=je(s);return n.getTime()>=a.getTime()?e+1:n.getTime()>=o.getTime()?e:e-1}function Ge(t){let n=C(t);return n.setHours(0,0,0,0),n}function cn(t){let n=C(t),e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),+t-+e}function Ls(t,n){let e=Ge(t),i=Ge(n),a=+e-cn(e),s=+i-cn(i);return Math.round((a-s)/ks)}function Es(t){let n=As(t),e=J(t,0);return e.setFullYear(n,0,4),e.setHours(0,0,0,0),je(e)}function Ms(t,n){return ot(t,n*Xe)}function Fs(t,n){return ot(t,n*1e3)}function di(t,n){let e=n*7;return st(t,e)}function Vs(t){let n;return t.forEach(function(e){let i=C(e);(n===void 0||n<i||isNaN(Number(i)))&&(n=i)}),n||new Date(NaN)}function hi(t,n){let e=Ge(t),i=Ge(n);return+e==+i}function Is(t,n){let e=C(t),i=C(n),a=Os(e,i),s=Math.abs(Ls(e,i));e.setDate(e.getDate()-a*s);let o=+(Os(e,i)===-a),r=a*(s-o);return r===0?0:r}function Os(t,n){let e=t.getFullYear()-n.getFullYear()||t.getMonth()-n.getMonth()||t.getDate()-n.getDate()||t.getHours()-n.getHours()||t.getMinutes()-n.getMinutes()||t.getSeconds()-n.getSeconds()||t.getMilliseconds()-n.getMilliseconds();return e<0?-1:e>0?1:e}function mi(t){return n=>{let i=(t?Math[t]:Math.trunc)(n);return i===0?0:i}}function pi(t,n){return+C(t)-+C(n)}function Bs(t,n,e){let i=pi(t,n)/Xe;return mi(e?.roundingMethod)(i)}function Ps(t){let n=C(t);return n.setHours(23,59,59,999),n}function Hs(t){let n=C(t),e=n.getMonth();return n.setFullYear(n.getFullYear(),e+1,0),n.setHours(23,59,59,999),n}function Rs(t,n,e){let i=pi(t,n)/1e3;return mi(e?.roundingMethod)(i)}function zs(t){let n=C(t);return n.setSeconds(0,0),n}function Ws(t){let n=C(t);return n.setDate(1),n.setHours(0,0,0,0),n}function Gs(t,n){let e=li(),i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,a=C(t),s=a.getDay(),o=(s<i?-7:0)+6-(s-i);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function Ns(t){let n=C(t),e=+je(n)-+Es(n);return Math.round(e/bs)+1}function Ys(t){return C(t).getDate()}function $s(t){return C(t).getDay()}function Xs(t){let n=C(t),e=n.getFullYear(),i=n.getMonth(),a=J(t,0);return a.setFullYear(e,i+1,0),a.setHours(0,0,0,0),a.getDate()}function js(t){return C(t).getHours()}function Qs(t){return C(t).getMinutes()}function Us(t){return C(t).getMonth()}function Zs(t){return C(t).getFullYear()}function gi(t,n){let e=C(t),i=C(n);return e.getFullYear()===i.getFullYear()&&e.getMonth()===i.getMonth()}function dn(t){let n=C(t);return n.setMilliseconds(0),n}function qs(t,n){let e=dn(t),i=dn(n);return+e==+i}function Ks(t,n){return st(t,-n)}function mn(t,n){let e=n?.additionalDigits??2,i=Ul(t),a;if(i.date){let l=Zl(i.date,e);a=ql(l.restDateString,l.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);let s=a.getTime(),o=0,r;if(i.time&&(o=Kl(i.time),isNaN(o)))return new Date(NaN);if(i.timezone){if(r=Jl(i.timezone),isNaN(r))return new Date(NaN)}else{let l=new Date(s+o),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(s+o+r)}var ui={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Xl=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,jl=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ql=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Ul(t){let n={},e=t.split(ui.dateTimeDelimiter),i;if(e.length>2)return n;if(/:/.test(e[0])?i=e[0]:(n.date=e[0],i=e[1],ui.timeZoneDelimiter.test(n.date)&&(n.date=t.split(ui.timeZoneDelimiter)[0],i=t.substr(n.date.length,t.length))),i){let a=ui.timezone.exec(i);a?(n.time=i.replace(a[1],""),n.timezone=a[1]):n.time=i}return n}function Zl(t,n){let e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),i=t.match(e);if(!i)return{year:NaN,restDateString:""};let a=i[1]?parseInt(i[1]):null,s=i[2]?parseInt(i[2]):null;return{year:s===null?a:s*100,restDateString:t.slice((i[1]||i[2]).length)}}function ql(t,n){if(n===null)return new Date(NaN);let e=t.match(Xl);if(!e)return new Date(NaN);let i=!!e[4],a=St(e[1]),s=St(e[2])-1,o=St(e[3]),r=St(e[4]),l=St(e[5])-1;if(i)return ac(n,r,l)?ec(n,r,l):new Date(NaN);{let c=new Date(0);return!ic(n,s,o)||!nc(n,a)?new Date(NaN):(c.setUTCFullYear(n,s,Math.max(a,o)),c)}}function St(t){return t?parseInt(t):1}function Kl(t){let n=t.match(jl);if(!n)return NaN;let e=hn(n[1]),i=hn(n[2]),a=hn(n[3]);return sc(e,i,a)?e*kt+i*Xe+a*1e3:NaN}function hn(t){return t&&parseFloat(t.replace(",","."))||0}function Jl(t){if(t==="Z")return 0;let n=t.match(Ql);if(!n)return 0;let e=n[1]==="+"?-1:1,i=parseInt(n[2]),a=n[3]&&parseInt(n[3])||0;return oc(i,a)?e*(i*kt+a*Xe):NaN}function ec(t,n,e){let i=new Date(0);i.setUTCFullYear(t,0,4);let a=i.getUTCDay()||7,s=(n-1)*7+e+1-a;return i.setUTCDate(i.getUTCDate()+s),i}var tc=[31,null,31,30,31,30,31,31,30,31,30,31];function Js(t){return t%400===0||t%4===0&&t%100!==0}function ic(t,n,e){return n>=0&&n<=11&&e>=1&&e<=(tc[n]||(Js(t)?29:28))}function nc(t,n){return n>=1&&n<=(Js(t)?366:365)}function ac(t,n,e){return n>=1&&n<=53&&e>=0&&e<=6}function sc(t,n,e){return t===24?n===0&&e===0:e>=0&&e<60&&n>=0&&n<60&&t>=0&&t<25}function oc(t,n){return n>=0&&n<=59}function eo(t,n){let e=C(t),i=e.getFullYear(),a=e.getDate(),s=J(t,0);s.setFullYear(i,n,15),s.setHours(0,0,0,0);let o=Xs(s);return e.setMonth(n,Math.min(a,o)),e}function to(t,n){let e=C(t);return e.setDate(n),e}function io(t,n){let e=C(t);return e.setHours(n),e}function no(t,n){let e=C(t);return e.setMinutes(n),e}function ao(t,n){let e=C(t);return isNaN(+e)?J(t,NaN):(e.setFullYear(n),e)}function so(t,n){return ri(t,-n)}function oo(t,n){return di(t,-n)}function rc(t,n){if(t&1){let e=te();g(0,"mwl-calendar-month-view",14),R("dayClicked",function(a){B(e);let s=w();return P(s.dayClicked(a.day))})("eventClicked",function(a){B(e);let s=w();return P(s.handleEvent("Clicked",a.event))}),y()}if(t&2){let e=w();v("viewDate",e.viewDate)("events",e.events)("activeDayIsOpen",e.activeDayIsOpen)}}var ro=(()=>{class t{constructor(e,i){this.dashboardService=e,this.dialog=i,this.view=We.Month,this.viewDate=new Date,this.activeDayIsOpen=!1,this.CalendarView=We,this.events=[],this.isProcessing=!1}ngOnInit(){let e=new Date;this.gerReminders(e.getMonth()+1,e.getFullYear())}viewDateChange(e){this.activeDayIsOpen=!1,this.gerReminders(e.getMonth()+1,e.getFullYear())}dayClicked({date:e,events:i}){gi(e,this.viewDate)&&(hi(this.viewDate,e)&&this.activeDayIsOpen===!0||i.length===0?this.activeDayIsOpen=!1:this.activeDayIsOpen=!0,this.viewDate=e)}handleEvent(e,i){this.dialog.open(sa,{data:i.id,width:"80vw"})}gerReminders(e,i){this.isProcessing=!0,this.events=[],this.dashboardService.getReminders(e,i).subscribe(a=>{this.isProcessing=!1,this.addEvent(a)},()=>this.isProcessing=!1)}addEvent(e){let i=e.map(a=>(a.start=mn(a.start.toString()),a.end=mn(a.end.toString()),a));this.events=this.events.concat(i)}static{this.\u0275fac=function(i){return new(i||t)(T(Ut),T(Nt))}}static{this.\u0275cmp=$({type:t,selectors:[["app-calender-view"]],decls:27,vars:27,consts:[[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"header"],[1,"page-title"],["code","REMINDERS"],[1,"body"],[1,"row","text-center"],[1,"col-md-4"],[1,"btn-group"],["mwlCalendarPreviousView","",1,"btn","btn-primary",3,"viewDateChange","disabled","view","viewDate"],["mwlCalendarToday","",1,"btn","btn-outline-secondary",3,"viewDateChange","disabled","viewDate"],["mwlCalendarNextView","",1,"btn","btn-primary",3,"viewDateChange","disabled","view","viewDate"],[3,"ngSwitch"],[3,"viewDate","events","activeDayIsOpen","dayClicked","eventClicked",4,"ngSwitchCase"],[3,"dayClicked","eventClicked","viewDate","events","activeDayIsOpen"]],template:function(i,a){i&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),N(4),Y(5,"translate"),G(6,"app-page-help-text",4),y()(),g(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",2)(11,"h2"),N(12),Y(13,"calendarDate"),y()()(),g(14,"div",7)(15,"div",8)(16,"button",9),Pt("viewDateChange",function(o){return Bt(a.viewDate,o)||(a.viewDate=o),o}),R("viewDateChange",function(o){return a.viewDateChange(o)}),N(17),Y(18,"translate"),y(),g(19,"button",10),R("viewDateChange",function(o){return a.viewDateChange(o)}),Pt("viewDateChange",function(o){return Bt(a.viewDate,o)||(a.viewDate=o),o}),N(20),Y(21,"translate"),y(),g(22,"button",11),Pt("viewDateChange",function(o){return Bt(a.viewDate,o)||(a.viewDate=o),o}),R("viewDateChange",function(o){return a.viewDateChange(o)}),N(23),Y(24,"translate"),y()()()(),g(25,"div",12),F(26,rc,1,3,"mwl-calendar-month-view",13),y()()()()),i&2&&(p(4),Z("",ne(5,15,"REMINDERS")," "),p(8),pe(Pe(13,17,a.viewDate,a.view+"ViewTitle","en")),p(4),v("disabled",a.isProcessing)("view",a.view),It("viewDate",a.viewDate),p(),Z(" ",ne(18,21,"PREVIOUS")," "),p(2),v("disabled",a.isProcessing),It("viewDate",a.viewDate),p(),Z(" ",ne(21,23,"TODAY")," "),p(2),v("disabled",a.isProcessing)("view",a.view),It("viewDate",a.viewDate),p(),Z(" ",ne(24,25,"NEXT")," "),p(2),v("ngSwitch",a.view),p(),v("ngSwitchCase",a.CalendarView.Month))},dependencies:[Pn,Hn,et,_s,xs,ys,Ts,Je,oi]})}}return t})();var cc=()=>[5,10,20];function dc(t,n){t&1&&(g(0,"th",20),N(1),Y(2,"translate"),y()),t&2&&(p(),Z(" ",ne(2,1,"ACTION")," "))}function hc(t,n){if(t&1){let e=te();g(0,"td",21)(1,"button",22),R("click",function(){let a=B(e).$implicit,s=w();return P(s.viewVisualWorkflow(a))}),G(2,"i-feather",23),y()()}}function mc(t,n){t&1&&(g(0,"th",20),N(1),Y(2,"translate"),y()),t&2&&(p(),Z(" ",ne(2,1,"WORKFLOW_NAME")," "))}function pc(t,n){if(t&1&&(g(0,"td",21),N(1),y()),t&2){let e=n.$implicit;p(),Z(" ",e==null?null:e.workflowName," ")}}function gc(t,n){t&1&&(g(0,"th",20),N(1),Y(2,"translate"),y()),t&2&&(p(),Z(" ",ne(2,1,"DOCUMENT_NAME")," "))}function uc(t,n){if(t&1){let e=te();g(0,"td",21)(1,"a",24),R("click",function(){let a=B(e).$implicit,s=w();return P(s.onDocumentView(a.documentId))}),N(2),y()()}if(t&2){let e=n.$implicit;p(2),Z(" ",e==null?null:e.documentName," ")}}function fc(t,n){t&1&&(g(0,"th",20),N(1),Y(2,"translate"),y()),t&2&&(p(),Z(" ",ne(2,1,"TRANSITIONS")," "))}function vc(t,n){if(t&1){let e=te();Ve(0),g(1,"button",27),R("click",function(){let a=B(e).$implicit,s=w().$implicit,o=w();return P(o.performTransition(a,s))}),N(2),y(),Oe()}if(t&2){let e=n.$implicit;p(),Mn("ngClass","workflow_",e.color,""),p(),ki(" ",e.name," (",e.fromToStepName,") ")}}function _c(t,n){if(t&1&&(g(0,"td",21)(1,"div",25),Ve(2),F(3,vc,3,4,"ng-container",26),Oe(),y()()),t&2){let e=n.$implicit;p(3),v("ngForOf",e.nextTransitions)}}function xc(t,n){t&1&&(g(0,"tr")(1,"td",28)(2,"div",29)(3,"b"),N(4),Y(5,"translate"),y()()()()),t&2&&(p(4),Z(" ",ne(5,1,"NO_DATA_FOUND"),""))}function yc(t,n){t&1&&G(0,"tr",30)}function Cc(t,n){t&1&&G(0,"tr",31)}var lo=(()=>{class t extends Yt{constructor(){super(...arguments),this.workflowInstances=[],this.displayedColumns=["detail","workflowname","documentname","transition"],this.documentWorkflowService=Me(xa),this.dialog=Me(Nt),this.commonDialogService=Me(Jn),this.translationService=Me(Qn),this.toastrService=Me(jn),this.documentService=Me(Kn),this.overlay=Me($n),this.positionOptions=["below","above","left","right"]}ngOnInit(){this.dataSource=new _a(this.workflowInstances),this.dataSource.paginator=this.paginator,this.getWorkflows()}ngAfterViewInit(){this.dataSource.paginator=this.paginator}getWorkflows(){this.sub$.sink=this.documentWorkflowService.getMyWorkflow().subscribe({next:e=>{this.workflowInstances=e,this.dataSource.data=e},error:e=>{}})}performTransition(e,i){this.commonDialogService.deleteConfirmWithCommentDialog(`${this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_PROCEED_WITH_THIS_WORKFLOW_TRANSITION")}:: ${e.name} ?`).subscribe(a=>{if(a.flag){let s={transitionId:e.id,comment:a.comment,documentId:i.documentId,documentWorkflowId:i.documentWorkflowId};this.documentWorkflowService.performNextTransition(s).subscribe({next:()=>{this.toastrService.success(`${e.name} ${this.translationService.getValue("HAS_BEEN_SUCCESSFULLY_COMPLETED")}`),this.getWorkflows()},error:()=>{}})}})}viewVisualWorkflow(e){this.documentWorkflowService.getRunningVisualWorkflow(e.documentWorkflowId).subscribe({next:i=>{i.documentId=e.documentId,i.documentName=e.documentName,this.dialog.open(Sa,{width:"90vw",data:Object.assign({},i)})}})}onDocumentView(e){this.documentService.getDocument(e).subscribe(i=>{let s=i.url.split(".")[1],o={documentId:i.id,name:i.name,extension:s,isVersion:!1,isFromPublicPreview:!1,isPreviewDownloadEnabled:!1};this.overlay.open(Zn,{position:"center",origin:"global",panelClass:["file-preview-overlay-container","white-background"],data:o})})}onPageChanged(e){let i=e.pageIndex,a=e.pageSize}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=Fe(t)))(a||t)}})()}static{this.\u0275cmp=$({type:t,selectors:[["app-my-workflow"]],viewQuery:function(i,a){if(i&1&&Ot($t,5),i&2){let s;ht(s=mt())&&(a.paginator=s.first)}},features:[Ke],decls:29,vars:11,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"header"],[1,"mb-0","page-title"],["code","CURRENT_WORKFLOWS"],[1,"body"],[1,"table-responsive"],[1,"grid-height-large"],["mat-table","",3,"dataSource"],["matColumnDef","detail"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","workflowname"],["matColumnDef","documentname"],["matColumnDef","transition"],[4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"page","length","pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],[1,"btn","btn-sm","btn-primary",3,"click"],["name","eye",1,"small-icon"],[1,"doc-link",3,"click"],[1,"transition-list"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm","mb-1","mt-1",3,"click","ngClass"],["colspan"," 5"],[1,"m-2"],["mat-header-row",""],["mat-row",""]],template:function(i,a){i&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1)(5,"span",4),N(6),Y(7,"translate"),y(),G(8,"app-page-help-text",5),y()(),g(9,"div",6)(10,"div",7)(11,"div",8)(12,"table",9),Ve(13,10),F(14,dc,3,3,"th",11)(15,hc,3,0,"td",12),Oe(),Ve(16,13),F(17,mc,3,3,"th",11)(18,pc,2,1,"td",12),Oe(),Ve(19,14),F(20,gc,3,3,"th",11)(21,uc,3,1,"td",12),Oe(),Ve(22,15),F(23,fc,3,3,"th",11)(24,_c,4,1,"td",12),Oe(),F(25,xc,6,3,"tr",16)(26,yc,1,0,"tr",17)(27,Cc,1,0,"tr",18),y(),g(28,"mat-paginator",19),R("page",function(o){return a.onPageChanged(o)}),y()()()()()()()),i&2&&(p(6),pe(ne(7,8,"MY_WORKFLOWS")),p(6),v("dataSource",a.dataSource),p(14),v("matHeaderRowDef",a.displayedColumns)("matHeaderRowDefSticky",!0),p(),v("matRowDefColumns",a.displayedColumns),p(),v("length",a.workflowInstances.length)("pageSize",5)("pageSizeOptions",De(10,cc)))},dependencies:[Le,ue,$t,oa,la,ma,ca,ra,pa,da,ha,ga,ua,fa,Un,et,Je],styles:[".transition-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.transition-item[_ngcontent-%COMP%]{background-color:#f1f1f1;padding:4px 8px;border-radius:4px}.workflow_approved[_ngcontent-%COMP%]{color:#000!important;background-color:#28a745!important}.workflow_rejected[_ngcontent-%COMP%]{color:#fff!important;background-color:#dc3545!important}.workflow_pending[_ngcontent-%COMP%]{color:#000!important;background-color:#ffc107!important}.workflow_inprogress[_ngcontent-%COMP%]{color:#fff!important;background-color:#6777ef!important}.workflow_onhold[_ngcontent-%COMP%]{color:#000!important;background-color:#6c757d!important}.workflow_cancelled[_ngcontent-%COMP%]{color:#fff!important;background-color:#343a40!important}.workflow_escalated[_ngcontent-%COMP%]{color:#fff!important;background-color:#fd7e14!important}.workflow_completed[_ngcontent-%COMP%]{color:#fff!important;background-color:#198754!important}"]})}}return t})();function wc(t,n){t&1&&(g(0,"div"),G(1,"app-my-workflow"),y())}var co=(()=>{class t extends Yt{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=Fe(t)))(a||t)}})()}static{this.\u0275cmp=$({type:t,selectors:[["app-dashboard"]],features:[Ke],decls:7,vars:1,consts:[[1,"content"],[1,"container-fluid"],[4,"hasClaim"]],template:function(i,a){i&1&&(g(0,"section",0)(1,"div",1)(2,"div"),G(3,"app-document-by-category-chart"),y(),F(4,wc,2,0,"div",2),g(5,"div"),G(6,"app-calender-view"),y()()()),i&2&&(p(4),v("hasClaim","WORKFLOW_VIEW_MY_WORKFLOWS"))},dependencies:[qn,Qa,ro,lo],styles:[".p-2[_ngcontent-%COMP%]{padding:.5rem!important}.widget-column[_ngcontent-%COMP%]{flex:1 1 15%;text-align:center;padding:15px;display:flex;color:#fff;flex-direction:column;border-radius:5px;cursor:pointer}.widget-column[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-size:35px;margin-bottom:12px}.widget-column[_ngcontent-%COMP%]   .column-text[_ngcontent-%COMP%]{font-size:20px;color:#fff}.chart-div[_ngcontent-%COMP%]{height:60vh}"]})}}return t})();var bc=[{path:"",component:co,data:{claimType:"DASHBOARD_VIEW_DASHBOARD"},canActivate:[ta]}],ho=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=W({type:t})}static{this.\u0275inj=z({imports:[Mi.forChild(bc),Mi]})}}return t})();function kc(t){return new Date(t).getTimezoneOffset()}function mo(){return{addDays:st,addHours:Ds,addMinutes:Ms,addSeconds:Fs,differenceInDays:Is,differenceInMinutes:Bs,differenceInSeconds:Rs,endOfDay:Ps,endOfMonth:Hs,endOfWeek:Gs,getDay:$s,getMonth:Us,isSameDay:hi,isSameMonth:gi,isSameSecond:qs,max:Vs,setHours:io,setMinutes:no,startOfDay:Ge,startOfMinute:zs,startOfMonth:Ws,startOfWeek:ci,getHours:js,getMinutes:Qs,getTimezoneOffset:kc}}function po(){return Ci(Ci({},mo()),{addWeeks:di,addMonths:ri,subDays:Ks,subWeeks:oo,subMonths:so,getISOWeek:Ns,setDate:to,setMonth:eo,setYear:ao,getDate:Ys,getYear:Zs})}var hu=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=W({type:t})}static{this.\u0275inj=z({imports:[fe,ho,na,aa,va,ia,ea,$a,Yn,ws.forRoot({provide:ke,useFactory:po})]})}}return t})();export{hu as DashboardModule};
