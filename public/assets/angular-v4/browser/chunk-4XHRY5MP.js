import{a as ai}from"./chunk-ADSK4K64.js";import{a as mi}from"./chunk-CZA53JXZ.js";import{a as li}from"./chunk-7XEC6DZO.js";import{a as si,b as ci,c as _i,d as hi,e as vi,f as Di,g as Si,h as xi}from"./chunk-NR2EX3RM.js";import{d as di,e as ui}from"./chunk-KKMMKVFL.js";import{a as fi}from"./chunk-XALYLCQ4.js";import{a as Zt}from"./chunk-5DGY2OXT.js";import{a as Xt}from"./chunk-VBYTSXUA.js";import{a as ii}from"./chunk-4JQNLXHD.js";import{a as gi,b as Ci}from"./chunk-HCZMPLJU.js";import{a as L,b as ce,c as J,d as ei,e as ti,f as ni,g as ri}from"./chunk-XCK6F3VT.js";import{a as oi}from"./chunk-SRO5SYC3.js";import{a as pi}from"./chunk-I3ONU5H4.js";import{a as Ke,b as Xe,c as Ze}from"./chunk-DL7A26HC.js";import{a as Je}from"./chunk-3NG6G7DU.js";import{b as tt}from"./chunk-6RIQ7ZPY.js";import{b as et}from"./chunk-6KAN7QFK.js";import{b as it}from"./chunk-I5DMEMR4.js";import{a as nt,b as rt}from"./chunk-WGGER5HX.js";import{a as Kt}from"./chunk-DL4SMTXP.js";import{H as Le,I as Ne,J as ke,K as Oe,L as Me,M as Ve,N as Be,O as Ue,P as $e,Q as Ge,R as je,S as He,T as qe,U as Pe,V as Ye,Y,Z as Qe,ba as Q,c as Ae,d as qt,e as Pt,ea as ze,f as Fe,g as Yt,ha as W,j as ie,n as Qt,o as Wt,p as zt,w as Jt}from"./chunk-H5SZDBVN.js";import{b as se,c as $t,d as Ht,e as We}from"./chunk-XE6VZSAJ.js";import{a as P}from"./chunk-KX634QZQ.js";import{C as he,D as Nt,F as te,G as ge,H as ve,L as G,f as Lt}from"./chunk-3O3IKF6A.js";import{ia as $,ja as q,ma as ne}from"./chunk-TR4MAYT5.js";import{p as j,t as H}from"./chunk-AWIVOLPG.js";import{a as we}from"./chunk-J2LIJEQH.js";import{b as Gt,c as jt}from"./chunk-AGIEFCW2.js";import{B as Ie,c as De,e as I,h as Se,i as xe,m as le,o as Ee,p as Ot,r as ye,s as be,t as Te,u as Re,v as Mt,w as Vt,x as Bt,y as Ut}from"./chunk-6EN4EXPL.js";import{$ as ae,$b as f,Ac as Rt,B as pe,Ba as Et,Ca as yt,Cb as _,Ea as ct,Fa as k,Fc as c,Gb as s,Gc as d,Hc as F,Ka as O,La as bt,Mb as dt,Md as kt,N as st,Nd as Ce,Pc as It,Pd as pt,Q as ue,Qb as o,Rb as n,Sb as h,Ta as v,Tb as E,Ua as C,Ub as y,W as K,Wb as x,Zb as g,a as Dt,bd as wt,cc as R,cd as Z,dd as ee,fa as me,fc as V,gc as B,ha as _e,hc as U,hd as fe,j as St,kc as w,mc as l,nc as S,o as xt,ob as i,oc as u,p as N,pb as D,pc as Tt,td as At,wa as X,xd as Ft,yc as z,zb as M,zc as A}from"./chunk-SXJN2XK6.js";function Mi(t,m){t&1&&(o(0,"div",30),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"SUBJECT_IS_REQUIRED")," "))}function Vi(t,m){if(t&1&&(o(0,"div"),_(1,Mi,3,3,"div",29),n()),t&2){let e,r=f();i(),s("ngIf",(e=r.reminderForm.get("subject").errors)==null?null:e.required)}}function Bi(t,m){t&1&&(o(0,"div",30),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"MESSAGE_IS_REQUIRED")," "))}function Ui(t,m){if(t&1&&(o(0,"div"),_(1,Bi,3,3,"div",29),n()),t&2){let e,r=f();i(),s("ngIf",(e=r.reminderForm.get("message").errors)==null?null:e.required)}}function $i(t,m){if(t&1&&(o(0,"option",36),l(1),c(2,"translate"),n()),t&2){let e=m.$implicit;s("value",e==null?null:e.id),i(),u(" ",d(2,2,e==null?null:e.name.toUpperCase())," ")}}function Gi(t,m){t&1&&(o(0,"div")(1,"div",30),l(2),c(3,"translate"),n()()),t&2&&(i(2),u(" ",d(3,1,"FREQUENCY_IS_REQUIRED")," "))}function ji(t,m){if(t&1){let e=x();o(0,"div",9)(1,"div",31)(2,"label",32),l(3),c(4,"translate"),n(),o(5,"select",33),g("change",function(){v(e);let a=f();return C(a.onFrequencyChange())}),o(6,"option",34),l(7),c(8,"translate"),n(),_(9,$i,3,4,"option",35),n(),_(10,Gi,4,3,"div",15),n()()}if(t&2){let e=f();i(3),u(" ",d(4,4,"FREQUENCY"),""),i(4),u("--",d(8,6,"NONE"),"--"),i(2),s("ngForOf",e.reminderFrequencies),i(),s("ngIf",e.reminderForm.get("frequency").hasError("required"))}}function Hi(t,m){if(t&1&&(o(0,"div",43),E(1,44),o(2,"mat-checkbox",45),l(3),c(4,"translate"),n(),y(),n()),t&2){let e=m.$implicit,r=m.index;i(),s("formGroupName",r),i(2),u(" ",d(4,2,e.get("name").value.toUpperCase())," ")}}function qi(t,m){if(t&1&&(o(0,"div",39)(1,"label",40),l(2),c(3,"translate"),n(),o(4,"div",41),_(5,Hi,5,4,"div",42),n()()),t&2){let e=f(2);i(2),S(d(3,2,"WEEK_DAYS")),i(3),s("ngForOf",e.dailyRemindersArray.controls)}}function Pi(t,m){if(t&1&&(o(0,"mat-radio-button",50),l(1),c(2,"translate"),n()),t&2){let e=m.$implicit;s("value",e.id),i(),S(d(2,2,e.name))}}function Yi(t,m){if(t&1&&(o(0,"div",39)(1,"label",46),l(2),c(3,"translate"),n(),o(4,"div",47)(5,"mat-radio-group",48),_(6,Pi,3,4,"mat-radio-button",49),n()()()),t&2){let e=f(2);i(2),S(d(3,2,"WEEK_DAYS")),i(4),s("ngForOf",e.dayOfWeek)}}function Qi(t,m){if(t&1&&(o(0,"option",36),l(1),c(2,"translate"),n()),t&2){let e=m.$implicit;s("value",e.id),i(),u(" ",d(2,2,e.name)," ")}}function Wi(t,m){if(t&1&&(o(0,"option",36),l(1),n()),t&2){let e=m.$implicit;s("value",e),i(),u(" ",e," ")}}function zi(t,m){t&1&&(o(0,"div")(1,"div",30),l(2),c(3,"translate"),n()()),t&2&&(i(2),u(" ",d(3,1,"PLEASE_SELECT_VALID_DAY")," "))}function Ji(t,m){if(t&1){let e=x();o(0,"tr"),E(1,44),o(2,"td"),l(3),c(4,"translate"),n(),o(5,"td")(6,"select",56),g("change",function(){let a=v(e).$implicit,p=f(3);return C(p.onDateChange(a))}),_(7,Qi,3,4,"option",35),n()(),o(8,"td")(9,"select",57),g("change",function(){let a=v(e).$implicit,p=f(3);return C(p.onDateChange(a))}),_(10,Wi,2,2,"option",35),n(),_(11,zi,4,3,"div",15),n(),y(),n()}if(t&2){let e=m.$implicit,r=m.index,a=f(3);i(),s("formGroupName",r),i(2),S(d(4,5,e.get("name").value)),i(4),s("ngForOf",e.get("monthValues").value),i(3),s("ngForOf",a.days),i(),s("ngIf",e.get("day").touched&&e.hasError("invalidDate"))}}function Ki(t,m){if(t&1&&(o(0,"div",39)(1,"label",51),l(2),c(3,"translate"),n(),o(4,"div",52)(5,"table",53)(6,"thead")(7,"tr"),h(8,"th"),o(9,"th"),l(10),c(11,"translate"),n(),o(12,"th"),l(13),c(14,"translate"),n()()(),o(15,"tbody",54),_(16,Ji,12,7,"tr",55),n()()()()),t&2){let e=f(2);i(2),S(d(3,4,"SELECT_QUARTER_DATE")),i(8),S(d(11,6,"SELECT_REMINDER_MONTH")),i(3),S(d(14,8,"SELECT_REMINDER_DAY")),i(3),s("ngForOf",e.quarterlyRemindersArray.controls)}}function Xi(t,m){if(t&1&&(o(0,"option",36),l(1),c(2,"translate"),n()),t&2){let e=m.$implicit;s("value",e.id),i(),u(" ",d(2,2,e.name)," ")}}function Zi(t,m){if(t&1&&(o(0,"option",36),l(1),n()),t&2){let e=m.$implicit;s("value",e),i(),u(" ",e," ")}}function en(t,m){t&1&&(o(0,"div")(1,"div",30),l(2),c(3,"translate"),n()()),t&2&&(i(2),u(" ",d(3,1,"PLEASE_SELECT_VALID_DAY")," "))}function tn(t,m){if(t&1){let e=x();o(0,"tr"),E(1,44),o(2,"td"),l(3),c(4,"translate"),n(),o(5,"td")(6,"select",56),g("change",function(){let a=v(e).$implicit,p=f(3);return C(p.onDateChange(a))}),_(7,Xi,3,4,"option",35),n()(),o(8,"td")(9,"select",57),g("change",function(){let a=v(e).$implicit,p=f(3);return C(p.onDateChange(a))}),_(10,Zi,2,2,"option",35),n(),_(11,en,4,3,"div",15),n(),y(),n()}if(t&2){let e=m.$implicit,r=m.index,a=f(3);i(),s("formGroupName",r),i(2),S(d(4,5,e.get("name").value)),i(4),s("ngForOf",e.get("monthValues").value),i(3),s("ngForOf",a.days),i(),s("ngIf",e.get("day").touched&&e.hasError("invalidDate"))}}function nn(t,m){if(t&1&&(o(0,"div",39)(1,"label",58),l(2),c(3,"translate"),n(),o(4,"div",59)(5,"table",53)(6,"thead")(7,"tr"),h(8,"th"),o(9,"th"),l(10),c(11,"translate"),n(),o(12,"th"),l(13),c(14,"translate"),n()()(),o(15,"tbody",60),_(16,tn,12,7,"tr",55),n()()()()),t&2){let e=f(2);i(2),S(d(3,4,"SELECT_DATE")),i(8),S(d(11,6,"SELECT_REMINDER_MONTH")),i(3),S(d(14,8,"SELECT_REMINDER_DAY")),i(3),s("ngForOf",e.halfYearlyRemindersArray.controls)}}function rn(t,m){if(t&1&&(o(0,"div",9)(1,"div",37),_(2,qi,6,4,"div",38)(3,Yi,7,4,"div",38)(4,Ki,17,10,"div",38)(5,nn,17,10,"div",38),n()()),t&2){let e=f();i(2),s("ngIf",e.reminderForm.get("frequency").value==="0"),i(),s("ngIf",e.reminderForm.get("frequency").value==="1"),i(),s("ngIf",e.reminderForm.get("frequency").value==="3"),i(),s("ngIf",e.reminderForm.get("frequency").value==="4")}}function on(t,m){t&1&&(o(0,"div",30),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"DATE_IS_REQUIRED")," "))}function an(t,m){if(t&1&&(o(0,"div"),_(1,on,3,3,"div",29),n()),t&2){let e,r=f(2);i(),s("ngIf",(e=r.reminderForm.get("startDate").errors)==null?null:e.required)}}function mn(t,m){t&1&&(o(0,"div",30),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"START_DATE_SHOULD_BE_GREATER_THEN_CURRENT_DATE_TIME")," "))}function ln(t,m){if(t&1&&(o(0,"div"),_(1,mn,3,3,"div",29),n()),t&2){let e,r=f(2);i(),s("ngIf",(e=r.reminderForm.get("startDate").errors)==null?null:e.owlDateTimeMin)}}function sn(t,m){if(t&1&&(o(0,"div",31)(1,"label",32),l(2),c(3,"translate"),n(),h(4,"input",61),c(5,"translate"),_(6,an,2,1,"div",15)(7,ln,2,1,"div",15),h(8,"owl-date-time",null,0),n()),t&2){let e=w(9),r=f();i(2),u(" ",d(3,7,"REMINDER_DATE"),""),i(2),R("placeholder",d(5,9,"DATE")),s("owlDateTimeTrigger",e)("min",r.minDate)("owlDateTime",e),i(2),s("ngIf",r.reminderForm.get("startDate").touched&&r.reminderForm.get("startDate").errors),i(),s("ngIf",r.reminderForm.get("startDate").touched&&r.reminderForm.get("startDate").errors)}}function cn(t,m){t&1&&(o(0,"div",30),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"START_DATE_IS_REQUIRED")," "))}function dn(t,m){if(t&1&&(o(0,"div"),_(1,cn,3,3,"div",29),n()),t&2){let e,r=f(2);i(),s("ngIf",(e=r.reminderForm.get("startDate").errors)==null?null:e.required)}}function pn(t,m){t&1&&(o(0,"div",30),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"START_DATE_SHOULD_BE_GREATER_THEN_CURRENT_DATE_TIME")," "))}function un(t,m){if(t&1&&(o(0,"div"),_(1,pn,3,3,"div",29),n()),t&2){let e,r=f(2);i(),s("ngIf",(e=r.reminderForm.get("startDate").errors)==null?null:e.owlDateTimeMin)}}function _n(t,m){if(t&1&&(o(0,"div",31)(1,"label",32),l(2),c(3,"translate"),n(),h(4,"input",61),c(5,"translate"),_(6,dn,2,1,"div",15)(7,un,2,1,"div",15),h(8,"owl-date-time",null,1),n()),t&2){let e=w(9),r=f();i(2),u(" ",d(3,7,"REMINDER_START_DATE"),""),i(2),R("placeholder",d(5,9,"START_DATE")),s("owlDateTimeTrigger",e)("min",r.minDate)("owlDateTime",e),i(2),s("ngIf",r.reminderForm.get("startDate").touched&&r.reminderForm.get("startDate").errors),i(),s("ngIf",r.reminderForm.get("startDate").touched&&r.reminderForm.get("startDate").errors)}}function fn(t,m){if(t&1&&(o(0,"div",31)(1,"label",32),l(2),c(3,"translate"),n(),h(4,"input",62),c(5,"translate"),h(6,"owl-date-time",null,2),n()),t&2){let e=w(7);i(2),S(d(3,4,"REMINDER_END_DATE")),i(2),R("placeholder",d(5,6,"END_DATE")),s("owlDateTimeTrigger",e)("owlDateTime",e)}}var Ti=(()=>{class t extends ${get dailyRemindersArray(){return this.reminderForm.get("dailyReminders")}get quarterlyRemindersArray(){return this.reminderForm.get("quarterlyReminders")}get halfYearlyRemindersArray(){return this.reminderForm.get("halfYearlyReminders")}constructor(e,r,a,p,b,T,re,oe){super(),this.fb=e,this.reminderService=r,this.commonService=a,this.toastrService=p,this.data=b,this.dialogRef=T,this.securityService=re,this.translationService=oe,this.reminderFrequencies=[],this.minDate=new Date,this.users=[],this.selectedUsers=[],this.dayOfWeek=ei,this.months=ti,this.days=[]}ngOnInit(){for(let e=1;e<=31;e++)this.days.push(e);this.getReminderFrequency(),this.createReminderForm(),this.getAuthObj()}getAuthObj(){this.sub$.sink=this.securityService.SecurityObject.subscribe(e=>{this.securityObject=e})}closeDialog(){this.dialogRef.close()}getReminderFrequency(){this.sub$.sink=this.commonService.getReminderFrequency().subscribe(e=>this.reminderFrequencies=[...e])}createReminderForm(){let e=new Date;this.reminderForm=this.fb.group({id:[""],subject:["",[I.required]],message:["",[I.required]],frequency:[""],isRepeated:[!1],isEmailNotification:[!1],startDate:[e,[I.required]],endDate:[null],dayOfWeek:[new Date().getDay()],documentId:[this.data.id]})}checkData(e){e.checked?this.reminderForm.get("frequency").setValidators([I.required]):(this.reminderForm.get("frequency").setValidators([]),this.reminderForm.get("frequency").updateValueAndValidity()),this.reminderForm.markAllAsTouched()}createReminder(){if(!this.reminderForm.valid){this.reminderForm.markAllAsTouched();return}let e=this.reminderForm.value;e.reminderUsers=[{reminderId:e.id,userId:this.securityObject.id}],e.isRepeated||(e.dailyReminders=[],e.quarterlyReminders=[],e.halfYearlyReminders=[]),this.reminder?(e.dailyReminders&&(e.dailyReminders=e.dailyReminders.map(r=>(r.reminderId=this.reminder.id,r))),e.quarterlyReminders&&(e.quarterlyReminders=e.quarterlyReminders.map(r=>(r.reminderId=this.reminder.id,r))),e.halfYearlyReminders&&(e.halfYearlyReminders=e.halfYearlyReminders.map(r=>(r.reminderId=this.reminder.id,r))),this.sub$.sink=this.reminderService.updateReminder(e).subscribe(()=>{this.toastrService.success(this.translationService.getValue("REMINDER_UPDATED_SUCCESSFULLY")),this.dialogRef.close()})):this.sub$.sink=this.reminderService.addDocumentReminder(e).subscribe(()=>{this.toastrService.success(this.translationService.getValue("REMINDER_CREATED_SUCCESSFULLY")),this.dialogRef.close()})}getUsers(){this.sub$.sink=this.commonService.getUsersForDropdown().subscribe(e=>{if(this.users=e,this.reminder){let r=this.reminder.reminderUsers.map(a=>a.userId);this.selectedUsers=this.users.filter(a=>r.indexOf(a.id)>=0)}})}onFrequencyChange(){let e=this.reminderForm.get("frequency").value;e=e==0?"0":e,e==ce.Daily.toString()?(this.removeQuarterlyReminders(),this.removeHalfYearlyReminders(),this.addDailReminders(),this.reminderForm.get("dayOfWeek").setValue("")):e==ce.Weekly.toString()?(this.removeDailReminders(),this.removeQuarterlyReminders(),this.removeHalfYearlyReminders(),this.reminderForm.get("dayOfWeek").setValue(new Date().getDay())):e==ce.Quarterly.toString()?(this.removeDailReminders(),this.removeHalfYearlyReminders(),this.addQuarterlyReminders(),this.reminderForm.get("dayOfWeek").setValue("")):e==ce.HalfYearly.toString()?(this.removeDailReminders(),this.removeQuarterlyReminders(),this.addHalfYearlyReminders(),this.reminderForm.get("dayOfWeek").setValue("")):(this.removeDailReminders(),this.removeQuarterlyReminders(),this.removeHalfYearlyReminders(),this.reminderForm.get("dayOfWeek").setValue(""))}addDailReminders(){if(!this.reminderForm.contains("dailyReminders")){let e=this.fb.array([]);e.push(this.createDailyReminderFormGroup(L.Sunday)),e.push(this.createDailyReminderFormGroup(L.Monday)),e.push(this.createDailyReminderFormGroup(L.Tuesday)),e.push(this.createDailyReminderFormGroup(L.Wednesday)),e.push(this.createDailyReminderFormGroup(L.Thursday)),e.push(this.createDailyReminderFormGroup(L.Friday)),e.push(this.createDailyReminderFormGroup(L.Saturday)),this.reminderForm.addControl("dailyReminders",e)}}addQuarterlyReminders(){if(!this.reminderForm.contains("quarterlyReminders")){let e=this.fb.array([]),r=this.months.filter(T=>[1,2,3].indexOf(T.id)>=0),a=this.months.filter(T=>[4,5,6].indexOf(T.id)>=0),p=this.months.filter(T=>[7,8,9].indexOf(T.id)>=0),b=this.months.filter(T=>[10,11,12].indexOf(T.id)>=0);e.push(this.createQuarterlyReminderFormGroup(J.Quarter1,"JAN_MAR",r)),e.push(this.createQuarterlyReminderFormGroup(J.Quarter2,"APR_JUN",a)),e.push(this.createQuarterlyReminderFormGroup(J.Quarter3,"JUL_SEPT",p)),e.push(this.createQuarterlyReminderFormGroup(J.Quarter4,"OCT_DEC",b)),this.reminderForm.addControl("quarterlyReminders",e)}}addHalfYearlyReminders(){if(!this.reminderForm.contains("halfYearlyReminders")){let e=this.fb.array([]),r=this.months.filter(p=>[1,2,3,4,5,6].indexOf(p.id)>=0),a=this.months.filter(p=>[7,8,9,10,11,12].indexOf(p.id)>=0);e.push(this.createHalfYearlyReminderFormGroup(J.Quarter1,"JAN_JUN",r)),e.push(this.createHalfYearlyReminderFormGroup(J.Quarter2,"JUL_DEC",a)),this.reminderForm.addControl("halfYearlyReminders",e)}}removeDailReminders(){this.reminderForm.contains("dailyReminders")&&this.reminderForm.removeControl("dailyReminders")}removeQuarterlyReminders(){this.reminderForm.contains("quarterlyReminders")&&this.reminderForm.removeControl("quarterlyReminders")}removeHalfYearlyReminders(){this.reminderForm.contains("halfYearlyReminders")&&this.reminderForm.removeControl("halfYearlyReminders")}createDailyReminderFormGroup(e){return this.fb.group({id:[""],reminderId:[""],dayOfWeek:[e],isActive:[!0],name:[L[e]]})}createQuarterlyReminderFormGroup(e,r,a){return this.fb.group({id:[""],reminderId:[""],quarter:[e],day:[this.getCurrentDay()],month:[a[0].id],name:[r],monthValues:[a]})}createHalfYearlyReminderFormGroup(e,r,a){return this.fb.group({id:[""],reminderId:[""],quarter:[e],day:[this.getCurrentDay()],month:[a[0].id],name:[r],monthValues:[a]})}getCurrentDay(){return new Date().getDate()}onDateChange(e){let r=e.get("day").value,a=e.get("month").value,p=new Date(new Date().getFullYear(),Number.parseInt(a),0).getDate();r>p&&(e.setErrors({invalidDate:"Invalid Date"}),e.markAllAsTouched())}onCancel(){this.dialogRef.close()}static{this.\u0275fac=function(r){return new(r||t)(D(Ie),D(ii),D(G),D(j),D(Nt),D(he),D(we),D(q))}}static{this.\u0275cmp=O({type:t,selectors:[["ng-component"]],features:[M],decls:50,vars:30,consts:[["dt2",""],["dt3",""],["dt4",""],[1,"d-flex"],["mat-dialog-title","",1,"dialog-title"],[3,"code"],["mat-icon-button","",1,"close-button","ms-auto",3,"click"],["color","warn",1,"close-icon"],["mat-dialog-content",""],[1,"row"],[1,"col-sm-12"],[3,"formGroup"],[1,"form-group","col-md-12"],["for","subject"],["formControlName","subject","type","text","id","subject",1,"form-control"],[4,"ngIf"],["for","message"],["formControlName","message","id","message","cols","30",1,"form-control"],[1,"col-md-4"],["color","primary","formControlName","isRepeated",3,"change"],[1,"col-md-2"],["color","primary","formControlName","isEmailNotification"],["class","row",4,"ngIf"],["class","form-group col-md-6",4,"ngIf"],[1,"m-t-10","col-md-12"],["type","submit",1,"btn","btn-success","btn-sm","m-r-10",3,"click"],["name","save",1,"small-icon"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],["name","x-circle",1,"small-icon"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"form-group","col-md-6"],["for","frequency"],["formControlName","frequency","id","frequency",1,"form-control",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-md-12"],["class","form-group",4,"ngIf"],[1,"form-group"],["for","weekDays"],["id","weekDays",1,"row"],["class","col-sm-auto mr-1","formArrayName","dailyReminders",4,"ngFor","ngForOf"],["formArrayName","dailyReminders",1,"col-sm-auto","mr-1"],[3,"formGroupName"],["color","primary","formControlName","isActive",1,"mr-1"],["for","weekDay"],["id","weekDay"],["formControlName","dayOfWeek"],["class","mr-2","color","primary",3,"value",4,"ngFor","ngForOf"],["color","primary",1,"mr-2",3,"value"],["for","Quarterly"],["id","Quarterly",1,"row"],[1,"table"],["formArrayName","quarterlyReminders"],[4,"ngFor","ngForOf"],["formControlName","month",1,"form-control",3,"change"],["formControlName","day",1,"form-control",3,"change"],["for","HalfYearly"],["id","HalfYearly",1,"row"],["formArrayName","halfYearlyReminders"],["formControlName","startDate",1,"form-control",3,"owlDateTimeTrigger","min","owlDateTime","placeholder"],["formControlName","endDate",1,"form-control",3,"owlDateTimeTrigger","owlDateTime","placeholder"]],template:function(r,a){r&1&&(o(0,"div",3)(1,"span",4),l(2),c(3,"translate"),h(4,"app-page-help-text",5),n(),o(5,"button",6),g("click",function(){return a.closeDialog()}),o(6,"mat-icon",7),l(7,"close"),n()()(),o(8,"div",8)(9,"div",9)(10,"div",10)(11,"form",11)(12,"div",9)(13,"div",12)(14,"label",13),l(15),c(16,"translate"),n(),h(17,"input",14),_(18,Vi,2,1,"div",15),n()(),o(19,"div",9)(20,"div",12)(21,"label",16),l(22),c(23,"translate"),n(),h(24,"textarea",17),_(25,Ui,2,1,"div",15),n()(),o(26,"div",9)(27,"div",18)(28,"mat-checkbox",19),g("change",function(b){return a.checkData(b)}),l(29),c(30,"translate"),n()(),o(31,"div",20)(32,"mat-checkbox",21),l(33),c(34,"translate"),n()()(),_(35,ji,11,8,"div",22)(36,rn,6,4,"div",22),o(37,"div",9),_(38,sn,10,11,"div",23)(39,_n,10,11,"div",23)(40,fn,8,8,"div",23),o(41,"div",24)(42,"button",25),g("click",function(){return a.createReminder()}),h(43,"i-feather",26),l(44),c(45,"translate"),n(),o(46,"button",27),g("click",function(){return a.onCancel()}),h(47,"i-feather",28),l(48),c(49,"translate"),n()()()()()()()),r&2&&(i(2),u(" ",d(3,16,"ADD_REMINDER")," "),i(2),s("code","ADD_REMINDER"),i(7),s("formGroup",a.reminderForm),i(4),u(" ",d(16,18,"SUBJECT"),""),i(3),s("ngIf",a.reminderForm.get("subject").touched&&a.reminderForm.get("subject").errors),i(4),u(" ",d(23,20,"MESSAGE"),""),i(3),s("ngIf",a.reminderForm.get("message").touched&&a.reminderForm.get("message").errors),i(4),u(" ",d(30,22,"REPEATE_REMINDER")," "),i(4),S(d(34,24,"SEND_EMAIL")),i(2),s("ngIf",a.reminderForm.get("isRepeated").value),i(),s("ngIf",a.reminderForm.get("isRepeated").value),i(2),s("ngIf",!a.reminderForm.get("isRepeated").value),i(),s("ngIf",a.reminderForm.get("isRepeated").value),i(),s("ngIf",a.reminderForm.get("isRepeated").value),i(4),u(" ",d(45,26,"SAVE")," "),i(4),u(" ",d(49,28,"CANCEL")," "))},dependencies:[Z,ee,Ee,Vt,Bt,De,Mt,Se,xe,ye,Re,be,Te,ne,ie,P,W,ge,ve,Je,ni,ri,Ke,Ze,Xe,H]})}}return t})();var Dn=()=>["/"],Sn=t=>({"margin-right.px":t}),xn=t=>({"margin-left.px":t}),En=t=>({color:t});function yn(t,m){t&1&&(o(0,"div",42),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"DOCUMENT_IS_REQUIRED")," "))}function bn(t,m){if(t&1&&(o(0,"div"),_(1,yn,3,3,"div",20),n()),t&2){let e,r=f();i(),s("ngIf",r.documentForm.get("url").touched&&((e=r.documentForm.get("url").errors)==null?null:e.required))}}function Tn(t,m){t&1&&(o(0,"div",42),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"DOCUMENT_TYPE_IS_NOT_ALLOWED")," "))}function Rn(t,m){if(t&1&&(o(0,"div"),_(1,Tn,3,3,"div",20),n()),t&2){let e,r=f();i(),s("ngIf",(e=r.documentForm.get("extension").errors)==null?null:e.required)}}function In(t,m){t&1&&(o(0,"div",42),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"NAME_IS_REQUIRED")," "))}function wn(t,m){if(t&1&&(o(0,"div")(1,"b"),l(2),n()()),t&2){let e=f().$implicit;i(2),u(" ",e.name,"")}}function An(t,m){if(t&1&&(o(0,"div"),l(1),n()),t&2){let e=f().$implicit;i(),u(" ",e.name," ")}}function Fn(t,m){if(t&1&&(o(0,"ng-option",26)(1,"div",43),_(2,wn,3,1,"div",18)(3,An,2,1,"div",18),n()()),t&2){let e=m.$implicit,r=f();s("value",e.id),i(),s("ngStyle",r.direction==="rtl"?A(4,Sn,e.deafLevel*20):A(6,xn,e.deafLevel*20)),i(),s("ngIf",!e.parentId),i(),s("ngIf",e.parentId)}}function Ln(t,m){if(t&1){let e=x();o(0,"div",44)(1,"button",45),g("click",function(){v(e);let a=f();return C(a.onAddCategory())}),h(2,"i-feather",46),n()()}}function Nn(t,m){t&1&&(o(0,"div",42),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"CATEGORY_IS_REQUIRED")," "))}function kn(t,m){t&1&&(o(0,"ng-option",26),l(1),c(2,"translate"),n()),t&2&&(s("value","s3"),i(),S(d(2,2,"S3")))}function On(t,m){if(t&1&&(o(0,"ng-option",26)(1,"span",47),l(2),n()()),t&2){let e=m.$implicit;s("value",e.id),i(),s("ngStyle",A(3,En,e==null?null:e.colorCode)),i(),u(" ",e.name," ")}}function Mn(t,m){if(t&1&&(o(0,"ng-option",26)(1,"span"),l(2),n()()),t&2){let e=m.$implicit;s("value",e.id),i(2),u(" ",e.companyName," ")}}function Vn(t,m){if(t&1&&(o(0,"ng-option",26),l(1),c(2,"translate"),n()),t&2){let e=m.$implicit;s("value",e.value),i(),u(" ",d(2,2,e.key)," ")}}function Bn(t,m){t&1&&(o(0,"label",16),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"META_TAGS")," "))}function Un(t,m){if(t&1){let e=x();o(0,"button",56),g("click",function(){v(e);let a=f(2);return C(a.onAddAnotherMetaTag())}),h(1,"i-feather",46),n()}}function $n(t,m){if(t&1){let e=x();o(0,"button",57),g("click",function(){v(e);let a=f().index,p=f();return C(p.onDeleteMetaTag(a))}),h(1,"i-feather",58),n()}}function Gn(t,m){if(t&1){let e=x();E(0,48)(1,49),o(2,"div",7)(3,"div",50),_(4,Bn,3,3,"label",51),o(5,"div",52)(6,"input",53),g("change",function(a){let p=v(e).index,b=f();return C(b.onMetatagChange(a,p))}),n(),_(7,Un,2,0,"button",54)(8,$n,2,0,"button",55),n()()(),y()()}if(t&2){let e=m.index;i(),s("formGroupName",e),i(3),s("ngIf",e===0),i(3),s("ngIf",e===0),i(),s("ngIf",e!==0)}}function jn(t,m){if(t&1&&(o(0,"ng-option",26),l(1),n()),t&2){let e=m.$implicit;s("value",e),i(),S(e.name)}}function Hn(t,m){t&1&&(o(0,"mat-error",42),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"START_DATE_IS_REQURED")," "))}function qn(t,m){t&1&&(o(0,"mat-error",42),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"END_DATE_IS_REQURED")," "))}function Pn(t,m){if(t&1&&(o(0,"div",7)(1,"div",59),h(2,"input",67),c(3,"translate"),h(4,"owl-date-time",null,1),_(6,Hn,3,3,"mat-error",20),n(),o(7,"div",59),h(8,"input",68),c(9,"translate"),h(10,"owl-date-time",null,2),_(12,qn,3,3,"mat-error",20),n()()),t&2){let e=w(5),r=w(11),a=f(3);i(2),R("placeholder",d(3,10,"CHOOSE_A_START_DATE")),s("min",a.minDate)("owlDateTimeTrigger",e)("owlDateTime",e),i(4),s("ngIf",a.rolePermissionFormGroup.get("startDate").touched&&a.rolePermissionFormGroup.get("startDate").hasError("required")),i(2),R("placeholder",d(9,12,"CHOOSE_A_END_DATE")),s("min",a.rolePermissionFormGroup.get("startDate").value)("owlDateTimeTrigger",r)("owlDateTime",r),i(4),s("ngIf",a.rolePermissionFormGroup.get("startDate").touched&&a.rolePermissionFormGroup.get("endDate").hasError("required"))}}function Yn(t,m){if(t&1){let e=x();E(0,63),o(1,"div",7)(2,"mat-checkbox",64),g("change",function(a){v(e);let p=f(2);return C(p.roleTimeBoundChange(a))}),l(3),c(4,"translate"),n()(),_(5,Pn,13,14,"div",65),o(6,"div",7)(7,"mat-checkbox",66),l(8),c(9,"translate"),n()(),y()}if(t&2){let e=f(2);i(3),u(" ",d(4,3,"SPACIFY_THE_PERIOD"),""),i(2),s("ngIf",e.rolePermissionFormGroup.get("isTimeBound").value),i(3),S(d(9,5,"ALLOW_DOWNLOAD"))}}function Qn(t,m){if(t&1&&(o(0,"div",59)(1,"h6",60),l(2),c(3,"translate"),n(),o(4,"ng-select",61),_(5,jn,2,2,"ng-option",23),n(),_(6,Yn,10,7,"ng-container",62),n()),t&2){let e,r=f();i(2),u(" ",d(3,4,"ASSIGN_SHARE_WITH_ROLES")," "),i(2),s("multiple",!0),i(),s("ngForOf",r.roles),i(),s("ngIf",((e=r.documentForm.get("selectedRoles").value)==null?null:e.length)>0)}}function Wn(t,m){if(t&1&&(o(0,"ng-option",26),l(1),n()),t&2){let e=m.$implicit;s("value",e),i(),Tt(" ",e.firstName," ",e.lastName," ")}}function zn(t,m){t&1&&(o(0,"mat-error",42),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"START_DATE_IS_REQURED")," "))}function Jn(t,m){t&1&&(o(0,"mat-error",42),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"END_DATE_IS_REQURED")," "))}function Kn(t,m){if(t&1&&(o(0,"div",7)(1,"div",59),h(2,"input",67),c(3,"translate"),h(4,"owl-date-time",null,1),_(6,zn,3,3,"mat-error",20),n(),o(7,"div",59),h(8,"input",68),c(9,"translate"),h(10,"owl-date-time",null,2),_(12,Jn,3,3,"mat-error",20),n()()),t&2){let e=w(5),r=w(11),a=f(3);i(2),R("placeholder",d(3,10,"CHOOSE_A_START_DATE")),s("min",a.minDate)("owlDateTimeTrigger",e)("owlDateTime",e),i(4),s("ngIf",a.userPermissionFormGroup.get("startDate").touched&&a.userPermissionFormGroup.get("startDate").hasError("required")),i(2),R("placeholder",d(9,12,"CHOOSE_A_END_DATE")),s("min",a.userPermissionFormGroup.get("startDate").value)("owlDateTimeTrigger",r)("owlDateTime",r),i(4),s("ngIf",a.userPermissionFormGroup.get("startDate").touched&&a.userPermissionFormGroup.get("endDate").hasError("required"))}}function Xn(t,m){if(t&1){let e=x();E(0,71),o(1,"div",7)(2,"mat-checkbox",64),g("change",function(a){v(e);let p=f(2);return C(p.userTimeBoundChange(a))}),l(3),c(4,"translate"),n()(),_(5,Kn,13,14,"div",65),o(6,"div",7)(7,"mat-checkbox",66),l(8),c(9,"translate"),n()(),y()}if(t&2){let e=f(2);i(3),u(" ",d(4,3,"SPACIFY_THE_PERIOD"),""),i(2),s("ngIf",e.userPermissionFormGroup.get("isTimeBound").value),i(3),S(d(9,5,"ALLOW_DOWNLOAD"))}}function Zn(t,m){if(t&1&&(o(0,"div",59)(1,"h6",60),l(2),c(3,"translate"),n(),o(4,"ng-select",69),_(5,Wn,2,3,"ng-option",23),n(),_(6,Xn,10,7,"ng-container",70),n()),t&2){let e,r=f();i(2),u(" ",d(3,4,"ASSIGN_SHARE_WITH_USERS")," "),i(2),s("multiple",!0),i(),s("ngForOf",r.users),i(),s("ngIf",((e=r.documentForm.get("selectedUsers").value)==null?null:e.length)>0)}}var ot=(()=>{class t extends ${get documentMetaTagsArray(){return this.documentForm.get("documentMetaTags")}constructor(e,r,a,p,b,T,re,oe,lt){super(),this.fb=e,this.cd=r,this.commonService=a,this.documentService=p,this.router=b,this.translationService=T,this.toastrService=re,this.securityService=oe,this.mtDialog=lt,this.extension="",this.allowFileExtension=[],this.progress=0,this.message="",this.isFileUpload=!1,this.retentionActions=[],this.isS3Supported=!1,this.documentStatusStore=k(tt),this.categoryStore=k(it),this.clientStore=k(et),this.minDate=new Date}ngOnInit(){this.retentionActions=this.getEnumValues(Yt),this.createDocumentForm(),this.documentMetaTagsArray.push(this.buildDocumentMetaTag()),this.getUsers(),this.getRoles(),this.getCompanyProfile(),this.getLangDir(),this.getAllAllowFileExtension()}getEnumValues(e){return Object.keys(e).filter(r=>isNaN(Number(r))).map(r=>({key:r,value:e[r]}))}getLangDir(){this.sub$.sink=this.translationService.lanDir$.subscribe(e=>this.direction=e)}getCompanyProfile(){this.securityService.companyProfile.subscribe(e=>{e&&(this.isS3Supported=e.location=="s3")})}getUsers(){this.sub$.sink=this.commonService.getUsersForDropdown().subscribe(e=>this.users=e)}getRoles(){this.sub$.sink=this.commonService.getRolesForDropdown().subscribe(e=>this.roles=e)}getAllAllowFileExtension(){this.commonService.getAllowFileExtensions().subscribe(e=>{this.allowFileExtension=e})}fileUploadValidation(e){this.documentForm.patchValue({url:e}),this.documentForm.get("url").markAsTouched(),this.documentForm.updateValueAndValidity()}fileUploadExtensionValidation(e){this.documentForm.patchValue({extension:e}),this.documentForm.get("extension").markAsTouched(),this.documentForm.updateValueAndValidity()}fileExtesionValidation(e){return!!this.allowFileExtension.find(a=>a.extensions.split(",").some(p=>p.toLowerCase()===e.toLowerCase()))}createDocumentForm(){this.documentForm=this.fb.group({name:["",[I.required]],description:[""],categoryId:["",[I.required]],url:["",[I.required]],extension:["",[I.required]],documentMetaTags:this.fb.array([]),selectedRoles:[],selectedUsers:[],location:[],clientId:[""],statusId:[""],retentionPeriod:[""],retentionAction:[""],rolePermissionForm:this.fb.group({isTimeBound:new le(!1),startDate:[""],endDate:[""],isAllowDownload:new le(!1)}),userPermissionForm:this.fb.group({isTimeBound:new le(!1),startDate:[""],endDate:[""],isAllowDownload:new le(!1)})}),this.companyProfileSubscription()}companyProfileSubscription(){this.securityService.companyProfile.subscribe(e=>{e&&this.documentForm.get("location").setValue(e.location??"local")})}buildDocumentMetaTag(){return this.fb.group({id:[""],documentId:[""],metatag:[""]})}get rolePermissionFormGroup(){return this.documentForm.get("rolePermissionForm")}get userPermissionFormGroup(){return this.documentForm.get("userPermissionForm")}onMetatagChange(e,r){if(!this.documentMetaTagsArray.at(r).get("metatag").value)return;let p=this.documentMetaTagsArray.at(r).get("metatag");p.setValidators([I.required]),p.updateValueAndValidity()}editDocmentMetaData(e){return this.fb.group({id:[e.id],documentId:[e.documentId],metatag:[e.metatag]})}SaveDocument(){if(this.documentForm.valid){let e=this.buildDocumentObject();this.documentService.addDocument(e).subscribe(r=>{this.addDocumentTrail(r),this.toastrService.success(this.translationService.getValue("DOCUMENT_SAVE_SUCCESSFULLY"))})}else this.documentForm.markAllAsTouched()}addDocumentTrail(e){let r={documentId:e.id,operationName:se.Created.toString()};this.sub$.sink=this.commonService.addDocumentAuditTrail(r).subscribe(()=>{this.router.navigate(["/"])})}buildDocumentObject(){let e=this.documentMetaTagsArray.getRawValue(),r={categoryId:this.documentForm.get("categoryId").value,description:this.documentForm.get("description").value,statusId:this.documentForm.get("statusId").value,name:this.documentForm.get("name").value,url:this.fileData.fileName,documentMetaDatas:[...e],fileData:this.fileData,extension:this.extension,location:this.documentForm.get("location").value,clientId:this.documentForm.get("clientId").value??"",retentionPeriod:this.documentForm.get("retentionPeriod").value??"",retentionAction:this.documentForm.get("retentionAction").value?.toString()??""},a=this.documentForm.get("selectedRoles").value??[];a?.length>0&&(r.documentRolePermissions=a.map(b=>Object.assign({},{id:"",documentId:"",roleId:b.id},this.rolePermissionFormGroup.value)));let p=this.documentForm.get("selectedUsers").value??[];return p?.length>0&&(r.documentUserPermissions=p.map(b=>Object.assign({},{id:"",documentId:"",userId:b.id},this.userPermissionFormGroup.value))),r}onAddAnotherMetaTag(){let e={id:"",documentId:this.document&&this.document.id?this.document.id:"",metatag:""};this.documentMetaTagsArray.insert(0,this.editDocmentMetaData(e))}onDeleteMetaTag(e){this.documentMetaTagsArray.removeAt(e)}upload(e){if(e.length!==0){if(this.extension=e[0].name.split(".").pop(),this.fileExtesionValidation(this.extension))this.fileUploadExtensionValidation("valid");else{this.fileUploadExtensionValidation(""),this.cd.markForCheck();return}this.fileData=e[0],this.documentForm.get("url").setValue(e[0].name),this.documentForm.get("name").setValue(e[0].name)}}roleTimeBoundChange(e){e.checked?(this.rolePermissionFormGroup.get("startDate").setValidators([I.required]),this.rolePermissionFormGroup.get("endDate").setValidators([I.required])):(this.rolePermissionFormGroup.get("startDate").clearValidators(),this.rolePermissionFormGroup.get("startDate").updateValueAndValidity(),this.rolePermissionFormGroup.get("endDate").clearValidators(),this.rolePermissionFormGroup.get("endDate").updateValueAndValidity())}userTimeBoundChange(e){e.checked?(this.userPermissionFormGroup.get("startDate").setValidators([I.required]),this.userPermissionFormGroup.get("endDate").setValidators([I.required])):(this.userPermissionFormGroup.get("startDate").clearValidators(),this.userPermissionFormGroup.get("startDate").updateValueAndValidity(),this.userPermissionFormGroup.get("endDate").clearValidators(),this.userPermissionFormGroup.get("endDate").updateValueAndValidity())}onAddCategory(){this.mtDialog.open(oi,{width:"400px"}).afterClosed().subscribe(r=>{r&&setTimeout(()=>{this.documentForm.get("categoryId").setValue(this.categoryStore.currentCategoryId())},1e3)})}static{this.\u0275fac=function(r){return new(r||t)(D(Ie),D(It),D(G),D(We),D(kt),D(q),D(j),D(we),D(te))}}static{this.\u0275cmp=O({type:t,selectors:[["app-add-document"]],features:[M],decls:95,vars:69,consts:[["file",""],["date1",""],["date2",""],[1,"content"],[1,"content-block"],[1,"block-header"],[1,"breadcrumb-main"],[1,"row"],[1,"col-md-6","mb-2"],[1,"mb-0","page-title"],["code","ADD_DOCUMENT"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"body"],[3,"formGroup"],[1,"col-md-3"],[1,"form-label"],["type","file",1,"form-control",3,"change"],[4,"ngIf"],["formControlName","name","type","text",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"input-group"],["formControlName","categoryId",1,"flex-grow-1",3,"placeholder","clearable"],[3,"value",4,"ngFor","ngForOf"],["class","input-group-append",4,"hasClaim"],["formControlName","location",3,"clearable"],[3,"value"],[3,"value",4,"ngIf"],[1,"form-group"],["formControlName","statusId",3,"clearable","placeholder"],["formControlName","clientId",3,"placeholder"],["formControlName","retentionPeriod","type","number","min","1",1,"form-control"],["formControlName","retentionAction",3,"clearable"],["formArrayName","documentMetaTags",4,"ngFor","ngForOf"],[1,"col-md-9"],["formControlName","description",1,"form-control"],["class","col-md-6",4,"hasClaim"],[1,"m-t-10","col-md-12"],["cdkFocusInitial","",1,"btn","btn-success","btn-sm","m-r-10",3,"click"],["name","save",1,"small-icon"],["type","button",1,"btn","btn-danger","btn-sm",3,"routerLink"],["name","x-circle",1,"small-icon"],[1,"text-danger"],[1,"country-item",3,"ngStyle"],[1,"input-group-append"],["type","button","aria-label","Add category",1,"btn","btn-primary","add-category-button",3,"click"],["name","plus",1,"small-icon"],[3,"ngStyle"],["formArrayName","documentMetaTags"],[3,"formGroupName"],[1,"col"],["class","form-label",4,"ngIf"],[1,"input-group","m-b-10"],["formControlName","metatag","type","text",1,"form-control",3,"change"],["class","btn btn-outline-success","type","button",3,"click",4,"ngIf"],["class","btn btn-outline-danger","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-success",3,"click"],["type","button",1,"btn","btn-outline-danger",3,"click"],["name","trash",1,"small-icon"],[1,"col-md-6"],[1,"vew-mail-header"],["formControlName","selectedRoles",3,"multiple"],["formGroupName","rolePermissionForm",4,"ngIf"],["formGroupName","rolePermissionForm"],["color","primary","formControlName","isTimeBound",3,"change"],["class","row",4,"ngIf"],["color","primary","formControlName","isAllowDownload"],["formControlName","startDate",1,"form-control",3,"min","placeholder","owlDateTimeTrigger","owlDateTime"],["formControlName","endDate",1,"form-control",3,"min","placeholder","owlDateTimeTrigger","owlDateTime"],["formControlName","selectedUsers",3,"multiple"],["formGroupName","userPermissionForm",4,"ngIf"],["formGroupName","userPermissionForm"]],template:function(r,a){if(r&1){let p=x();o(0,"section",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"span",9),l(7),c(8,"translate"),h(9,"app-page-help-text",10),n()()()()(),o(10,"div",7)(11,"div",11)(12,"div",12)(13,"div",13)(14,"form",14)(15,"div",7)(16,"div",15)(17,"label",16),l(18),c(19,"translate"),n(),o(20,"input",17,0),g("change",function(){v(p);let T=w(21);return C(a.upload(T.files))}),n(),_(22,bn,2,1,"div",18)(23,Rn,2,1,"div",18),n(),o(24,"div",15)(25,"label",16),l(26),c(27,"translate"),n(),h(28,"input",19),_(29,In,3,3,"div",20),n(),o(30,"div",15)(31,"label",16),l(32),c(33,"translate"),n(),o(34,"div",21)(35,"ng-select",22),c(36,"translate"),_(37,Fn,4,8,"ng-option",23),n(),_(38,Ln,3,0,"div",24),n(),_(39,Nn,3,3,"div",20),n(),o(40,"div",15)(41,"label",16),l(42),c(43,"translate"),n(),o(44,"ng-select",25)(45,"ng-option",26),l(46),c(47,"translate"),n(),_(48,kn,3,4,"ng-option",27),n()(),o(49,"div",15)(50,"div",28)(51,"label",16),l(52),c(53,"translate"),n(),o(54,"ng-select",29),c(55,"translate"),_(56,On,3,5,"ng-option",23),n()()(),o(57,"div",15)(58,"div",28)(59,"label",16),l(60),c(61,"translate"),n(),o(62,"ng-select",30),c(63,"translate"),_(64,Mn,3,2,"ng-option",23),n()()(),o(65,"div",15)(66,"label",16),l(67),c(68,"translate"),n(),h(69,"input",31),n(),o(70,"div",15)(71,"label",16),l(72),c(73,"translate"),n(),o(74,"ng-select",32),_(75,Vn,3,4,"ng-option",23),n()(),o(76,"div",15),_(77,Gn,9,4,"ng-container",33),n(),o(78,"div",34)(79,"label",16),l(80),c(81,"translate"),n(),o(82,"textarea",35),l(83,"                  "),n()(),_(84,Qn,7,6,"div",36)(85,Zn,7,6,"div",36),o(86,"div",37)(87,"button",38),g("click",function(){return v(p),C(a.SaveDocument())}),h(88,"i-feather",39),l(89),c(90,"translate"),n(),o(91,"button",40),h(92,"i-feather",41),l(93),c(94,"translate"),n()()()()()()()()()()}if(r&2){let p,b;i(7),u("",d(8,36,"ADD_DOCUMENT")," "),i(7),s("formGroup",a.documentForm),i(4),S(d(19,38,"DOCUMENT_UPLOAD")),i(4),s("ngIf",a.documentForm.get("url").touched&&((p=a.documentForm.get("url"))==null?null:p.errors)),i(),s("ngIf",(a.documentForm.get("extension").touched||a.documentForm.get("extension").dirty)&&a.documentForm.get("url").errors),i(3),S(d(27,40,"NAME")),i(3),s("ngIf",a.documentForm.get("name").touched&&((b=a.documentForm.get("name"))==null?null:b.hasError("required"))),i(3),S(d(33,42,"CATEGORY")),i(3),R("placeholder",d(36,44,"CATEGORY")),s("clearable",!1),i(2),s("ngForOf",a.categoryStore.categories()),i(),s("hasClaim","DOCUMENT_CATEGORY_MANAGE_DOCUMENT_CATEGORY"),i(),s("ngIf",a.documentForm.get("categoryId").touched&&a.documentForm.get("categoryId").hasError("required")),i(3),S(d(43,46,"STORAGE")),i(2),s("clearable",!1),i(),s("value","local"),i(),S(d(47,48,"LOCAL")),i(2),s("ngIf",a.isS3Supported),i(4),S(d(53,50,"DOCUMENT_STATUS")),i(2),R("placeholder",d(55,52,"NONE")),s("clearable",!1),i(2),s("ngForOf",a.documentStatusStore.statusList()),i(4),S(d(61,54,"CLIENT")),i(2),R("placeholder",d(63,56,"CLIENT")),i(2),s("ngForOf",a.clientStore.clients()),i(3),S(d(68,58,"RETENTION_PERIOD")),i(5),S(d(73,60,"RETENTION_ACTION")),i(2),s("clearable",!0),i(),s("ngForOf",a.retentionActions),i(2),s("ngForOf",a.documentMetaTagsArray.controls),i(3),S(d(81,62,"DESCRIPTION")),i(4),s("hasClaim","ASSIGNED_DOCUMENTS_SHARE_DOCUMENT"),i(),s("hasClaim","ASSIGNED_DOCUMENTS_SHARE_DOCUMENT"),i(4),u(" ",d(90,64,"SAVE")," "),i(2),s("routerLink",z(68,Dn)),i(2),u(" ",d(94,66,"CANCEL")," ")}},dependencies:[Z,ee,fe,Ee,De,Ot,Se,xe,Ut,ye,Re,be,Te,Ce,Jt,P,Ae,W,Je,Ke,Ze,Xe,rt,nt,H]})}}return t})();var at=class{get count(){return this._count}constructor(m){this.commonService=m,this._reminderSubject$=new N([]),this._responseHeaderSubject$=new N(null),this.loadingSubject=new N(!1),this.loading$=this.loadingSubject.asObservable(),this._count=0,this.responseHeaderSubject$=this._responseHeaderSubject$.asObservable()}connect(){return this.sub$=new St,this._reminderSubject$.asObservable()}disconnect(){this._reminderSubject$.complete(),this.loadingSubject.complete(),this.sub$.unsubscribe()}loadData(m){this.loadingSubject.next(!0),this.sub$=this.commonService.getAllRemindersForCurrentUser(m).pipe(K(()=>pe([])),_e(()=>this.loadingSubject.next(!1))).subscribe(e=>{let r=new mi;r.pageSize=parseInt(e.headers.get("pageSize")),r.totalCount=parseInt(e.headers.get("totalCount")),r.skip=parseInt(e.headers.get("skip")),this._responseHeaderSubject$.next(Dt({},r));let a=[...e.body];this._count=a.length,this._reminderSubject$.next(a)})}};var or=()=>[15,20,30];function ar(t,m){t&1&&h(0,"th",27)}function mr(t,m){if(t&1){let e=x();o(0,"td",28)(1,"button",29),g("click",function(){let a=v(e).$implicit,p=f();return C(p.onDetail(a))}),h(2,"i-feather",30),n(),l(3," \xA0\xA0 "),o(4,"button",31),g("click",function(){let a=v(e).$implicit,p=f();return C(p.deleteReminder(a))}),h(5,"i-feather",32),n()()}}function lr(t,m){t&1&&(o(0,"th",33),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"DOCUMENT")," "))}function sr(t,m){if(t&1&&(o(0,"td",28),l(1),n()),t&2){let e=m.$implicit;i(),u(" ",e.documentName," ")}}function cr(t,m){t&1&&(o(0,"th",33),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"START_DATE")," "))}function dr(t,m){if(t&1&&(o(0,"td",28),l(1),c(2,"utcToLocalTime"),n()),t&2){let e=m.$implicit;i(),u(" ",F(2,1,e.startDate,"short")," ")}}function pr(t,m){t&1&&(o(0,"th",33),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"END_DATE")," "))}function ur(t,m){if(t&1&&(o(0,"td",28),l(1),c(2,"utcToLocalTime"),n()),t&2){let e=m.$implicit;i(),u(" ",F(2,1,e.endDate,"short")," ")}}function _r(t,m){t&1&&(o(0,"th",33),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"SUBJECT")," "))}function fr(t,m){if(t&1&&(o(0,"td",28),l(1),c(2,"limitTo"),n()),t&2){let e=m.$implicit;i(),u(" ",F(2,1,e.subject,"100")," ")}}function hr(t,m){t&1&&(o(0,"th",33),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"MESSAGE")," "))}function gr(t,m){if(t&1&&(o(0,"td",28),l(1),c(2,"limitTo"),n()),t&2){let e=m.$implicit;i(),u(" ",F(2,1,e.message,"150")," ")}}function vr(t,m){t&1&&(o(0,"th",33),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"FREQUENCY")," "))}function Cr(t,m){if(t&1&&(o(0,"td",28),l(1),c(2,"frequency"),c(3,"translate"),n()),t&2){let e=m.$implicit;i(),u(" ",d(3,3,d(2,1,e.frequency))," ")}}function Dr(t,m){if(t&1&&(o(0,"td",34),h(1,"mat-paginator",35),n()),t&2){let e=f();i(),s("length",e.reminderResource.totalCount)("pageSize",e.reminderResource.pageSize)("pageSizeOptions",z(3,or))}}function Sr(t,m){t&1&&(o(0,"tr")(1,"td",36)(2,"div",37)(3,"b"),l(4),c(5,"translate"),n()()()()),t&2&&(i(4),u(" ",d(5,1,"NO_DATA_FOUND"),""))}function xr(t,m){t&1&&h(0,"tr",38)}function Er(t,m){t&1&&h(0,"tr",39)}function yr(t,m){t&1&&h(0,"tr",40)}var Ri=(()=>{class t extends ${get SubjectFilter(){return this._subjectFilter}set SubjectFilter(e){this._subjectFilter=e;let r=`subject:${e}`;this.filterObservable$.next(r)}set FrequencyFilter(e){e=="0"?this._frequencyFilter="0":this._frequencyFilter=e?e.toString():"";let r=`frequency:${this._frequencyFilter}`;this.filterObservable$.next(r)}get FrequencyFilter(){return this._frequencyFilter}get MessageFilter(){return this._messageFilter}set MessageFilter(e){this._messageFilter=e;let r=`message:${e}`;this.filterObservable$.next(r)}constructor(e,r,a,p,b,T){super(),this.dialog=e,this.commonService=r,this.commonDialogService=a,this.toastrService=p,this.dialogRef=b,this.translationService=T,this.reminders=[],this.reminderFrequencies=[],this.displayedColumns=["action","documentName","startDate","endDate","subject","message","frequency"],this.footerToDisplayed=["footer"],this.filterObservable$=new xt,this.reminderResource=new ai,this.reminderResource.pageSize=15,this.reminderResource.orderBy="startDate desc"}ngOnInit(){this.getReminderFrequency(),this.dataSource=new at(this.commonService),this.dataSource.loadData(this.reminderResource),this.sub$.sink=this.filterObservable$.pipe(ae(1e3),me()).subscribe(e=>{this.reminderResource.skip=0;let r=e.split(":");r[0]==="subject"?this.reminderResource.subject=escape(r[1]):r[0]==="message"?this.reminderResource.message=r[1]:r[0]==="frequency"&&(this.reminderResource.frequency=r[1]),this.dataSource.loadData(this.reminderResource)}),this.getResourceParameter()}ngAfterViewInit(){this.sub$.sink=this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.sub$.sink=ue(this.sort.sortChange,this.paginator.page).pipe(X(()=>{this.reminderResource.skip=this.paginator.pageIndex*this.paginator.pageSize,this.reminderResource.pageSize=this.paginator.pageSize,this.reminderResource.orderBy=this.sort.active+" "+this.sort.direction,this.dataSource.loadData(this.reminderResource)})).subscribe()}getResourceParameter(){this.sub$.sink=this.dataSource.responseHeaderSubject$.subscribe(e=>{e&&(this.reminderResource.pageSize=e.pageSize,this.reminderResource.skip=e.skip,this.reminderResource.totalCount=e.totalCount)})}getReminderFrequency(){this.sub$.sink=this.commonService.getReminderFrequency().subscribe(e=>this.reminderFrequencies=[...e])}closeDialog(){this.dialogRef.close()}deleteReminder(e){this.sub$.sink=this.commonDialogService.deleteConformationDialog(this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE")).subscribe(r=>{r&&this.commonService.deleteReminderCurrentUser(e.id).subscribe(()=>{this.toastrService.success(this.translationService.getValue("REMINDER_DELETED_SUCCESSFULLY")),this.dataSource.loadData(this.reminderResource)})})}onDetail(e){this.dialog.open(li,{data:e.id,width:"80vw"})}static{this.\u0275fac=function(r){return new(r||t)(D(te),D(G),D(ze),D(j),D(he),D(q))}}static{this.\u0275cmp=O({type:t,selectors:[["app-reminder-list"]],viewQuery:function(r,a){if(r&1&&(V(Q,5),V(Y,5)),r&2){let p;B(p=U())&&(a.paginator=p.first),B(p=U())&&(a.sort=p.first)}},features:[M],decls:41,vars:7,consts:[[1,"d-flex"],["mat-dialog-title","",1,"dialog-title"],["code","REMINDERS"],["mat-icon-button","",1,"close-button","ms-auto",3,"click"],["color","warn",1,"close-icon"],["mat-dialog-content",""],[1,"row"],[1,"col-sm-12"],[1,"table-responsive"],[1,"grid-height-reminder"],["mat-table","","matSort","","matSortActive","createdDate","matSortDirection","desc",3,"dataSource"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","documentName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","startDate"],["matColumnDef","endDate"],["matColumnDef","subject"],["matColumnDef","message"],["matColumnDef","frequency"],["matColumnDef","footer"],["mat-footer-cell","","colspan","7",4,"matFooterCellDef"],[4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-header-cell",""],["mat-cell",""],["type","button",1,"btn","btn-success","btn-sm",3,"click"],["name","eye",1,"small-icon"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],["name","trash",1,"small-icon"],["mat-header-cell","","mat-sort-header",""],["mat-footer-cell","","colspan","7"],[3,"length","pageSize","pageSizeOptions"],["colspan","7"],[1,"m-2"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(r,a){r&1&&(o(0,"div",0)(1,"span",1),l(2),c(3,"translate"),h(4,"app-page-help-text",2),n(),o(5,"button",3),g("click",function(){return a.closeDialog()}),o(6,"mat-icon",4),l(7,"close"),n()()(),o(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"table",10),E(14,11),_(15,ar,1,0,"th",12)(16,mr,6,0,"td",13),y(),E(17,14),_(18,lr,3,3,"th",15)(19,sr,2,1,"td",13),y(),E(20,16),_(21,cr,3,3,"th",15)(22,dr,3,4,"td",13),y(),E(23,17),_(24,pr,3,3,"th",15)(25,ur,3,4,"td",13),y(),E(26,18),_(27,_r,3,3,"th",15)(28,fr,3,4,"td",13),y(),E(29,19),_(30,hr,3,3,"th",15)(31,gr,3,4,"td",13),y(),E(32,20),_(33,vr,3,3,"th",15)(34,Cr,4,5,"td",13),y(),E(35,21),_(36,Dr,2,4,"td",22),y(),_(37,Sr,6,3,"tr",23)(38,xr,1,0,"tr",24)(39,Er,1,0,"tr",25)(40,yr,1,0,"tr",26),n()()()()()()),r&2&&(i(2),u(" ",d(3,5,"REMINDERS")," "),i(11),s("dataSource",a.dataSource),i(25),s("matHeaderRowDef",a.displayedColumns),i(),s("matRowDefColumns",a.displayedColumns),i(),s("matFooterRowDef",a.footerToDisplayed))},dependencies:[ne,ie,Le,ke,$e,Me,Ne,je,Oe,Ge,Ve,Ue,Be,He,Pe,qe,Ye,Y,Qe,Q,P,W,ge,ve,H,qt,Pt,Fe]})}}return t})();var mt=class{get data(){return this._data}set data(m){this._data=m}constructor(m){this.documentService=m,this.documentsSubject=new N([]),this.responseHeaderSubject=new N(null),this.loadingSubject=new N(!1),this.loading$=this.loadingSubject.asObservable(),this.responseHeaderSubject$=this.responseHeaderSubject.asObservable()}connect(m){return this.documentsSubject.asObservable()}disconnect(m){this.documentsSubject.complete(),this.loadingSubject.complete()}loadDocuments(m){this.loadingSubject.next(!0),this.documentService.getDocuments(m).pipe(K(()=>pe([])),_e(()=>this.loadingSubject.next(!1))).subscribe(e=>{let r=new Zt;r.pageSize=parseInt(e.headers.get("pageSize")),r.totalCount=parseInt(e.headers.get("totalCount")),r.skip=parseInt(e.headers.get("skip")),this.responseHeaderSubject.next(r),this._data=[...e.body],this._data.forEach(a=>a.location=a.location??"local"),this.documentsSubject.next(this._data)})}};var Ii=(()=>{class t{constructor(e,r){this.httpClient=e,this.commonHttpErrorService=r}getDocuments(e){let r="document/assignedDocuments",a=new At().set("fields",e.fields).set("orderBy",e.orderBy).set("pageSize",e.pageSize.toString()).set("skip",e.skip.toString()).set("searchQuery",e.searchQuery).set("categoryId",e.categoryId).set("name",e.name).set("metaTags",e.metaTags).set("location",e.location).set("id",e.id.toString()).set("clientId",e.clientId).set("statusId",e.statusId);return this.httpClient.get(r,{params:a,observe:"response"}).pipe(K(this.commonHttpErrorService.handleError))}getDocumentLibrary(e){return this.httpClient.get("document/"+e)}getDocumentViewLibrary(e){return this.httpClient.get("document/view/"+e)}static{this.\u0275fac=function(r){return new(r||t)(ct(Ft),ct(Gt))}}static{this.\u0275prov=Et({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Tr=["input"],Rr=["metatag"],Ir=()=>["/add"],wr=t=>({"margin-right.px":t}),Ar=t=>({"margin-left.px":t}),wi=t=>({color:t}),Fr=t=>["/document-details",t],Lr=(t,m)=>({"text-success":t,"text-danger":m}),Nr=()=>[10,20,30];function kr(t,m){t&1&&(o(0,"button",53),h(1,"i-feather",54),o(2,"span"),l(3),c(4,"translate"),n()()),t&2&&(s("routerLink",z(4,Ir)),i(3),u(" ",d(4,2,"ADD_DOCUMENT"),""))}function Or(t,m){if(t&1){let e=x();o(0,"a",55),g("click",function(){v(e);let a=f();return C(a.onReminderList())}),h(1,"i-feather",56),o(2,"span",57),l(3),c(4,"translate"),n()()}t&2&&(i(3),u(" ",d(4,1,"MY_REMINDERS"),""))}function Mr(t,m){if(t&1&&(o(0,"div")(1,"b"),l(2),n()()),t&2){let e=f().$implicit;i(2),u(" ",e.name,"")}}function Vr(t,m){if(t&1&&(o(0,"div"),l(1),n()),t&2){let e=f().$implicit;i(),u(" ",e.name," ")}}function Br(t,m){if(t&1&&(o(0,"ng-option",25)(1,"div",58),_(2,Mr,3,1,"div",59)(3,Vr,2,1,"div",59),n()()),t&2){let e=m.$implicit,r=f();s("value",e.id),i(),s("ngStyle",r.direction==="rtl"?A(4,wr,e.deafLevel*20):A(6,Ar,e.deafLevel*20)),i(),s("ngIf",!e.parentId),i(),s("ngIf",e.parentId)}}function Ur(t,m){if(t&1&&(o(0,"ng-option",25)(1,"span"),l(2),n()()),t&2){let e=m.$implicit;s("value",e.id),i(2),u(" ",e.companyName," ")}}function $r(t,m){if(t&1&&(o(0,"ng-option",25)(1,"span",60),l(2),n()()),t&2){let e=m.$implicit;s("value",e.id),i(),s("ngStyle",A(3,wi,e==null?null:e.colorCode)),i(),u(" ",e.name," ")}}function Gr(t,m){t&1&&(o(0,"th",61),l(1),c(2,"translate"),n()),t&2&&(i(),u("",d(2,1,"ACTION")," "))}function jr(t,m){if(t&1){let e=x();o(0,"button",69),g("click",function(){v(e);let a=f().$implicit,p=f();return C(p.editDocument(a))}),o(1,"mat-icon"),l(2,"edit"),n(),l(3),c(4,"translate"),n()}t&2&&(i(3),u(" ",d(4,1,"EDIT")," "))}function Hr(t,m){if(t&1){let e=x();o(0,"button",70),g("click",function(){v(e);let a=f().$implicit,p=f();return C(p.manageDocumentPermission(a))}),o(1,"mat-icon"),l(2,"share"),n(),l(3),c(4,"translate"),n()}t&2&&(i(3),u(" ",d(4,1,"SHARE")," "))}function qr(t,m){if(t&1){let e=x();o(0,"button",71),g("click",function(){v(e);let a=f().$implicit,p=f();return C(p.onCreateShareableLink(a))}),o(1,"mat-icon"),l(2," link"),n(),l(3),c(4,"translate"),n()}t&2&&(i(3),u(" ",d(4,1,"GET_SHAREABLE_LINK")," "))}function Pr(t,m){if(t&1){let e=x();o(0,"button",71),g("click",function(){v(e);let a=f().$implicit,p=f();return C(p.signDocument(a))}),o(1,"mat-icon"),l(2," draw"),n(),l(3),c(4,"translate"),n()}t&2&&(i(3),u(" ",d(4,1,"DOCUMENT_SIGNATURE")," "))}function Yr(t,m){if(t&1){let e=x();o(0,"button",71),g("click",function(){v(e);let a=f().$implicit,p=f();return C(p.generateSummary(a))}),o(1,"mat-icon"),l(2," memory"),n(),l(3),c(4,"translate"),n()}t&2&&(i(3),u(" ",d(4,1,"AI_POWERED_SUMMARY")," "))}function Qr(t,m){if(t&1){let e=x();o(0,"button",69),g("click",function(){v(e);let a=f(2).$implicit,p=f();return C(p.manageWorkflowInstance(a))}),o(1,"mat-icon"),l(2,"sync_alt"),n(),l(3),c(4,"translate"),n()}t&2&&(i(3),u(" ",d(4,1,"START_WORKFLOW")," "))}function Wr(t,m){t&1&&(E(0),_(1,Qr,5,3,"button",64),y()),t&2&&(i(),s("hasClaim","ASSIGNED_DOCUMENTS_START_WORKFLOW"))}function zr(t,m){if(t&1){let e=x();o(0,"button",71),g("click",function(){v(e);let a=f().$implicit,p=f();return C(p.watermarkDocument(a))}),o(1,"mat-icon"),l(2," branding_watermark"),n(),l(3),c(4,"translate"),n()}t&2&&(i(3),u(" ",d(4,1,"ADD_WATERMARK")," "))}function Jr(t,m){if(t&1&&(o(0,"button",72)(1,"mat-icon"),l(2,"info"),n(),l(3),c(4,"translate"),n()),t&2){let e=f().$implicit;s("routerLink",A(4,Fr,e.id)),i(3),u(" ",d(4,2,"DETAILS")," ")}}function Kr(t,m){if(t&1){let e=x();o(0,"button",70),g("click",function(){v(e);let a=f().$implicit,p=f();return C(p.uploadNewVersion(a))}),o(1,"mat-icon"),l(2,"upload"),n(),l(3),c(4,"translate"),n()}t&2&&(i(3),u(" ",d(4,1,"UPLOAD_NEW_VERSION_FILE")," "))}function Xr(t,m){if(t&1){let e=x();o(0,"button",71),g("click",function(){v(e);let a=f().$implicit,p=f();return C(p.onVersionHistoryClick(a))}),o(1,"mat-icon"),l(2," history"),n(),l(3),c(4,"translate"),n()}t&2&&(i(3),u(" ",d(4,1,"VERSION_HISTORY")," "))}function Zr(t,m){if(t&1){let e=x();o(0,"button",70),g("click",function(){v(e);let a=f().$implicit,p=f();return C(p.addComment(a))}),o(1,"mat-icon"),l(2," chat"),n(),l(3),c(4,"translate"),n()}t&2&&(i(3),u(" ",d(4,1,"COMMENT")," "))}function eo(t,m){if(t&1){let e=x();o(0,"button",70),g("click",function(){v(e);let a=f().$implicit,p=f();return C(p.addReminder(a))}),o(1,"mat-icon"),l(2,"notifications"),n(),l(3),c(4,"translate"),n()}t&2&&(i(3),u(" ",d(4,1,"ADD_REMINDER")," "))}function to(t,m){if(t&1){let e=x();o(0,"button",70),g("click",function(){v(e);let a=f().$implicit,p=f();return C(p.sendEmail(a))}),o(1,"mat-icon"),l(2,"forward_to_inbox"),n(),l(3),c(4,"translate"),n()}t&2&&(i(3),u(" ",d(4,1,"SEND_EMAIL")," "))}function io(t,m){if(t&1){let e=x();o(0,"button",70),g("click",function(){v(e);let a=f().$implicit,p=f();return C(p.archiveDocument(a))}),o(1,"mat-icon"),l(2,"archive"),n(),l(3),c(4,"translate"),n()}t&2&&(i(3),u(" ",d(4,1,"ARCHIVE")," "))}function no(t,m){if(t&1){let e=x();o(0,"button",70),g("click",function(){v(e);let a=f().$implicit,p=f();return C(p.deleteDocument(a))}),o(1,"mat-icon"),l(2,"delete"),n(),l(3),c(4,"translate"),n()}t&2&&(i(3),u(" ",d(4,1,"DELETE")," "))}function ro(t,m){if(t&1){let e=x();o(0,"button",74),g("click",function(){v(e);let a=f(2).$implicit,p=f();return C(p.addComment(a))}),o(1,"mat-icon"),l(2,"chat"),n()()}}function oo(t,m){t&1&&(E(0),_(1,ro,3,0,"button",73),y()),t&2&&(i(),s("hasClaim","ASSIGNED_DOCUMENTS_MANAGE_COMMENT"))}function ao(t,m){if(t&1){let e=x();o(0,"button",76),g("click",function(){v(e);let a=f(2).$implicit,p=f();return C(p.onVersionHistoryClick(a))}),o(1,"mat-icon"),l(2,"history"),n()()}}function mo(t,m){t&1&&(E(0),_(1,ao,3,0,"button",75),y()),t&2&&(i(),s("hasClaim","ASSIGNED_DOCUMENTS_VIEW_VERSION_HISTORY"))}function lo(t,m){if(t&1&&(o(0,"td",62)(1,"div",16)(2,"button",63)(3,"mat-icon"),l(4,"more_vert"),n()(),o(5,"mat-menu",null,2),_(7,jr,5,3,"button",64)(8,Hr,5,3,"button",65)(9,qr,5,3,"button",66)(10,Pr,5,3,"button",66)(11,Yr,5,3,"button",66)(12,Wr,2,1,"ng-container",59)(13,zr,5,3,"button",66)(14,Jr,5,6,"button",67)(15,Kr,5,3,"button",65)(16,Xr,5,3,"button",66)(17,Zr,5,3,"button",68)(18,eo,5,3,"button",68)(19,to,5,3,"button",68)(20,io,5,3,"button",65)(21,no,5,3,"button",65),n(),_(22,oo,2,1,"ng-container",59)(23,mo,2,1,"ng-container",59),n()()),t&2){let e=m.$implicit,r=w(6);i(2),s("matMenuTriggerFor",r),i(5),s("hasClaim","ASSIGNED_DOCUMENTS_EDIT_DOCUMENT"),i(),s("hasClaim","ASSIGNED_DOCUMENTS_SHARE_DOCUMENT"),i(),s("hasClaim","ASSIGNED_DOCUMENTS_MANAGE_SHARABLE_LINK"),i(),s("hasClaim","ASSIGN_ADD_SIGNATURE"),i(),s("hasClaim","ASSIGNED_DOC_GENERATE_SUMMARY"),i(),s("ngIf",!e.documentWorkflowId||e.isWorkflowCompleted),i(),s("hasClaim","ALL_DOC_WATERMARK"),i(),s("hasClaim","ASSIGNED_DOCUMENTS_VIEW_DETAIL"),i(),s("hasClaim","ASSIGNED_DOCUMENTS_UPLOAD_NEW_VERSION"),i(),s("hasClaim","ASSIGNED_DOCUMENTS_VIEW_VERSION_HISTORY"),i(),s("hasClaim","ASSIGNED_DOCUMENTS_MANAGE_COMMENT"),i(),s("hasClaim","ASSIGNED_DOCUMENTS_ADD_REMINDER"),i(),s("hasClaim","ASSIGNED_DOCUMENTS_SEND_EMAIL"),i(),s("hasClaim","ASSIGNED_DOCUMENTS_ARCHIVE_DOCUMENT"),i(),s("hasClaim","ASSIGNED_DOCUMENTS_DELETE_DOCUMENT"),i(),s("ngIf",e.commentCount>0),i(),s("ngIf",e.versionCount>0)}}function so(t,m){t&1&&(o(0,"th",77),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"WORKFLOW_NAME")," "))}function co(t,m){if(t&1){let e=x();o(0,"td",78)(1,"a",79),g("click",function(){let a=v(e).$implicit,p=f();return C(p.viewVisualWorkflow(a))}),o(2,"span",80),l(3),n()()()}if(t&2){let e=m.$implicit;i(2),s("ngClass",Rt(2,Lr,(e==null?null:e.documentWorkflowStatus)=="Completed",(e==null?null:e.documentWorkflowStatus)=="Cancelled")),i(),u(" ",e.workflowName," ")}}function po(t,m){t&1&&(o(0,"th",77),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"NAME")," "))}function uo(t,m){if(t&1){let e=x();o(0,"td",81)(1,"a",79),g("click",function(){let a=v(e).$implicit,p=f();return C(p.onDocumentView(a))}),l(2),n()()}if(t&2){let e=m.$implicit;i(2),S(e.name)}}function _o(t,m){t&1&&(o(0,"th",77),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"CATEGORY_NAME")," "))}function fo(t,m){if(t&1&&(o(0,"td",78),l(1),n()),t&2){let e=m.$implicit;i(),u(" ",e.categoryName," ")}}function ho(t,m){t&1&&(o(0,"th",77),l(1),c(2,"translate"),n()),t&2&&(i(),S(d(2,1,"STORAGE")))}function go(t,m){if(t&1&&(o(0,"td",78),l(1),c(2,"translate"),n()),t&2){let e=m.$implicit;i(),u(" ",d(2,1,e.location.toUpperCase())," ")}}function vo(t,m){t&1&&(o(0,"th",77),l(1),c(2,"translate"),n()),t&2&&(i(),S(d(2,1,"CLIENT")))}function Co(t,m){if(t&1&&(o(0,"td",78),l(1),c(2,"translate"),n()),t&2){let e=m.$implicit;i(),u(" ",d(2,1,e==null?null:e.companyName)," ")}}function Do(t,m){t&1&&(o(0,"th",77),l(1),c(2,"translate"),n()),t&2&&(i(),S(d(2,1,"STATUS")))}function So(t,m){if(t&1&&(o(0,"td",78)(1,"span",60),l(2),c(3,"translate"),n()()),t&2){let e=m.$implicit;i(),s("ngStyle",A(4,wi,e==null?null:e.colorCode)),i(),u(" ",d(3,2,e==null?null:e.statusName)," ")}}function xo(t,m){t&1&&(o(0,"th",77),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"CREATED_DATE")," "))}function Eo(t,m){if(t&1&&(o(0,"td",78),l(1),c(2,"utcToLocalTime"),n()),t&2){let e=m.$implicit;i(),u(" ",F(2,1,e==null?null:e.createdDate,"shortDate")," ")}}function yo(t,m){t&1&&(o(0,"th",61),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"EXPIRED_DATE")," "))}function bo(t,m){if(t&1&&(o(0,"td",82),l(1),c(2,"utcToLocalTime"),n()),t&2){let e=m.$implicit,r=f();i(),u(" ",F(2,1,r.getExpiryDate(e.maxRolePermissionEndDate,e.maxUserPermissionEndDate),"shortDate")," ")}}function To(t,m){t&1&&(o(0,"th",77),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"CREATED_BY")," "))}function Ro(t,m){if(t&1&&(o(0,"td",78),l(1),n()),t&2){let e=m.$implicit;i(),u(" ",e==null?null:e.createdByName," ")}}function Io(t,m){t&1&&(o(0,"th",61),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"SIGN_DATE")," "))}function wo(t,m){if(t&1&&(l(0),c(1,"utcToLocalTime")),t&2){let e=f().$implicit;u(" ",F(1,1,e==null?null:e.signDate,"shortDate")," ")}}function Ao(t,m){if(t&1&&(o(0,"td",78),_(1,wo,2,4),n()),t&2){let e=m.$implicit;i(),dt(e!=null&&e.signDate?1:-1)}}function Fo(t,m){t&1&&(o(0,"th",61),l(1),c(2,"translate"),n()),t&2&&(i(),u(" ",d(2,1,"SIGN_BY")," "))}function Lo(t,m){if(t&1&&(o(0,"span",83),h(1,"i-feather",84),n(),l(2)),t&2){let e=f().$implicit;i(2),u(" ",e==null?null:e.signByUserName," ")}}function No(t,m){if(t&1&&(o(0,"td",78),_(1,Lo,3,1),n()),t&2){let e=m.$implicit;i(),dt(e!=null&&e.signByUserName?1:-1)}}function ko(t,m){if(t&1&&(o(0,"td",85),h(1,"mat-paginator",86),n()),t&2){let e=f();i(),s("length",e.documentResource.totalCount)("pageSize",e.documentResource.pageSize)("pageSizeOptions",z(3,Nr))}}function Oo(t,m){t&1&&(o(0,"tr")(1,"td",87)(2,"div",88)(3,"b"),l(4),c(5,"translate"),n()()()()),t&2&&(i(4),u(" ",d(5,1,"NO_DATA_FOUND"),""))}function Mo(t,m){t&1&&h(0,"tr",89)}function Vo(t,m){t&1&&h(0,"tr",90)}function Bo(t,m){t&1&&h(0,"tr",91)}var Ai=(()=>{class t extends ${constructor(e,r,a,p,b,T,re,oe,lt,Fi){super(),this.documentLibraryService=e,this.overlay=r,this.clonerService=a,this.documentService=p,this.translationService=b,this.commonService=T,this.toastrService=re,this.dialog=oe,this.commonDialogService=lt,this.documentWorkflowService=Fi,this.documents=[],this.displayedColumns=["action","name","categoryName","createdDate","workflowName","location","companyName","statusName","expiredDate","createdBy","signDate","signByUserName"],this.footerToDisplayed=["footer"],this.selection=new Lt(!0,[]),this.documentStatusStore=k(tt),this.categoryStore=k(it),this.clientStore=k(et),this.documentResource=new Xt,this.documentResource.pageSize=10,this.documentResource.orderBy="createdDate desc"}ngOnInit(){this.dataSource=new mt(this.documentLibraryService),this.dataSource.loadDocuments(this.documentResource),this.getResourceParameter(),this.getLangDir()}getLangDir(){this.sub$.sink=this.translationService.lanDir$.subscribe(e=>this.direction=e)}ngAfterViewInit(){this.sub$.sink=this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),this.sub$.sink=ue(this.sort.sortChange,this.paginator.page).pipe(X(()=>{this.documentResource.skip=this.paginator.pageIndex*this.paginator.pageSize,this.documentResource.pageSize=this.paginator.pageSize,this.documentResource.orderBy=this.sort.active+" "+this.sort.direction,this.dataSource.loadDocuments(this.documentResource)})).subscribe(),this.sub$.sink=st(this.input.nativeElement,"keyup").pipe(ae(1e3),me(),X(()=>{this.paginator.pageIndex=0,this.documentResource.skip=0,this.documentResource.name=this.input.nativeElement.value,this.dataSource.loadDocuments(this.documentResource)})).subscribe(),this.sub$.sink=st(this.metatag.nativeElement,"keyup").pipe(ae(1e3),me(),X(()=>{this.paginator.pageIndex=0,this.documentResource.skip=0,this.documentResource.metaTags=this.metatag.nativeElement.value,this.dataSource.loadDocuments(this.documentResource)})).subscribe()}onCategoryChange(e){e?this.documentResource.categoryId=e:this.documentResource.categoryId="",this.documentResource.skip=0,this.paginator.pageIndex=0,this.dataSource.loadDocuments(this.documentResource)}onStorageChange(e){e?this.documentResource.location=e:this.documentResource.location="",this.documentResource.skip=0,this.paginator.pageIndex=0,this.dataSource.loadDocuments(this.documentResource)}onClientChange(e){e?this.documentResource.clientId=e:this.documentResource.clientId="",this.documentResource.skip=0,this.paginator.pageIndex=0,this.dataSource.loadDocuments(this.documentResource)}onDocumentStatusChange(e){e?this.documentResource.statusId=e:this.documentResource.statusId="",this.documentResource.skip=0,this.paginator.pageIndex=0,this.dataSource.loadDocuments(this.documentResource)}getResourceParameter(){this.sub$.sink=this.dataSource.responseHeaderSubject$.subscribe(e=>{e&&(this.documentResource.pageSize=e.pageSize,this.documentResource.skip=e.skip,this.documentResource.totalCount=e.totalCount)})}getDocuments(){this.sub$.sink=this.documentLibraryService.getDocuments(this.documentResource).subscribe(e=>{let r=JSON.parse(e.headers.get("X-Pagination"));this.documentResource.pageSize=r.pageSize,this.documentResource.skip=r.skip,this.documents=[...e.body]})}getExpiryDate(e,r){return e&&r?e>r?e:r:e||r||null}addReminder(e){this.dialog.open(Ti,{data:e,width:"80vw",maxHeight:"90vh"})}onReminderList(){this.dialog.open(Ri,{data:null,width:"80vw",maxHeight:"80vh"})}onAddDocument(){let e=this.dialog.open(ot,{data:null,width:"80vw",maxHeight:"80vh"});this.sub$.sink=e.afterClosed().subscribe(r=>{r&&this.dataSource.loadDocuments(this.documentResource)})}onDocumentView(e){let a=e.url.split(".")[1],p={documentId:e.id,name:e.name,extension:a,isVersion:!1,isFromPublicPreview:!1,isPreviewDownloadEnabled:!1,isFromFileRequest:!1};this.overlay.open(Ht,{position:"center",origin:"global",panelClass:["file-preview-overlay-container","white-background"],data:p})}addDocumentTrail(e,r){let a={documentId:e,operationName:r};this.sub$.sink=this.commonService.addDocumentAuditTrail(a).subscribe(()=>{})}addComment(e){let r=this.dialog.open(si,{width:"800px",maxHeight:"70vh",data:Object.assign({},e)});this.sub$.sink=r.afterClosed().subscribe(a=>{a&&this.dataSource.loadDocuments(this.documentResource)})}editDocument(e){let r={document:e,categories:this.categoryStore.categories(),clients:this.clientStore.clients()},a=this.dialog.open(di,{width:"700px",data:Object.assign({},r)});this.sub$.sink=a.afterClosed().subscribe(p=>{p==="loaded"&&this.dataSource.loadDocuments(this.documentResource)})}onVersionHistoryClick(e){let r=this.clonerService.deepClone(e);this.sub$.sink=this.documentService.getDocumentVersion(e.id).subscribe(a=>{r.documentVersions=a;let p=this.dialog.open(ci,{width:"70vw",maxHeight:"70vh",panelClass:"full-width-dialog",data:Object.assign({},r)});this.sub$.sink=p.afterClosed().subscribe(b=>{b&&this.dataSource.loadDocuments(this.documentResource)})})}manageDocumentPermission(e){this.dialog.open(pi,{data:e,width:"80vw",maxHeight:"80vh"})}uploadNewVersion(e){let r=this.dialog.open(ui,{width:"800px",maxHeight:"70vh",data:Object.assign({},e)});this.sub$.sink=r.afterClosed().subscribe(a=>{a&&this.dataSource.loadDocuments(this.documentResource)})}sendEmail(e){this.dialog.open(_i,{data:e,width:"80vw",maxHeight:"80vh"})}archiveDocument(e){this.sub$.sink=this.commonDialogService.deleteConformationDialog(this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_ARCHIVE"),e.name).subscribe(r=>{r&&(this.sub$.sink=this.documentService.archiveDocument(e.id).subscribe(()=>{this.addDocumentTrail(e.id,se.Archived.toString()),this.toastrService.success(this.translationService.getValue("DOCUMENT_ARCHIVED_SUCCESSFULLY")),this.dataSource.loadDocuments(this.documentResource)}))})}deleteDocument(e){this.dialog.open(fi,{width:"50vw",maxHeight:"70vh"}).afterClosed().subscribe(a=>{a&&(this.sub$.sink=this.documentService.deleteDocument(e.id).subscribe(()=>{this.addDocumentTrail(e.id,se.Deleted.toString()),this.toastrService.success(this.translationService.getValue("DOCUMENT_DELETED_SUCCESSFULLY")),this.dataSource.loadDocuments(this.documentResource)}))})}onCreateShareableLink(e){this.sub$.sink=this.documentService.getDocumentShareableLink(e.id).subscribe(r=>{this.dialog.open(hi,{width:"500px",data:{document:e,link:r}})})}manageWorkflowInstance(e){let r={document:e},a=this.dialog.open(vi,{width:"40vw",maxHeight:"70vh",data:Object.assign({},r)});this.sub$.sink=a.afterClosed().subscribe(p=>{p&&p?.workflowId&&this.dataSource.loadDocuments(this.documentResource)})}viewVisualWorkflow(e){this.documentWorkflowService.getRunningVisualWorkflow(e.documentWorkflowId).subscribe({next:r=>{r.documentId=e.id,r.documentName=e.name,this.dialog.open(Ci,{minWidth:"90vw",data:Object.assign({},r)})},error:r=>{}})}signDocument(e){this.dialog.open(Di,{width:"60vw",data:Object.assign({},e)}).afterClosed().subscribe(a=>{a&&this.dataSource.loadDocuments(this.documentResource)})}generateSummary(e){this.dialog.open(Si,{width:"60vw",data:Object.assign({},e)})}watermarkDocument(e){this.dialog.open(xi,{width:"500px",data:Object.assign({},e)}).afterClosed().subscribe(a=>{a&&(this.toastrService.success(this.translationService.getValue("WATERMARK_CREATED_SUCCESSFULLY")),this.dataSource.loadDocuments(this.documentResource))})}static{this.\u0275fac=function(r){return new(r||t)(D(Ii),D($t),D(jt),D(We),D(q),D(G),D(j),D(te),D(ze),D(gi))}}static{this.\u0275cmp=O({type:t,selectors:[["app-document-library-list"]],viewQuery:function(r,a){if(r&1&&(V(Q,5),V(Y,5),V(Tr,5),V(Rr,5)),r&2){let p;B(p=U())&&(a.paginator=p.first),B(p=U())&&(a.sort=p.first),B(p=U())&&(a.input=p.first),B(p=U())&&(a.metatag=p.first)}},features:[M],decls:96,vars:40,consts:[["input",""],["metatag",""],["menu","matMenu"],[1,"content"],[1,"content-block"],[1,"block-header"],[1,"breadcrumb-main"],[1,"row","align-items-center"],[1,"col"],[1,"page-title"],["code","ASSIGNED_DOCUMENTS"],[1,"col-auto"],[1,"breadcrumb-list"],[1,"breadcrumb-item","bcrumb-1"],["class","btn btn-success btn-sm m-r-10",3,"routerLink",4,"hasClaim"],["class","btn btn-danger btn-sm m-r-10 text-white",3,"click",4,"hasClaim"],[1,"row"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"body"],[1,"row","margin-2"],[1,"col-md-3"],[1,"form-control",3,"placeholder"],[3,"change","placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"table-responsive"],[1,"grid-height-small"],["mat-table","","matSort","","matSortActive","createdDate","matSortDirection","desc","matSortDisableClear","",1,"w-100",3,"dataSource"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["class","table-column-fix-100","mat-cell","",4,"matCellDef"],["matColumnDef","workflowName"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-cell","","class","doc-name",4,"matCellDef"],["matColumnDef","categoryName"],["matColumnDef","location"],["matColumnDef","companyName"],["matColumnDef","statusName"],["matColumnDef","createdDate"],["matColumnDef","expiredDate"],["class","text-danger","mat-cell","",4,"matCellDef"],["matColumnDef","createdBy"],["matColumnDef","signDate"],["matColumnDef","signByUserName"],["matColumnDef","footer"],["mat-footer-cell","","colspan","12",4,"matFooterCellDef"],[4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],[1,"btn","btn-success","btn-sm","m-r-10",3,"routerLink"],["name","Plus",1,"btn-success","small-icon"],[1,"btn","btn-danger","btn-sm","m-r-10","text-white",3,"click"],["name","list",1,"btn-danger","w-18","h-18"],[1,"d-none","d-sm-inline"],[1,"country-item",3,"ngStyle"],[4,"ngIf"],[3,"ngStyle"],["mat-header-cell",""],["mat-cell","",1,"table-column-fix-100"],["mat-icon-button","","aria-label","Action",3,"matMenuTriggerFor"],["mat-menu-item","","class","btn btn-light btn-sm",3,"click",4,"hasClaim"],["mat-menu-item","","class","btn btn-light btn-sm","type","button",3,"click",4,"hasClaim"],["mat-menu-item","",3,"click",4,"hasClaim"],["class","btn btn-light btn-sm","mat-menu-item","","type","button",3,"routerLink",4,"hasClaim"],["class","btn btn-light btn-sm","mat-menu-item","","type","button",3,"click",4,"hasClaim"],["mat-menu-item","",1,"btn","btn-light","btn-sm",3,"click"],["mat-menu-item","","type","button",1,"btn","btn-light","btn-sm",3,"click"],["mat-menu-item","",3,"click"],["mat-menu-item","","type","button",1,"btn","btn-light","btn-sm",3,"routerLink"],["mat-icon-button","","class","ms-2","aria-label","Comments",3,"click",4,"hasClaim"],["mat-icon-button","","aria-label","Comments",1,"ms-2",3,"click"],["mat-icon-button","","class","ms-2","aria-label","History",3,"click",4,"hasClaim"],["mat-icon-button","","aria-label","History",1,"ms-2",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"doc-link",3,"click"],[3,"ngClass"],["mat-cell","",1,"doc-name"],["mat-cell","",1,"text-danger"],[1,"bg-success","text-light"],["name","check",1,"small-icon"],["mat-footer-cell","","colspan","12"],[3,"length","pageSize","pageSizeOptions"],["colspan","10"],[1,"m-2"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(r,a){if(r&1){let p=x();o(0,"section",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"span",9),l(7),c(8,"translate"),h(9,"app-page-help-text",10),n()(),o(10,"div",11)(11,"ul",12)(12,"li",13),_(13,kr,5,5,"button",14)(14,Or,5,3,"a",15),n()()()()()(),o(15,"div",16)(16,"div",17)(17,"div",18)(18,"div",19)(19,"div",20)(20,"div",21),h(21,"input",22,0),c(23,"translate"),n(),o(24,"div",21),h(25,"input",22,1),c(27,"translate"),n(),o(28,"div",21)(29,"ng-select",23),c(30,"translate"),g("change",function(T){return v(p),C(a.onCategoryChange(T))}),_(31,Br,4,8,"ng-option",24),n()(),o(32,"div",21)(33,"ng-select",23),c(34,"translate"),g("change",function(T){return v(p),C(a.onStorageChange(T))}),o(35,"ng-option",25),l(36),c(37,"translate"),n(),o(38,"ng-option",25),l(39),c(40,"translate"),n()()(),o(41,"div",21)(42,"ng-select",23),c(43,"translate"),g("change",function(T){return v(p),C(a.onClientChange(T))}),_(44,Ur,3,2,"ng-option",24),n()(),o(45,"div",21)(46,"ng-select",23),c(47,"translate"),g("change",function(T){return v(p),C(a.onDocumentStatusChange(T))}),_(48,$r,3,5,"ng-option",24),n()()(),o(49,"div",16)(50,"div",8)(51,"div",26)(52,"div",27)(53,"table",28),E(54,29),_(55,Gr,3,3,"th",30)(56,lo,24,18,"td",31),y(),E(57,32),_(58,so,3,3,"th",33)(59,co,4,5,"td",34),y(),E(60,35),_(61,po,3,3,"th",33)(62,uo,3,1,"td",36),y(),E(63,37),_(64,_o,3,3,"th",33)(65,fo,2,1,"td",34),y(),E(66,38),_(67,ho,3,3,"th",33)(68,go,3,3,"td",34),y(),E(69,39),_(70,vo,3,3,"th",33)(71,Co,3,3,"td",34),y(),E(72,40),_(73,Do,3,3,"th",33)(74,So,4,6,"td",34),y(),E(75,41),_(76,xo,3,3,"th",33)(77,Eo,3,4,"td",34),y(),E(78,42),_(79,yo,3,3,"th",30)(80,bo,3,4,"td",43),y(),E(81,44),_(82,To,3,3,"th",33)(83,Ro,2,1,"td",34),y(),E(84,45),_(85,Io,3,3,"th",30)(86,Ao,2,1,"td",34),y(),E(87,46),_(88,Fo,3,3,"th",30)(89,No,2,1,"td",34),y(),E(90,47),_(91,ko,2,4,"td",48),y(),_(92,Oo,6,3,"tr",49)(93,Mo,1,0,"tr",50)(94,Vo,1,0,"tr",51)(95,Bo,1,0,"tr",52),n()()()()()()()()()()()}r&2&&(i(7),u("",d(8,22,"ASSIGNED_DOCUMENTS")," "),i(6),s("hasClaim","ASSIGNED_DOCUMENTS_CREATE_DOCUMENT"),i(),s("hasClaim","ASSIGNED_DOCUMENTS_ADD_REMINDER"),i(7),R("placeholder",d(23,24,"SEARCH_DOCUMENT_BY_NAME_OR_DESCRIPTION")),i(4),R("placeholder",d(27,26,"SEARCH_DOCUMENT_BY_META_TAGS")),i(4),R("placeholder",d(30,28,"SELECT_CATEGORY")),i(2),s("ngForOf",a.categoryStore.categories()),i(2),R("placeholder",d(34,30,"STORAGE")),i(2),s("value","local"),i(),S(d(37,32,"LOCAL")),i(2),s("value","s3"),i(),S(d(40,34,"S3")),i(3),R("placeholder",d(43,36,"SELECT_CLIENT")),i(2),s("ngForOf",a.clientStore.clients()),i(2),R("placeholder",d(47,38,"SELECT_STATUS")),i(2),s("ngForOf",a.documentStatusStore.statusList()),i(5),s("dataSource",a.dataSource),i(40),s("matHeaderRowDef",a.displayedColumns)("matHeaderRowDefSticky",!0),i(),s("matRowDefColumns",a.displayedColumns),i(),s("matFooterRowDef",a.footerToDisplayed)("matFooterRowDefSticky",!0))},dependencies:[wt,Z,ee,fe,Ce,ne,ie,Wt,Qt,zt,Le,ke,$e,Me,Ne,je,Oe,Ge,Ve,Ue,Be,He,Pe,qe,Ye,Y,Qe,Q,P,Ae,W,rt,nt,H,Fe]})}}return t})();var Uo=[{path:"",component:Ai},{path:"add",component:ot,data:{claimType:"ASSIGNED_DOCUMENTS_CREATE_DOCUMENT"},canActivate:[Kt]}],Cm=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=bt({type:t})}static{this.\u0275inj=yt({imports:[pt.forChild(Uo),pt]})}}return t})();export{Cm as a};
