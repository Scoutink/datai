import{e as Fe}from"./chunk-BA7IEC3F.js";import{b as Ne}from"./chunk-3NG6G7DU.js";import{a as Q}from"./chunk-DL4SMTXP.js";import{H as Le,I as Ce,J as xe,L as Se,M as Ie,O as Ee,P as be,R as Te,S as ye,U as Me,W as Ae,ea as De,ha as Y,ja as we}from"./chunk-H5SZDBVN.js";import"./chunk-XE6VZSAJ.js";import{a as q}from"./chunk-KX634QZQ.js";import"./chunk-3O3IKF6A.js";import{ia as he,ja as P}from"./chunk-TR4MAYT5.js";import{p as $,t as H}from"./chunk-AWIVOLPG.js";import"./chunk-J2LIJEQH.js";import{a as O}from"./chunk-AGIEFCW2.js";import"./chunk-F5F27R7A.js";import{D as ve,b as me,c as se,e as j,h as ce,i as ge,j as pe,l as b,o as de,p as ue,r as fe,u as _e}from"./chunk-6EN4EXPL.js";import{$b as _,B as X,Ba as F,Ca as N,Cb as u,Ea as y,Fc as s,Gb as g,Gc as c,J as Z,Jc as ne,Ka as R,Kd as le,La as k,Md as B,Nd as V,Pd as z,Qb as a,Rb as r,Sb as d,Ta as C,Tb as h,Ua as x,Ub as L,Wb as E,Zb as S,ba as ee,cc as M,cd as ae,dd as U,kc as A,lb as G,mc as m,nc as I,ob as n,oc as p,pb as v,pd as re,xd as oe,yc as D,zb as te,zc as ie}from"./chunk-SXJN2XK6.js";var T=(()=>{class e{constructor(t){this.httpClient=t}getDefaultLanguage(){return this.httpClient.get("defaultlanguage")}getLanguageById(t){let i=`languageById/${t}/`;return this.httpClient.get(i)}getLanguages(){return this.httpClient.get("languages")}saveLanguages(t){return this.httpClient.post("languages",t)}deleteLanguages(t){let i=`languages/${t}`;return this.httpClient.delete(i)}static{this.\u0275fac=function(i){return new(i||e)(y(oe))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var qe=()=>["/languages/manage/addItem"],Ye=e=>["/languages/manage",e];function Qe(e,o){e&1&&(a(0,"th",34),m(1),s(2,"translate"),r()),e&2&&(n(),p(" ",c(2,1,"ACTION")," "))}function ze(e,o){if(e&1){let t=E();a(0,"td",35)(1,"button",36),d(2,"i-feather",37),a(3,"span",14),m(4),s(5,"translate"),r()(),a(6,"button",38),S("click",function(){let l=C(t).$implicit,f=_();return x(f.deleteLanguage(l))}),d(7,"i-feather",39),a(8,"span",14),m(9),s(10,"translate"),r()()()}if(e&2){let t=o.$implicit;n(),g("routerLink",ie(7,Ye,t.id)),n(3),p(" ",c(5,3,"EDIT"),""),n(5),p(" ",c(10,5,"DELETE"),"")}}function Je(e,o){e&1&&(a(0,"th",40),m(1),s(2,"translate"),r()),e&2&&(n(),p(" ",c(2,1,"IMAGE")," "))}function We(e,o){if(e&1&&(h(0),d(1,"img",43),s(2,"translate"),L()),e&2){let t=_().$implicit;n(),M("alt",c(2,2,"IMAGE")),g("src",t.imageUrl,G)}}function Ke(e,o){e&1&&(d(0,"img",44),s(1,"translate")),e&2&&M("alt",c(1,1,"IMAGE"))}function Xe(e,o){if(e&1&&(a(0,"td",41),u(1,We,3,4,"ng-container",42)(2,Ke,2,3,"ng-template",null,0,ne),r()),e&2){let t=o.$implicit,i=A(3);n(),g("ngIf",t.imageUrl)("ngIfElse",i)}}function Ze(e,o){e&1&&(a(0,"th",40),m(1),s(2,"translate"),r()),e&2&&(n(),p(" ",c(2,1,"NAME")," "))}function et(e,o){if(e&1&&(a(0,"td",41),m(1),r()),e&2){let t=o.$implicit;n(),p(" ",t.name," ")}}function tt(e,o){e&1&&(a(0,"th",40),m(1),s(2,"translate"),r()),e&2&&(n(),p(" ",c(2,1,"CODE")," "))}function it(e,o){if(e&1&&(a(0,"td",41),m(1),r()),e&2){let t=o.$implicit;n(),p(" ",t.code," ")}}function nt(e,o){e&1&&(a(0,"th",40),m(1),s(2,"translate"),r()),e&2&&(n(),p(" ",c(2,1,"ORDER")," "))}function at(e,o){if(e&1&&(a(0,"td",41),m(1),r()),e&2){let t=o.$implicit;n(),p(" ",t.order," ")}}function rt(e,o){e&1&&(a(0,"th",40),m(1),s(2,"translate"),r()),e&2&&(n(),p(" ",c(2,1,"IS_RTL")," "))}function ot(e,o){e&1&&(h(0),m(1),s(2,"translate"),L()),e&2&&(n(),I(c(2,1,"YES")))}function lt(e,o){e&1&&(h(0),m(1),s(2,"translate"),L()),e&2&&(n(),I(c(2,1,"NO")))}function mt(e,o){if(e&1&&(a(0,"td",41),u(1,ot,3,3,"ng-container",45)(2,lt,3,3,"ng-container",45),r()),e&2){let t=o.$implicit;n(),g("ngIf",t.isRTL),n(),g("ngIf",!t.isRTL)}}function st(e,o){e&1&&d(0,"tr",46)}function ct(e,o){e&1&&d(0,"tr",47)}var ke=(()=>{class e extends he{constructor(t,i,l,f){super(),this.languagesService=t,this.commonDialogService=i,this.toastrService=l,this.translationService=f,this.languages=[],this.displayedColumns=["action","imageUrl","name","code","order","isRTL"]}ngOnInit(){this.getLanguages()}getLanguages(){this.languagesService.getLanguages().subscribe(t=>{this.languages=t,this.languages.forEach(i=>{i.imageUrl=`${O.apiUrl}${i.imageUrl}`})})}deleteLanguage(t){this.commonDialogService.deleteConformationDialog(this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE")).subscribe(i=>{i&&(this.sub$.sink=this.languagesService.deleteLanguages(t.id).subscribe(()=>{this.toastrService.success(this.translationService.getValue("LANGUAGE_DELETED_SUCCESSFULLY")),this.getLanguages()}))})}static{this.\u0275fac=function(i){return new(i||e)(v(T),v(De),v($),v(P))}}static{this.\u0275cmp=R({type:e,selectors:[["app-languages-list"]],features:[te],decls:45,vars:12,consts:[["noImage",""],[1,"content"],[1,"content-block"],[1,"block-header"],[1,"breadcrumb-main"],[1,"row","align-items-center"],[1,"col"],[1,"page-title"],["code","LANGUAGES"],[1,"col-auto"],[1,"breadcrumb-list"],[1,"breadcrumb-item","bcrumb-1"],[1,"btn","btn-success","btn-sm",3,"routerLink"],["name","Plus",1,"btn-success","small-icon"],[1,"d-none","d-sm-inline"],[1,"row"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"body"],[1,"table-responsive"],[1,"grid-height-large"],["mat-table","",3,"dataSource"],["matColumnDef","action"],["class","table-column-100","mat-header-cell","",4,"matHeaderCellDef"],["class","table-column-100","mat-cell","",4,"matCellDef"],["matColumnDef","imageUrl"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","code"],["matColumnDef","order"],["matColumnDef","isRTL"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"table-column-100"],["mat-cell","",1,"table-column-100"],["type","button",1,"btn","btn-success","btn-sm","m-r-5",3,"routerLink"],["name","edit",1,"small-icon"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],["name","trash",1,"small-icon"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf","ngIfElse"],[1,"img-thumbnail","product-thumbnail","my-2",3,"src","alt"],["src","assets/images/no-preview.jpg",1,"img-thumbnail","product-thumbnail","my-2",3,"alt"],[4,"ngIf"],["mat-header-row",""],["mat-row",""]],template:function(i,l){i&1&&(a(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"span",7),m(7),s(8,"translate"),d(9,"app-page-help-text",8),r()(),a(10,"div",9)(11,"ul",10)(12,"li",11)(13,"button",12),d(14,"i-feather",13),a(15,"span",14),m(16),s(17,"translate"),r()()()()()()()(),a(18,"div",15)(19,"div",16)(20,"div",17)(21,"div",18)(22,"div",19)(23,"div",20)(24,"table",21),h(25,22),u(26,Qe,3,3,"th",23)(27,ze,11,9,"td",24),L(),h(28,25),u(29,Je,3,3,"th",26)(30,Xe,4,2,"td",27),L(),h(31,28),u(32,Ze,3,3,"th",26)(33,et,2,1,"td",27),L(),h(34,29),u(35,tt,3,3,"th",26)(36,it,2,1,"td",27),L(),h(37,30),u(38,nt,3,3,"th",26)(39,at,2,1,"td",27),L(),h(40,31),u(41,rt,3,3,"th",26)(42,mt,3,2,"td",27),L(),u(43,st,1,0,"tr",32)(44,ct,1,0,"tr",33),r()()()()()()()()()),i&2&&(n(7),p("",c(8,7,"LANGUAGES")," "),n(6),g("routerLink",D(11,qe)),n(3),p(" ",c(17,9,"ADD_LANGUAGE"),""),n(8),g("dataSource",l.languages),n(19),g("matHeaderRowDef",l.displayedColumns)("matHeaderRowDefSticky",!0),n(),g("matRowDefColumns",l.displayedColumns))},dependencies:[U,V,Le,xe,be,Se,Ce,Te,Ie,Ee,ye,Me,q,Y,H],styles:[".product-thumbnail[_ngcontent-%COMP%]{max-height:30px}"]})}}return e})();var Ge=()=>["/languages"];function gt(e,o){e&1&&(a(0,"div",37),m(1),s(2,"translate"),r()),e&2&&(n(),p(" ",c(2,1,"REQUIRED_FIELD")," "))}function pt(e,o){if(e&1&&(a(0,"div"),u(1,gt,3,3,"div",36),r()),e&2){let t=_(2);n(),g("ngIf",t.languageForm.get("languageName").hasError("required"))}}function dt(e,o){e&1&&(a(0,"div",37),m(1),s(2,"translate"),r()),e&2&&(n(),p(" ",c(2,1,"REQUIRED_FIELD")," "))}function ut(e,o){if(e&1&&(a(0,"div"),u(1,dt,3,3,"div",36),r()),e&2){let t=_(2);n(),g("ngIf",t.languageForm.get("order").hasError("required"))}}function ft(e,o){if(e&1&&d(0,"img",38),e&2){let t=_(2);g("src",t.languageImgSrc,G)}}function _t(e,o){e&1&&d(0,"img",39)}function vt(e,o){if(e&1){let t=E();a(0,"a",40),S("click",function(){C(t),_();let l=A(26);return x(l.click())}),m(1),s(2,"translate"),r()}e&2&&(n(),p(" ",c(2,1,"ADD"),""))}function ht(e,o){if(e&1){let t=E();a(0,"a",40),S("click",function(){C(t),_();let l=A(26);return x(l.click())}),m(1),s(2,"translate"),r()}e&2&&(n(),p(" ",c(2,1,"CHANGE"),""))}function Lt(e,o){e&1&&(a(0,"div",37),m(1),s(2,"translate"),r()),e&2&&(n(),p(" ",c(2,1,"REQUIRED_FIELD")," "))}function Ct(e,o){if(e&1&&(a(0,"div"),u(1,Lt,3,3,"div",36),r()),e&2){let t=_().$implicit,i=_(2);n(),g("ngIf",i.languageForm.get(t).hasError("required"))}}function xt(e,o){if(e&1&&(a(0,"div",15)(1,"div",16)(2,"label"),m(3),r(),d(4,"input",41),u(5,Ct,2,1,"div",13),r()()),e&2){let t=o.$implicit,i=_(2);n(3),I(i.defaultLanguage[t]),n(),g("formControlName",t),n(),g("ngIf",i.languageForm.get(t).touched&&i.languageForm.get(t).errors)}}function St(e,o){if(e&1){let t=E();a(0,"div")(1,"form",14)(2,"div",5)(3,"div",15)(4,"div",16)(5,"label"),m(6),s(7,"translate"),r(),d(8,"input",17),u(9,pt,2,1,"div",13),r()(),a(10,"div",18)(11,"div",16)(12,"label"),m(13),s(14,"translate"),r(),d(15,"input",19),u(16,ut,2,1,"div",13),r()(),a(17,"div",18)(18,"div",16)(19,"div",20),d(20,"input",21),a(21,"label",22),m(22),s(23,"translate"),r()()()(),a(24,"div",18)(25,"input",23,0),s(27,"translate"),S("change",function(l){C(t);let f=_();return x(f.onProductImageSelect(l))}),r(),u(28,ft,1,1,"img",24)(29,_t,1,0,"img",25)(30,vt,3,3,"a",26)(31,ht,3,3,"a",26),r(),a(32,"div",27)(33,"div",28)(34,"div",29)(35,"button",30),S("click",function(){C(t);let l=_();return x(l.onLanguageSubmit())}),d(36,"i-feather",31),m(37),s(38,"translate"),r(),a(39,"button",32),d(40,"i-feather",33),m(41),s(42,"translate"),r()()()()(),a(43,"div",5),u(44,xt,6,3,"div",34),r(),a(45,"div",5)(46,"div",35)(47,"button",30),S("click",function(){C(t);let l=_();return x(l.onLanguageSubmit())}),d(48,"i-feather",31),m(49),s(50,"translate"),r(),a(51,"button",32),d(52,"i-feather",33),m(53),s(54,"translate"),r()()()()()}if(e&2){let t=_();n(),g("formGroup",t.languageForm),n(5),I(c(7,18,"NAME")),n(3),g("ngIf",t.languageForm.get("languageName").touched&&t.languageForm.get("languageName").errors),n(4),I(c(14,20,"ORDER")),n(3),g("ngIf",t.languageForm.get("order").touched&&t.languageForm.get("order").errors),n(6),I(c(23,22,"IS_RTL")),n(3),M("name",c(27,24,"IMAGE")),n(3),g("ngIf",t.languageImgSrc),n(),g("ngIf",!t.languageImgSrc),n(),g("ngIf",!t.languageImgSrc),n(),g("ngIf",t.languageImgSrc),n(6),p(" ",c(38,26,"SAVE")," "),n(2),g("routerLink",D(34,Ge)),n(2),p(" ",c(42,28,"CANCEL")," "),n(3),g("ngForOf",t.fields),n(5),p(" ",c(50,30,"SAVE")," "),n(2),g("routerLink",D(35,Ge)),n(2),p(" ",c(54,32,"CANCEL")," ")}}var W=(()=>{class e{constructor(t,i,l,f,K){this.languagesService=t,this.route=i,this.toastrService=l,this.translationService=f,this.router=K,this.fields=[],this.languageImgSrc=null,this.isLanguageImageUpload=!1}ngOnInit(){this.getLanguageFromRoute()}getLanguageFromRoute(){this.route.data.subscribe(t=>{t.language&&(t.language.imageUrl&&(this.languageImgSrc=`${O.apiUrl}${t.language.imageUrl}`),this.selectedLanguage=t.language),this.getDefaultLanguage()})}getDefaultLanguage(){this.languagesService.getDefaultLanguage().subscribe(t=>{this.defaultLanguage=t;let i={};i.languageName=new b(this.selectedLanguage?.name,[j.required]),i.order=new b(this.selectedLanguage?.order,[j.required]),i.isRTL=new b(this.selectedLanguage?.isRTL??!1),i.id=new b(this.selectedLanguage?.id??""),Object.keys(t).forEach(l=>{i[l]=new b("",[j.required]),this.fields.push(l)}),this.languageForm=new pe(i),this.selectedLanguage?this.languageForm.patchValue(JSON.parse(this.selectedLanguage.codes)):this.languageForm.patchValue(this.defaultLanguage)})}onProductImageSelect(t){let i=t.target.files[0];if(!i||i.type.match(/image\/*/)==null)return;let f=new FileReader;f.readAsDataURL(i),f.onload=K=>{this.languageImgSrc=f.result,this.isLanguageImageUpload=!0,t.target.value=""}}onLanguageSubmit(){if(this.languageForm.invalid){this.toastrService.error(this.translationService.getValue("PLEASE_ENTER_PROPER_DATA")),this.languageForm.markAllAsTouched();return}if(!this.selectedLanguage&&!this.isLanguageImageUpload){this.toastrService.error(this.translationService.getValue("ADD_IMAGE"));return}let t={};t.name=this.languageForm.get("languageName").value,t.id=this.languageForm.get("id").value,t.order=this.languageForm.get("order").value,t.code=this.languageForm.get("LANGUAGE").value,t.isRTL=this.languageForm.get("isRTL").value??!1,t.isLanguageImageUpload=this.isLanguageImageUpload,this.isLanguageImageUpload&&(t.languageImgSrc=this.languageImgSrc);let i={};Object.keys(this.defaultLanguage).forEach(l=>{try{i[l]=this.languageForm.get(l).value}catch{}}),t.codes=i,this.languagesService.saveLanguages(t).subscribe(l=>{this.toastrService.success(this.translationService.getValue("LANGUAGE_SAVED_SUCCESSFULLY"));try{window.location.reload()}catch{}this.router.navigate(["/languages"])})}static{this.\u0275fac=function(i){return new(i||e)(v(T),v(le),v($),v(P),v(B))}}static{this.\u0275cmp=R({type:e,selectors:[["app-manage-language"]],decls:16,vars:4,consts:[["fileInput",""],[1,"content"],[1,"content-block"],[1,"block-header"],[1,"breadcrumb-main"],[1,"row"],[1,"col-6"],[1,"mb-2"],[1,"page-title"],["code","LANGUAGES"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"body"],[4,"ngIf"],[3,"formGroup"],[1,"col-md-4"],[1,"form-group"],["type","text","formControlName","languageName",1,"form-control"],[1,"col-md-1"],["type","number","formControlName","order",1,"form-control"],[1,"form-check","mt-4"],["id","exampleCheck1","type","checkbox","formControlName","isRTL",1,"form-check-label"],["for","exampleCheck1",1,"p-l-20"],["hidden","","name","logo","type","file","fxFlex","30",3,"change","name"],["class","full-width img-fluid",3,"src",4,"ngIf"],["class","full-width img-fluid","src","assets/images/no-preview.jpg",4,"ngIf"],["type","button","class","m-t-5",3,"click",4,"ngIf"],[1,"col-md-5"],[1,"row","float-right"],[1,"mr-5"],["type","button",1,"btn","btn-success","btn-sm","m-r-10",3,"click"],["name","save",1,"small-icon"],["type","button",1,"btn","btn-danger","btn-sm",3,"routerLink"],["name","x-circle",1,"small-icon"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-12","mt-2"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"full-width","img-fluid",3,"src"],["src","assets/images/no-preview.jpg",1,"full-width","img-fluid"],["type","button",1,"m-t-5",3,"click"],["type","text",1,"form-control",3,"formControlName"]],template:function(i,l){i&1&&(a(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"span",8),m(8),s(9,"translate"),d(10,"app-page-help-text",9),r()()()()()(),a(11,"div",5)(12,"div",10)(13,"div",11)(14,"div",12),u(15,St,55,36,"div",13),r()()()()()()),i&2&&(n(8),p("",c(9,2,"MANAGE_LANGUAGE")," "),n(7),g("ngIf",l.languageForm))},dependencies:[ae,U,de,se,ue,me,ce,ge,fe,_e,V,q,Y,H]})}}return e})();var Ue=(()=>{class e{constructor(t,i){this.languageService=t,this.router=i}resolve(t,i){let l=t.paramMap.get("id");return l==="addItem"?null:this.languageService.getLanguageById(l).pipe(ee(1),Z(f=>f?X(f):(this.router.navigate(["/languages"]),null)))}static{this.\u0275fac=function(i){return new(i||e)(y(T),y(B))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var It=[{path:"",component:ke,canActivate:[Q],data:{claimType:"SETTING_MANAGE_LANGUAGE"}},{path:"add",component:W,data:{claimType:"SETTING_MANAGE_LANGUAGE"},canActivate:[Q]},{path:"manage/:id",component:W,resolve:{language:Ue},data:{claimType:"SETTING_MANAGE_LANGUAGE"},canActivate:[Q]}],Be=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=k({type:e})}static{this.\u0275inj=N({imports:[z.forChild(It),z]})}}return e})();var ei=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=k({type:e})}static{this.\u0275inj=N({imports:[re,ve,Be,we,Ae,Fe,Ne]})}}return e})();export{ei as LanguagesModule};
