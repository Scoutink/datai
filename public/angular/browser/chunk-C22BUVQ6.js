import{b as j}from"./chunk-SLA72EXZ.js";import{a as U}from"./chunk-5HUZTPPR.js";import{J as k}from"./chunk-VNAU6AHI.js";import{a as O}from"./chunk-YTVNRIZ3.js";import{C as E,D as I,G as _,H as x}from"./chunk-3XAX4OT5.js";import{ia as G}from"./chunk-NF46UI75.js";import{t as B}from"./chunk-SIUWMJOE.js";import{A as R,c as A,e as S,h as N,i as M,o as T,r as F,u as D}from"./chunk-TMWBOQE5.js";import{Ab as g,Ac as p,Ea as v,Kb as o,Lb as i,Mb as s,Tb as f,Zc as b,gc as a,hc as u,ib as t,ic as d,jb as c,tb as h,wb as y,za as C,zc as m}from"./chunk-EOQA7B6X.js";function P(r,q){r&1&&(o(0,"div")(1,"div",16),a(2),m(3,"translate"),i()()),r&2&&(t(2),d(" ",p(3,1,"CATEGORY_NAME_IS_REQUIRED")," "))}var oe=(()=>{class r extends G{constructor(e,n,l){super(),this.dialogRef=e,this.data=n,this.fb=l,this.isEdit=!1,this.categortStore=C(j),this.categoryForm=this.fb.group({id:[""],name:["",[S.required]],description:[""],parentId:[n?.parentId]}),this.data?.id&&(this.isEdit=!0,this.categoryForm.patchValue(this.data)),this.subscribeIsAddorUpdate()}onCancel(){this.dialogRef.close()}saveCategory(){if(this.categoryForm.invalid){this.categoryForm.markAllAsTouched();return}let e=this.categoryForm.value;e.id?this.categortStore.updateCategory(e):this.categortStore.addCategory(e)}subscribeIsAddorUpdate(){U(this.categortStore.isAddUpdate).subscribe(e=>{e&&this.dialogRef.close(e),this.categortStore.resetFlag()})}static{this.\u0275fac=function(n){return new(n||r)(c(E),c(I),c(R))}}static{this.\u0275cmp=v({type:r,selectors:[["app-manage-category"]],features:[h],decls:31,vars:18,consts:[[1,"d-flex"],["mat-dialog-title","",1,"dialog-title"],[3,"code"],["novalidate","",3,"formGroup"],[1,"row"],[1,"col-sm-12"],["for","categoryName",1,"form-label"],["formControlName","name","type","text","id","categoryName",1,"form-control"],[4,"ngIf"],["for","description",1,"form-label"],["formControlName","description","name","description","type","text",1,"form-control"],[1,"col-md-12","mt-3"],["type","submit",1,"btn","btn-success","btn-sm","m-r-10",3,"click"],["name","save",1,"small-icon"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],["name","x-circle",1,"small-icon"],[1,"text-danger"]],template:function(n,l){n&1&&(o(0,"div",0)(1,"span",1),a(2),m(3,"translate"),s(4,"app-page-help-text",2),i()(),o(5,"mat-dialog-content")(6,"form",3)(7,"div",4)(8,"div",5)(9,"label",6),a(10),m(11,"translate"),i(),s(12,"input",7),y(13,P,4,3,"div",8),i()(),o(14,"div",4)(15,"div",5)(16,"label",9),a(17),m(18,"translate"),i(),o(19,"textarea",10),a(20,"            "),i()()(),o(21,"div",4)(22,"div",11)(23,"button",12),f("click",function(){return l.saveCategory()}),s(24,"i-feather",13),a(25),m(26,"translate"),i(),o(27,"button",14),f("click",function(){return l.onCancel()}),s(28,"i-feather",15),a(29),m(30,"translate"),i()()()()()),n&2&&(t(2),d("",p(3,8,"MANAGE_DOCUMENT_CATEGORY")," "),t(2),g("code","DOCUMENT_CATEGORIES"),t(2),g("formGroup",l.categoryForm),t(4),u(p(11,10,"NAME")),t(3),g("ngIf",l.categoryForm.get("name").hasError("required")&&l.categoryForm.get("name").touched),t(4),u(p(18,12,"DESCRIPTION")),t(8),d(" ",p(26,14,"SAVE")," "),t(4),d(" ",p(30,16,"CANCEL")," "))},dependencies:[b,T,A,N,M,F,D,_,x,O,k,B]})}}return r})();export{oe as a};
