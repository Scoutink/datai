import{F as D,L as Y}from"./chunk-3XAX4OT5.js";import{ia as Q,ja as X,ka as tt,na as et,s as R}from"./chunk-NF46UI75.js";import{p as H,t as J,u as K}from"./chunk-SIUWMJOE.js";import{a as Z}from"./chunk-GTE6R5NX.js";import"./chunk-FGSJTZPD.js";import"./chunk-73F4PDV3.js";import{B as W,D as $,c as A,e as C,h as B,i as U,o as z,r as V,u as q}from"./chunk-TMWBOQE5.js";import{Ab as l,Ac as c,Ea as O,Fa as x,Gd as T,Hd as j,Jd as M,Kb as a,Lb as r,Mb as d,Sc as N,Tb as E,Vb as y,Zc as k,fb as S,fc as L,gc as p,hc as I,ib as i,ic as g,jb as s,jd as G,ob as P,sc as F,tb as w,wa as _,wb as f,zc as m}from"./chunk-EOQA7B6X.js";var st=()=>["/forgot-password"];function pt(t,u){if(t&1&&d(0,"div",28),t&2){let e=y();L("background-image: url(",e.bannerImage,");")}}function mt(t,u){t&1&&d(0,"div",29)}function ct(t,u){if(t&1&&d(0,"img",30),t&2){let e=y();l("src",e.logoImage,S)}}function dt(t,u){t&1&&d(0,"img",31)}function gt(t,u){t&1&&(a(0,"div",32),p(1),m(2,"translate"),r()),t&2&&(i(),g(" ",c(2,1,"EMAIL_IS_REQUIRED")," "))}function ut(t,u){t&1&&(a(0,"div",32),p(1),m(2,"translate"),r()),t&2&&(i(),g(" ",c(2,1,"PLEASE_ENTER_VALID_EMAIL")," "))}function ft(t,u){t&1&&(a(0,"div",32),p(1),m(2,"translate"),r()),t&2&&(i(),g(" ",c(2,1,"PASSWORD_IS_REQUIRED")," "))}var ot=(()=>{class t extends Q{constructor(e,n,o,h,v,b,rt,at,lt){super(),this.fb=e,this.router=n,this.securityService=o,this.toastr=h,this.translationService=v,this.commonService=b,this.renderer=rt,this.document=at,this.matDialogRef=lt,this.logoImage="",this.bannerImage="",this.companyProfileSubscription(),this.getLangDir()}ngOnInit(){this.matDialogRef.closeAll(),this.createFormGroup(),navigator.geolocation.getCurrentPosition(e=>{this.lat=e.coords.latitude,this.lng=e.coords.longitude})}getLangDir(){this.sub$.sink=this.translationService.lanDir$.subscribe(e=>{this.direction=e,this.direction=="rtl"?this.renderer.addClass(this.document.body,"rtl"):this.renderer.removeClass(this.document.body,"rtl")})}companyProfileSubscription(){this.securityService.companyProfile.subscribe(e=>{e&&(this.logoImage=e.logoUrl,this.bannerImage=e.bannerUrl)})}onLoginSubmit(){if(this.loginFormGroup.valid){let e={email:this.loginFormGroup.get("userName").value,password:this.loginFormGroup.get("password").value};this.sub$.sink=this.securityService.login(e).subscribe(n=>{n.isAuthenticated&&(this.getAllAllowFileExtension(),this.toastr.success(this.translationService.getValue("USER_LOGIN_SUCCESSFULLY")),this.securityService.hasClaim("dashboard_view_dashboard")?this.router.navigate(["/dashboard"]):this.router.navigate(["/"]))},n=>{this.toastr.error(n.error.message)})}else this.loginFormGroup.markAllAsTouched()}createFormGroup(){this.loginFormGroup=this.fb.group({userName:["",[C.required,C.email]],password:["",[C.required]]})}getAllAllowFileExtension(){this.commonService.getAllowFileExtensions().subscribe()}static{this.\u0275fac=function(n){return new(n||t)(s(W),s(T),s(Z),s(H),s(X),s(Y),s(P),s(N),s(D))}}static{this.\u0275cmp=O({type:t,selectors:[["app-login"]],features:[w],decls:45,vars:26,consts:[[1,"container-fluid","p-0",3,"dir"],[1,"row","g-0"],[1,"col-lg-8"],[1,"auth-bg"],["class","bg-overlay",3,"style",4,"ngIf"],["class","bg-overlay","style",'background-image: url("assets/images/login-image.png");',4,"ngIf"],[1,"col-lg-4"],[1,"auth-content","p-4","d-flex","align-items-center","min-vh-100"],[1,"w-100"],[1,"row","justify-content-center"],[1,"col-lg-9"],[1,"text-center"],[1,"m-b-10"],[1,"logo-full"],["alt","logo-full",3,"src",4,"ngIf"],["src","assets/images/logo.png","alt","logo-full",4,"ngIf"],[1,"text-muted"],[1,"p-2","mt-5"],[3,"submit","formGroup"],[1,"col-sm-12"],[1,"mb-3"],[1,"form-label"],["formControlName","userName","type","text",1,"form-control"],["class","text-danger",4,"ngIf"],["type","password","formControlName","password","type","password",1,"form-control"],[1,"col-sm-12","mb-3"],[1,"forget-password-btn",3,"routerLink"],["mat-flat-button","","color","primary","type","submit",1,"login100-form-btn","btn-sm"],[1,"bg-overlay"],[1,"bg-overlay",2,"background-image",'url("assets/images/login-image.png")'],["alt","logo-full",3,"src"],["src","assets/images/logo.png","alt","logo-full"],[1,"text-danger"]],template:function(n,o){if(n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),f(4,pt,1,3,"div",4)(5,mt,1,0,"div",5),r()(),a(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div")(12,"div",11)(13,"div",12)(14,"a",13),f(15,ct,1,1,"img",14),r(),a(16,"a",13),f(17,dt,1,0,"img",15),r()(),a(18,"p",16),p(19),m(20,"translate"),r()(),a(21,"div",17)(22,"form",18),E("submit",function(){return o.onLoginSubmit()}),a(23,"div",19)(24,"div",20)(25,"label",21),p(26),m(27,"translate"),r(),d(28,"input",22),f(29,gt,3,3,"div",23)(30,ut,3,3,"div",23),r()(),a(31,"div",19)(32,"div",20)(33,"label",21),p(34),m(35,"translate"),r(),d(36,"input",24),f(37,ft,3,3,"div",23),r()(),a(38,"div",25)(39,"a",26),p(40),m(41,"translate"),r(),a(42,"button",27),p(43),m(44,"translate"),r()()()()()()()()()()()()),n&2){let h,v,b;l("dir",o.direction),i(4),l("ngIf",o.bannerImage),i(),l("ngIf",!o.bannerImage),i(10),l("ngIf",o.logoImage),i(2),l("ngIf",!o.logoImage),i(2),g(" ",c(20,15,"LOGIN_TO_CONTINUE"),""),i(3),l("formGroup",o.loginFormGroup),i(4),I(c(27,17,"EMAIL")),i(3),l("ngIf",o.loginFormGroup.get("userName").touched&&((h=o.loginFormGroup.get("userName"))==null?null:h.hasError("required"))),i(),l("ngIf",o.loginFormGroup.get("userName").touched&&((v=o.loginFormGroup.get("userName"))==null?null:v.hasError("email"))),i(4),I(c(35,19,"PASSWORD")),i(3),l("ngIf",o.loginFormGroup.get("password").touched&&((b=o.loginFormGroup.get("password"))==null?null:b.hasError("required"))),i(2),l("routerLink",F(25,st)),i(),g("",c(41,21,"FORGOT_PASSWORD"),"?"),i(3),g(" ",c(44,23,"LOGIN")," ")}},dependencies:[k,j,z,A,B,U,V,q,tt,R,J],styles:[".auth-bg[_ngcontent-%COMP%]{height:100vh;background-size:cover;background-position:center}.auth-bg[_ngcontent-%COMP%]   .bg-overlay[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;inset:0;z-index:-1;background-color:#292626;background-repeat:no-repeat;background-size:cover;background-position:center;position:relative}@media (max-width: 991px){.auth-bg[_ngcontent-%COMP%]{display:none}}.auth-content[_ngcontent-%COMP%]{height:100vh;display:flex;background-color:#fff}.auth-form-group[_ngcontent-%COMP%]{position:relative}.auth-form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:60px;padding-left:60px;border-radius:5px}.auth-form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:7px;left:60px}.auth-form-group[_ngcontent-%COMP%]   .auth-page-icon[_ngcontent-%COMP%]{position:absolute;top:30px;transform:translateY(-50%);left:19px;font-size:24px;color:#6c757d}.auth-control[_ngcontent-%COMP%]::-webkit-input-placeholder{font-size:14px;line-height:3}.home-btn[_ngcontent-%COMP%]{position:absolute;top:15px;right:25px;z-index:9}.auth-user-name[_ngcontent-%COMP%]{font-size:19px;color:#403866;line-height:1.2;text-align:center;display:block;font-weight:600}.social-icon[_ngcontent-%COMP%]{text-align:center}.social-icon[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3c4858;border:1px solid #3c4858;display:inline-block;height:32px;width:32px;line-height:32px;text-align:center;transition:all .4s ease;overflow:hidden;position:relative}.social-icon[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#2f55d4;border-color:#2f55d4!important;color:#fff!important}.container-login100-form-btn[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:center}.login100-form-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:0 20px;width:100%;border-radius:10px;background:#6675df;font-family:Roboto,sans-serif;font-size:12px;color:#fff;line-height:1.2;letter-spacing:1px;cursor:pointer;transition:all .4s}.login100-form-btn[_ngcontent-%COMP%]:hover{background:#333}@media (max-width: 992px){.login100-form[_ngcontent-%COMP%]{width:100%;display:block;padding-left:30px;padding-right:30px}.login100-more[_ngcontent-%COMP%]{width:50%}.alert-validate[_ngcontent-%COMP%]:before{visibility:visible;opacity:1}}@media (max-width: 768px){.login100-form[_ngcontent-%COMP%]{width:100%;display:block}.login100-more[_ngcontent-%COMP%]{display:none}}@media (max-width: 576px){.login100-form[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px;padding-top:70px}}.forget-password-btn[_ngcontent-%COMP%]{float:right!important;margin-bottom:1rem}"]})}}return t})();var ht=[{path:"",component:ot}],nt=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=x({type:t})}static{this.\u0275inj=_({imports:[M.forChild(ht),M]})}}return t})();var zt=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=x({type:t})}static{this.\u0275inj=_({imports:[G,nt,$,K,et]})}}return t})();export{zt as LoginModule};
