import{a as W}from"./chunk-M3FQE2TU.js";import{J as q,K as H}from"./chunk-VNAU6AHI.js";import"./chunk-2GYG6N64.js";import{a as w,b as G}from"./chunk-YTVNRIZ3.js";import"./chunk-3XAX4OT5.js";import{ja as k}from"./chunk-NF46UI75.js";import{p as j,t as U,u as V}from"./chunk-SIUWMJOE.js";import"./chunk-GTE6R5NX.js";import"./chunk-FGSJTZPD.js";import"./chunk-73F4PDV3.js";import{A as B,D as L,c as F,e as f,h as O,i as D,o as R,r as N,u as y}from"./chunk-TMWBOQE5.js";import{Ab as u,Ac as m,Ea as I,Ed as A,Gd as b,Hd as M,Jd as C,Kb as r,Lb as i,Mb as d,Tb as h,Vb as _,Zc as g,gc as n,ib as t,ic as o,jb as c,jd as x,rc as E,sc as S,wb as v,zc as p}from"./chunk-EOQA7B6X.js";var z=()=>["/ai-template"];function J(e,T){e&1&&(r(0,"span",21),n(1),p(2,"translate"),d(3,"app-page-help-text",22),i()),e&2&&(t(),o("",m(2,1,"ADD_PROMPT_TEMPLATE")," "))}function K(e,T){e&1&&(r(0,"span",21),n(1),p(2,"translate"),d(3,"app-page-help-text",22),i()),e&2&&(t(),o("",m(2,1,"EDIT_PROMPT_TEMPLATE")," "))}function X(e,T){e&1&&(r(0,"div",11),n(1),p(2,"translate"),i()),e&2&&(t(),o(" ",m(2,1,"NAME_IS_REQUIRED")," "))}function Z(e,T){if(e&1&&(r(0,"div"),v(1,X,3,3,"div",23),i()),e&2){let a,l=_();t(),u("ngIf",(a=l.aiPromtTemplateForm.get("name").errors)==null?null:a.required)}}var Te=(()=>{class e{constructor(a,l,s,P,Y,Q){this.fb=a,this.route=l,this.router=s,this.toastrService=P,this.aIPromptTemplateService=Y,this.translationService=Q,this.isEditMode=!1}ngOnInit(){this.createAiPromptTemplateForm(),this.getAIPromptResolverData()}getAIPromptResolverData(){this.route.data.subscribe(a=>{a.aIPromptTemplate&&(this.isEditMode=!0,this.aiPromptTemplate=a.aIPromptTemplate,this.patchAiPromptTemplateData())})}addUpdateAiPromptTemplate(){this.aiPromtTemplateForm.valid&&(this.isEditMode?this.aIPromptTemplateService.updateAIPromptTemplate(this.createBuildObject()).subscribe(a=>{this.toastrService.success(this.translationService.getValue("AI_PROMPT_TEMPLATE_SAVE_SUCCESSFULLY")),this.router.navigate(["/ai-template"])}):this.aIPromptTemplateService.addAIPromptTemplate(this.createBuildObject()).subscribe(a=>{this.toastrService.success(this.translationService.getValue("AI_PROMPT_TEMPLATE_SAVE_SUCCESSFULLY")),this.router.navigate(["/ai-template"])}))}createBuildObject(){return{id:this.aiPromptTemplate?this.aiPromptTemplate.id:null,name:this.aiPromtTemplateForm.get("name").value,description:this.aiPromtTemplateForm.get("description").value,promptInput:this.aiPromtTemplateForm.get("promptInput").value,modifiedDate:new Date}}createAiPromptTemplateForm(){this.aiPromtTemplateForm=this.fb.group({id:[""],name:["",[f.required]],description:[""],promptInput:["",[f.required]]})}patchAiPromptTemplateData(){this.aiPromtTemplateForm.patchValue({name:this.aiPromptTemplate.name,description:this.aiPromptTemplate.description,promptInput:this.aiPromptTemplate.promptInput})}static{this.\u0275fac=function(l){return new(l||e)(c(B),c(A),c(b),c(j),c(W),c(k))}}static{this.\u0275cmp=I({type:e,selectors:[["app-template-openai"]],standalone:!0,features:[E],decls:44,vars:24,consts:[[1,"content"],[1,"container-fluid"],[1,"row","align-items-center"],[1,"col-md-6","mb-2"],["class","mb-0 page-title",4,"ngIf"],[1,"card"],[1,"body"],[3,"formGroup"],[1,"row"],[1,"col-sm-12"],[1,"form-group"],[1,"text-danger"],["formControlName","name","type","text",1,"form-control","form-control-sm"],[4,"ngIf"],["formControlName","description","type","text",1,"form-control","form-control-sm"],["formControlName","promptInput",1,"form-control","form-control-sm"],[1,"mt-2","col-md-12"],["cdkFocusInitial","",1,"btn","btn-success","btn-sm","me-2",3,"click"],["name","save",1,"small-icon"],["type","button",1,"btn","btn-danger","btn-sm",3,"routerLink"],["name","x-circle",1,"small-icon"],[1,"mb-0","page-title"],["code","PROMPT_TEMPLATE"],["class","text-danger",4,"ngIf"]],template:function(l,s){l&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),v(4,J,4,3,"span",4)(5,K,4,3,"span",4),i()(),r(6,"div",5)(7,"div",6)(8,"form",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"label",11),n(13),p(14,"translate"),i(),d(15,"input",12),v(16,Z,2,1,"div",13),i()()(),r(17,"div",8)(18,"div",9)(19,"div",10)(20,"label"),n(21),p(22,"translate"),i(),d(23,"input",14),i()()(),r(24,"div",8)(25,"div",9)(26,"div",10)(27,"label",11),n(28),p(29,"translate"),r(30,"span",11),n(31),p(32,"translate"),i()(),d(33,"textarea",15),i()()(),r(34,"div",8)(35,"div",16)(36,"button",17),h("click",function(){return s.addUpdateAiPromptTemplate()}),d(37,"i-feather",18),n(38),p(39,"translate"),i(),r(40,"button",19),d(41,"i-feather",20),n(42),p(43,"translate"),i()()()()()()()()),l&2&&(t(4),u("ngIf",!s.isEditMode),t(),u("ngIf",s.isEditMode),t(3),u("formGroup",s.aiPromtTemplateForm),t(5),o(" ",m(14,11,"NAME")," *"),t(3),u("ngIf",s.aiPromtTemplateForm.get("name").dirty&&s.aiPromtTemplateForm.get("name").errors),t(5),o("",m(22,13,"DESCRIPTION")," "),t(7),o(" ",m(29,15,"PROMPT_INPUT")," * "),t(3),o(" ",m(32,17,"WORD_MUST_BE_START_AND_END_WITH")," "),t(7),o(" ",m(39,19,"SAVE")," "),t(2),u("routerLink",S(23,z)),t(2),o(" ",m(43,21,"CANCEL")," "))},dependencies:[x,g,V,U,H,R,F,O,D,N,y,M,w,q,L,G,C]})}}return e})();export{Te as TemplateOpenaiComponent};
