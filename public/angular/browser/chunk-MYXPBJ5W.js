import{a as _t,b as ht,c as Tt,e as Mt,f as Ct,h as xt,i as It,k as bt,l as Dt,n as yt,o as Nt,p as Pt}from"./chunk-ZQ2PWCHX.js";import{a as ft,b as Et,c as vt}from"./chunk-UX7VFZY4.js";import{a as q}from"./chunk-DXCWD2WZ.js";import{E as dt,F as St,G as gt,J as $,K as ut}from"./chunk-VNAU6AHI.js";import"./chunk-2GYG6N64.js";import{a as G}from"./chunk-YTVNRIZ3.js";import"./chunk-3XAX4OT5.js";import{ia as U,ja as V}from"./chunk-NF46UI75.js";import{p as j,t as H}from"./chunk-SIUWMJOE.js";import"./chunk-GTE6R5NX.js";import{b as ct}from"./chunk-FGSJTZPD.js";import"./chunk-73F4PDV3.js";import{B as pt,D as st,c as it,e as T,h as nt,i as at,o as rt,p as ot,r as mt,u as lt}from"./chunk-TMWBOQE5.js";import{Ab as c,Ac as s,Ea as A,Ed as tt,Fa as R,Gd as et,Hd as O,Jd as Q,Kb as a,Lb as n,Mb as g,Na as I,Nb as E,Oa as b,Ob as v,Qb as D,S as M,Tb as y,Vb as _,Yb as J,Zc as k,gc as o,hc as f,ib as i,ic as d,jb as u,jd as X,rd as Z,sc as B,tb as w,tc as K,va as F,wa as L,wb as S,ya as x,zc as p}from"./chunk-EOQA7B6X.js";var C=(()=>{class t{constructor(e,r){this.httpClient=e,this.commonHttpErrorService=r}getEmailSMTPSettings(){return this.httpClient.get("emailSMTPSetting").pipe(M(this.commonHttpErrorService.handleError))}getEmailSMTPSetting(e){let r=`emailSMTPSetting/${e}`;return this.httpClient.get(r).pipe(M(this.commonHttpErrorService.handleError))}addEmailSMTPSetting(e){return this.httpClient.post("emailSMTPSetting",e).pipe(M(this.commonHttpErrorService.handleError))}updateEmailSMTPSetting(e){let r=`emailSMTPSetting/${e.id}`;return this.httpClient.put(r,e).pipe(M(this.commonHttpErrorService.handleError))}deleteEmailSMTPSetting(e){let r=`emailSMTPSetting/${e}`;return this.httpClient.delete(r).pipe(M(this.commonHttpErrorService.handleError))}static{this.\u0275fac=function(r){return new(r||t)(x(Z),x(ct))}}static{this.\u0275prov=F({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ht=()=>["/email-smtp/manage"],Vt=t=>["/email-smtp/manage",t];function Gt(t,m){t&1&&(a(0,"th",31),o(1),p(2,"translate"),n()),t&2&&(i(),d("",s(2,1,"ACTION")," "))}function $t(t,m){if(t&1){let e=D();a(0,"td",32)(1,"button",33),g(2,"i-feather",34),a(3,"span",13),o(4),p(5,"translate"),n()(),a(6,"button",35),y("click",function(){let l=I(e).$implicit,h=_();return b(h.deleteEmailSMTPSetting(l))}),g(7,"i-feather",36),a(8,"span",13),o(9),p(10,"translate"),n()()()}if(t&2){let e=m.$implicit;i(),c("routerLink",K(7,Vt,e.id)),i(3),d(" ",s(5,3,"EDIT"),""),i(5),d(" ",s(10,5,"DELETE"),"")}}function qt(t,m){t&1&&(a(0,"th",37),o(1),p(2,"translate"),n()),t&2&&(i(),d(" ",s(2,1,"HOST")," "))}function Yt(t,m){if(t&1&&(a(0,"td",38),o(1),n()),t&2){let e=m.$implicit;i(),d(" ",e.host," ")}}function Qt(t,m){t&1&&(a(0,"th",37),o(1),p(2,"translate"),n()),t&2&&(i(),d(" ",s(2,1,"USER_NAME"),""))}function Wt(t,m){if(t&1&&(a(0,"td",38),o(1),n()),t&2){let e=m.$implicit;i(),d(" ",e.userName," ")}}function zt(t,m){t&1&&(a(0,"th",37),o(1),p(2,"translate"),n()),t&2&&(i(),d("",s(2,1,"PORT")," "))}function Jt(t,m){if(t&1&&(a(0,"td",38),o(1),n()),t&2){let e=m.$implicit;i(),d(" ",e.port," ")}}function Kt(t,m){t&1&&(a(0,"th",37),o(1),p(2,"translate"),n()),t&2&&(i(),d(" ",s(2,1,"IS_DEFAULT")," "))}function Xt(t,m){t&1&&(E(0),o(1),p(2,"translate"),v()),t&2&&(i(),f(s(2,1,"YES")))}function Zt(t,m){t&1&&(E(0),o(1),p(2,"translate"),v()),t&2&&(i(),f(s(2,1,"NO")))}function te(t,m){if(t&1&&(a(0,"td",38),S(1,Xt,3,3,"ng-container",39)(2,Zt,3,3,"ng-container",39),n()),t&2){let e=m.$implicit;i(),c("ngIf",e.isDefault),i(),c("ngIf",!e.isDefault)}}function ee(t,m){t&1&&(a(0,"tr")(1,"td",40)(2,"div",41)(3,"b"),o(4),p(5,"translate"),n()()()()),t&2&&(i(4),d(" ",s(5,1,"NO_DATA_FOUND"),""))}function ie(t,m){t&1&&g(0,"tr",42)}function ne(t,m){t&1&&g(0,"tr",43)}var Ft=(()=>{class t extends U{constructor(e,r,l,h){super(),this.emailSmtpSettingService=e,this.commonDialogService=r,this.toastrService=l,this.translationService=h,this.emailSMTPSettings=[],this.displayedColumns=["action","userName","host","port","isDefault"]}ngOnInit(){this.getEmailSMTPSettings()}getEmailSMTPSettings(){this.sub$.sink=this.emailSmtpSettingService.getEmailSMTPSettings().subscribe(e=>{this.emailSMTPSettings=e})}deleteEmailSMTPSetting(e){this.sub$.sink=this.commonDialogService.deleteConformationDialog(this.translationService.getValue("ARE_YOU_SURE_YOU_WANT_TO_DELETE"),e.host).subscribe(r=>{r&&(this.sub$.sink=this.emailSmtpSettingService.deleteEmailSMTPSetting(e.id).subscribe(()=>{this.toastrService.success(this.translationService.getValue("EMAIL_SMTP_SETUP_DELETED_SUCCESSFULLY")),this.getEmailSMTPSettings()}))})}static{this.\u0275fac=function(r){return new(r||t)(u(C),u(gt),u(j),u(V))}}static{this.\u0275cmp=A({type:t,selectors:[["app-email-smtp-setting-list"]],features:[w],decls:42,vars:13,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[1,"breadcrumb-main"],[1,"row"],[1,"col","mb-2"],[1,"mb-0","page-title"],[3,"code"],[1,"col-auto"],[1,"breadcrumb-list"],[1,"breadcrumb-item","bcrumb-1"],[1,"btn","btn-sm","btn-success",3,"routerLink"],["name","Plus",1,"btn-success","small-icon"],[1,"d-none","d-sm-inline"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"body","table-responsive"],[1,"grid-height-large"],["mat-table","",3,"dataSource"],["matColumnDef","action"],["style","width:30%","mat-header-cell","",4,"matHeaderCellDef"],["style","width:30%","mat-cell","",4,"matCellDef"],["matColumnDef","host"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","userName"],["matColumnDef","port"],["matColumnDef","isDefault"],[4,"matNoDataRow"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",2,"width","30%"],["mat-cell","",2,"width","30%"],["type","button",1,"btn","btn-success","btn-sm","m-r-10",3,"routerLink"],["name","edit",1,"small-icon"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],["name","trash",1,"small-icon"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["colspan","5"],[1,"m-2"],["mat-header-row",""],["mat-row",""]],template:function(r,l){r&1&&(a(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"span",6),o(7),p(8,"translate"),n(),g(9,"app-page-help-text",7),n(),a(10,"div",8)(11,"ul",9)(12,"li",10)(13,"button",11),g(14,"i-feather",12),a(15,"span",13),o(16),p(17,"translate"),n()()()()()()()(),a(18,"div",4)(19,"div",14)(20,"div",15)(21,"div",16)(22,"div",17)(23,"table",18),E(24,19),S(25,Gt,3,3,"th",20)(26,$t,11,9,"td",21),v(),E(27,22),S(28,qt,3,3,"th",23)(29,Yt,2,1,"td",24),v(),E(30,25),S(31,Qt,3,3,"th",23)(32,Wt,2,1,"td",24),v(),E(33,26),S(34,zt,3,3,"th",23)(35,Jt,2,1,"td",24),v(),E(36,27),S(37,Kt,3,3,"th",23)(38,te,3,2,"td",24),v(),S(39,ee,6,3,"tr",28)(40,ie,1,0,"tr",29)(41,ne,1,0,"tr",30),n()()()()()()()()),r&2&&(i(7),f(s(8,8,"EMAIL_SMTP_SETTINGS")),i(2),c("code","EMAIL_SMTP_SETTINGS"),i(4),c("routerLink",B(12,Ht)),i(3),d(" ",s(17,10,"ADD_SMTP_SETTING"),""),i(7),c("dataSource",l.emailSMTPSettings),i(17),c("matHeaderRowDef",l.displayedColumns)("matHeaderRowDefSticky",!0),i(),c("matRowDefColumns",l.displayedColumns))},dependencies:[k,O,G,$,_t,Tt,It,Mt,ht,bt,Ct,xt,Dt,yt,Nt,H]})}}return t})();var ae=()=>["/email-smtp"];function re(t,m){t&1&&(a(0,"span",31),o(1),p(2,"translate"),g(3,"app-page-help-text",32),n()),t&2&&(i(),f(s(2,1,"ADD_EMAIL_SMTP_SETTING")))}function oe(t,m){t&1&&(a(0,"span",31),o(1),p(2,"translate"),g(3,"app-page-help-text",32),n()),t&2&&(i(),f(s(2,1,"EDIT_EMAIL_SMTP_SETTING")))}function me(t,m){t&1&&(a(0,"div",33),o(1),p(2,"translate"),n()),t&2&&(i(),d(" ",s(2,1,"HOST_IS_REQUIRED")," "))}function le(t,m){if(t&1&&(a(0,"div"),S(1,me,3,3,"div",24),n()),t&2){let e,r=_();i(),c("ngIf",(e=r.smtpSettingForm.get("host").errors)==null?null:e.required)}}function pe(t,m){t&1&&(a(0,"div",33),o(1),p(2,"translate"),n()),t&2&&(i(),d(" ",s(2,1,"PORT_IS_REQUIRED")," "))}function se(t,m){if(t&1&&(a(0,"div"),S(1,pe,3,3,"div",24),n()),t&2){let e,r=_();i(),c("ngIf",(e=r.smtpSettingForm.get("port").errors)==null?null:e.required)}}function ce(t,m){t&1&&(a(0,"div",33),o(1),p(2,"translate"),n()),t&2&&(i(),d(" ",s(2,1,"USER_NAME_IS_REQUIRED")," "))}function de(t,m){if(t&1&&(a(0,"div"),S(1,ce,3,3,"div",24),n()),t&2){let e,r=_();i(),c("ngIf",(e=r.smtpSettingForm.get("userName").errors)==null?null:e.required)}}function Se(t,m){t&1&&(a(0,"div",33),o(1),p(2,"translate"),n()),t&2&&(i(),d(" ",s(2,1,"PASSWORD_IS_REQUIRED")," "))}function ge(t,m){if(t&1&&(a(0,"div"),S(1,Se,3,3,"div",24),n()),t&2){let e,r=_();i(),c("ngIf",(e=r.smtpSettingForm.get("password").errors)==null?null:e.required)}}function ue(t,m){t&1&&(a(0,"div",33),o(1),p(2,"translate"),n()),t&2&&(i(),d(" ",s(2,1,"FROM_EMAIL_IS_REQUIRED")," "))}function fe(t,m){t&1&&(a(0,"div",33),o(1),p(2,"translate"),n()),t&2&&(i(),d(" ",s(2,1,"PLEASE_ENTER_VALID_EMAIL")," "))}function Ee(t,m){t&1&&(a(0,"span"),o(1),p(2,"translate"),n()),t&2&&(i(),d(" ",s(2,1,"IS_DEFAULT")," "))}function ve(t,m){t&1&&(a(0,"span"),o(1),p(2,"translate"),n()),t&2&&(i(),d(" ",s(2,1,"IS_DEFAULT")," "))}function _e(t,m){if(t&1){let e=D();E(0),a(1,"button",34),y("click",function(){I(e);let l=_();return b(l.saveEmailSMTPSetting())}),g(2,"i-feather",35),o(3),p(4,"translate"),n(),v()}t&2&&(i(3),d(" ",s(4,1,"TEST_AND_SAVE")," "))}function he(t,m){if(t&1){let e=D();E(0),a(1,"button",34),y("click",function(){I(e);let l=_();return b(l.saveEmailSMTPSetting())}),g(2,"i-feather",35),o(3),p(4,"translate"),n(),v()}t&2&&(i(3),d(" ",s(4,1,"TEST_AND_SAVE")," "))}var z=(()=>{class t extends U{constructor(e,r,l,h,P,At){super(),this.router=e,this.fb=r,this.activeRoute=l,this.emailSmtpSettingService=h,this.toastrService=P,this.translationService=At,this.isEditMode=!1}ngOnInit(){this.createEmailSMTPForm(),this.sub$.sink=this.activeRoute.data.subscribe(e=>{e.smtpSetting&&(this.isEditMode=!0,this.smtpSettingForm.patchValue(e.smtpSetting))})}createEmailSMTPForm(){this.smtpSettingForm=this.fb.group({id:[""],host:["",[T.required]],userName:["",[T.required]],password:["",[T.required]],encryption:["ssl"],fromEmail:["",[T.required,T.email]],fromName:[""],port:["",[T.required]],isDefault:[!1]})}saveEmailSMTPSetting(){if(this.smtpSettingForm.valid){let e=this.createBuildObject();this.isEditMode?this.sub$.sink=this.emailSmtpSettingService.updateEmailSMTPSetting(e).subscribe(()=>{this.toastrService.success(this.translationService.getValue("EMAIL_SMTP_SETTING_UPDATED_SUCCESSFULLY")),this.router.navigate(["/email-smtp"])}):this.sub$.sink=this.emailSmtpSettingService.addEmailSMTPSetting(e).subscribe(()=>{this.toastrService.success(this.translationService.getValue("EMAIL_SMTP_SETTING_CREATED_SUCCESSFULLY")),this.router.navigate(["/email-smtp"])})}else this.smtpSettingForm.markAllAsTouched()}createBuildObject(){return{id:this.smtpSettingForm.get("id").value,host:this.smtpSettingForm.get("host").value,userName:this.smtpSettingForm.get("userName").value,password:this.smtpSettingForm.get("password").value,encryption:this.smtpSettingForm.get("encryption").value,fromEmail:this.smtpSettingForm.get("fromEmail").value,fromName:this.smtpSettingForm.get("fromName").value,port:this.smtpSettingForm.get("port").value,isDefault:this.smtpSettingForm.get("isDefault").value}}static{this.\u0275fac=function(r){return new(r||t)(u(et),u(pt),u(tt),u(C),u(j),u(V))}}static{this.\u0275cmp=A({type:t,selectors:[["app-manage-email-smtp-setting"]],features:[w],decls:79,vars:46,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[1,"breadcrumb-main"],[1,"row"],[1,"col-md-6","mb-2"],["class","mb-0 page-title",4,"ngIf"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"body"],[3,"formGroup"],[1,"box","box-primary"],[1,"box-body"],[1,"col-md-3"],[1,"form-label"],["placeholder","smtp.example.com","formControlName","host","type","text",1,"form-control"],[4,"ngIf"],["formControlName","port","type","number",1,"form-control"],["formControlName","userName","type","text",1,"form-control"],["autocomplete","new-password","formControlName","password","type","password",1,"form-control"],["formControlName","encryption",3,"placeholder"],[3,"value"],[1,"form-group"],["formControlName","fromEmail","type","email",1,"form-control"],["class","text-danger",4,"ngIf"],["autocomplete","new-password","formControlName","fromName","type","text",1,"form-control"],[1,"col-md-4","status-switch"],["color","primary","formControlName","isDefault"],[1,"m-top-10","col-md-12"],["type","button",1,"btn","btn-danger","btn-sm",3,"routerLink"],["name","x-circle",1,"small-icon"],[1,"mb-0","page-title"],["code","MANAGE_EMAIL_SMTP_SETTING"],[1,"text-danger"],["cdkFocusInitial","",1,"btn","btn-success","btn-sm","m-r-10",3,"click"],["name","save",1,"small-icon"]],template:function(r,l){if(r&1&&(a(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),S(6,re,4,3,"span",6)(7,oe,4,3,"span",6),n()()()(),a(8,"div",4)(9,"div",7)(10,"div",8)(11,"div",9)(12,"form",10)(13,"div",11)(14,"div",12)(15,"div",4)(16,"div",13)(17,"label",14),o(18),p(19,"translate"),n(),g(20,"input",15),S(21,le,2,1,"div",16),n(),a(22,"div",13)(23,"label",14),o(24),p(25,"translate"),n(),g(26,"input",17),S(27,se,2,1,"div",16),n(),a(28,"div",13)(29,"label",14),o(30),p(31,"translate"),n(),g(32,"input",18),S(33,de,2,1,"div",16),n(),a(34,"div",13)(35,"label",14),o(36),p(37,"translate"),n(),g(38,"input",19),S(39,ge,2,1,"div",16),n(),a(40,"div",13)(41,"label",14),o(42),p(43,"translate"),n(),a(44,"ng-select",20),p(45,"translate"),a(46,"ng-option",21),o(47," None "),n(),a(48,"ng-option",21),o(49," ssl "),n(),a(50,"ng-option",21),o(51," tls "),n(),a(52,"ng-option",21),o(53," starttls "),n()()(),a(54,"div",13)(55,"div",22)(56,"label",14),o(57),p(58,"translate"),n(),g(59,"input",23),S(60,ue,3,3,"div",24)(61,fe,3,3,"div",24),n()(),a(62,"div",13)(63,"label",14),o(64),p(65,"translate"),n(),g(66,"input",25),n(),a(67,"div",26)(68,"div",22)(69,"mat-slide-toggle",27),S(70,Ee,3,3,"span",16)(71,ve,3,3,"span",16),n()()(),a(72,"div",28),S(73,_e,5,3,"ng-container",16)(74,he,5,3,"ng-container",16),a(75,"button",29),g(76,"i-feather",30),o(77),p(78,"translate"),n()()()()()()()()()()()()),r&2){let h,P;i(6),c("ngIf",!l.isEditMode),i(),c("ngIf",l.isEditMode),i(5),c("formGroup",l.smtpSettingForm),i(6),d(" ",s(19,27,"HOST"),""),i(3),c("ngIf",l.smtpSettingForm.get("host").touched&&l.smtpSettingForm.get("host").errors),i(3),d(" ",s(25,29,"PORT"),""),i(3),c("ngIf",l.smtpSettingForm.get("port").touched&&l.smtpSettingForm.get("port").errors),i(3),f(s(31,31,"USER_NAME")),i(3),c("ngIf",l.smtpSettingForm.get("userName").touched&&l.smtpSettingForm.get("userName").errors),i(3),f(s(37,33,"PASSWORD")),i(3),c("ngIf",l.smtpSettingForm.get("password").touched&&l.smtpSettingForm.get("password").errors),i(3),f(s(43,35,"ENCRYPTION")),i(2),J("placeholder",s(45,37,"ENCRYPTION")),i(2),c("value",""),i(2),c("value","ssl"),i(2),c("value","tls"),i(2),c("value","starttls"),i(5),f(s(58,39,"FROM_EMAIL")),i(3),c("ngIf",l.smtpSettingForm.get("fromEmail").touched&&((h=l.smtpSettingForm.get("fromEmail"))==null?null:h.hasError("required"))),i(),c("ngIf",l.smtpSettingForm.get("fromEmail").touched&&((P=l.smtpSettingForm.get("fromEmail"))==null?null:P.hasError("email"))),i(3),f(s(65,41,"FROM_NAME")),i(6),c("ngIf",l.smtpSettingForm.get("isDefault").value),i(),c("ngIf",!l.smtpSettingForm.get("isDefault").value),i(2),c("ngIf",l.isEditMode),i(),c("ngIf",!l.isEditMode),i(),c("routerLink",B(45,ae)),i(2),d(" ",s(78,43,"CANCEL")," ")}},dependencies:[k,rt,it,ot,nt,at,mt,lt,O,dt,G,$,Et,ft,H]})}}return t})();var Y=(()=>{class t{constructor(e){this.emailSmtpSettingService=e}resolve(e,r){let l=e.paramMap.get("id");return this.emailSmtpSettingService.getEmailSMTPSetting(l)}static{this.\u0275fac=function(r){return new(r||t)(x(C))}}static{this.\u0275prov=F({token:t,factory:t.\u0275fac})}}return t})();var Te=[{path:"",component:Ft,canActivate:[q],data:{claimType:"EMAIL_MANAGE_SMTP_SETTINGS"}},{path:"manage/:id",component:z,resolve:{smtpSetting:Y},canActivate:[q],data:{claimType:"EMAIL_MANAGE_SMTP_SETTINGS"}},{path:"manage",component:z,canActivate:[q],data:{claimType:"EMAIL_MANAGE_SMTP_SETTINGS"}}],Lt=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=R({type:t})}static{this.\u0275inj=L({imports:[Q.forChild(Te),Q]})}}return t})();var ti=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=R({type:t})}static{this.\u0275inj=L({providers:[Y],imports:[X,ut,st,Lt,Pt,St,vt]})}}return t})();export{ti as EmailSmtpSettingModule};
