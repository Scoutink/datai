import{gA as E,gB as I,g4 as O,gC as R,gz as T,gD as S,g5 as D,gE as j}from"./index-BI8deSNo.js";function q(p){for(var s,o,f=[],l=1;l<arguments.length;l++)f[l-1]=arguments[l];var b=(s=E(f))!==null&&s!==void 0?s:I,g=(o=f[0])!==null&&o!==void 0?o:null,w=f[1]||1/0;return O(function(B,a){var e=[],c=!1,m=function(n){var r=n.buffer,u=n.subs;u.unsubscribe(),R(e,n),a.next(r),c&&h()},h=function(){if(e){var n=new T;a.add(n);var r=[],u={buffer:r,subs:n};e.push(u),S(n,b,function(){return m(u)},p)}};g!==null&&g>=0?S(a,b,h,g,!0):c=!0,h();var i=D(a,function(n){var r,u,z=e.slice();try{for(var v=j(z),t=v.next();!t.done;t=v.next()){var d=t.value,x=d.buffer;x.push(n),w<=x.length&&m(d)}}catch(A){r={error:A}}finally{try{t&&!t.done&&(u=v.return)&&u.call(v)}finally{if(r)throw r.error}}},function(){for(;e?.length;)a.next(e.shift().buffer);i?.unsubscribe(),a.complete(),a.unsubscribe()},void 0,function(){return e=null});B.subscribe(i)})}export{q as b};
